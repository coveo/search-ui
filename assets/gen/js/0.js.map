{"version":3,"sources":["./src/ui/RelevanceInspector/RelevanceInspector.ts","./src/ui/RelevanceInspector/TableBuilder.ts","./src/ui/RelevanceInspector/ExecutionReport.ts","./src/ui/RelevanceInspector/GenericValueOutput.ts","./src/ui/RelevanceInspector/ExecutionReportGenericSection.ts","./src/ui/RelevanceInspector/RankingInfoParser.ts","./src/ui/RelevanceInspector/ExecutionReportSimpleSection.ts","./src/ui/RelevanceInspector/RankingInfoTable.ts","./src/ui/RelevanceInspector/AgGrid.ts","./src/ui/ResultLink/ResultLink.ts","webpack:///./sass/_ResultLink.scss?c2f1","./sass/_ResultLink.scss","./src/ui/ResultLink/ResultLinkCommon.ts","./src/ui/RelevanceInspector/MetaDataTable.ts","./src/ui/RelevanceInspector/RelevanceInspectorTabs.ts","webpack:///./sass/_RelevanceInspector.scss?0993","./sass/_RelevanceInspector.scss","./src/ui/RelevanceInspector/ExecutionReportAuthenticationSection.ts","./src/ui/RelevanceInspector/ExecutionReportResolvedPipelineSection.ts","./src/ui/RelevanceInspector/ExecutionReportQueryOverrideSection.ts","./src/ui/RelevanceInspector/ExecutionReportEffectiveIndexQuerySection.ts","./src/ui/RelevanceInspector/ExecutionReportRankingModifiers.ts","./src/ui/RelevanceInspector/ExecutionReportITDSection.ts","./src/ui/RelevanceInspector/AvailableFieldsTable.ts","./src/ui/RelevanceInspector/InlineRankingInfo.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,kDAAsD;AACtD,+CAAgD;AAGhD,mCAAqC;AACrC,oDAAqD;AACrD,qCAAiF;AACjF,wDAAkE;AAClE,yBAAqC;AACrC,iDAAoD;AACpD,sDAA8D;AAE9D,0CAAsC;AAEtC,mDAAwD;AAUxD;IAME,4BAAmB,OAAoB,EAAS,QAA4B;QAA5E,iBAYC;QAZkB,YAAO,GAAP,OAAO,CAAa;QAAS,aAAQ,GAAR,QAAQ,CAAoB;QALpE,WAAM,GAAG,KAAK,CAAC;QAGf,mBAAc,GAAG,8BAAQ,CAAC;QAGhC,QAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;QAC7C,QAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,wCAAwC,CAAC,CAAC;QACpE,QAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE,CACvB,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,YAAY,CAAC,sBAAe,CAAC,UAAU,CAAC,SAAS,GAAG,sBAAe,CAAC,cAAc,CAAC,KAAK,CAAC,EACvH,UAAC,CAAC,EAAE,IAA+B,IAAK,YAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,EAAhC,CAAgC,CACzE,CAAC;QACF,QAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,cAAM,YAAI,CAAC,IAAI,EAAE,EAAX,CAAW,CAAC,CAAC;QAChD,QAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,uBAAgB,CAAC,kBAAkB,EAAE,UAAC,CAAC,EAAE,IAAkC;YACnG,YAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC;QAAnC,CAAmC,CACpC,CAAC;QACF,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,GAAG,CAAC,sBAAe,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;IACtG,CAAC;IAED,sBAAW,wCAAQ;aAAnB;YACE,OAAO,IAAI,CAAC,cAAc,CAAC;QAC7B,CAAC;aAED,UAAoB,cAAc;YAChC,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACvC,CAAC;;;OAJA;IAMM,iCAAI,GAAX;QACE,QAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;IAC5C,CAAC;IAEM,iCAAI,GAAX;QACE,QAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;IAC/C,CAAC;IAEY,iCAAI,GAAjB;;;;;;wBACE,IAAI,IAAI,CAAC,MAAM,EAAE;4BACf,sBAAO;yBACR;wBACD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;wBAEb,OAAO,GAAG,QAAE,CAAC,KAAK,CAAC,CAAC;wBACpB,SAAS,GAAG,eAAQ,CAAC,wBAAwB,EAAE,CAAC;wBACtD,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;wBAC1B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;wBACxC,qBAAM,IAAI,CAAC,SAAS,EAAE;;wBAA7B,IAAI,GAAG,SAAsB;wBACnC,IAAI,IAAI,EAAE;4BACR,SAAS,CAAC,MAAM,EAAE,CAAC;4BACnB,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;yBACzB;6BAAM;4BACL,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;yBACvB;;;;;KACF;IAEO,qDAAwB,GAAhC,UAAiC,IAAkC;QACjE,IAAI,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,GAAG,CAAC,sBAAe,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;YAC3E,QAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,gCAAgC,CAAC,CAAC;YACzD,IAAI,QAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,oBAAoB,CAAC,EAAE;gBAChD,QAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,qCAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;aACrE;iBAAM;gBACL,QAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,qCAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;aACtE;SACF;IACH,CAAC;IAED,sBAAY,+CAAe;aAA3B;YAAA,iBAaC;YAZC,OAAO;gBACL,KAAK,EAAE,qBAAqB;gBAC5B,UAAU,EAAE,KAAK;gBACjB,YAAY,EAAE,IAAI;gBAClB,OAAO,EAAE,KAAK;gBACd,SAAS,EAAE,2BAA2B;gBACtC,UAAU,EAAE;oBACV,KAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oBACpB,OAAO,IAAI,CAAC;gBACd,CAAC;gBACD,IAAI,EAAE,QAAQ,CAAC,sBAAsB,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC,CAAC,8DAA8D;aAChI,CAAC;QACJ,CAAC;;;OAAA;IAEO,4CAAe,GAAvB,UAAwB,UAAkB;QACxC,UAAU,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;QAC5C,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;IACxB,CAAC;IAEa,sCAAS,GAAvB;;;;;;;wBACQ,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,cAAc,EAAE,CAAC,OAAO,CAAC;wBAC3E,IAAI,CAAC,WAAW,IAAI,WAAW,CAAC,MAAM,IAAI,CAAC,EAAE;4BAC3C,IAAI,aAAM,CAAC,IAAI,CAAC,CAAC,KAAK,CACpB,8GAA8G,EAC9G,WAAW,CACZ,CAAC;4BACF,sBAAO;yBACR;wBACD,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE;4BAC/B,IAAI,aAAM,CAAC,IAAI,CAAC,CAAC,KAAK,CACpB,6IAA6I,EAC7I,WAAW,CACZ,CAAC;4BACF,sBAAO;yBACR;wBAEK,SAAS,GAAG,QAAE,CAAC,KAAK,CAAC,CAAC;wBAEtB,gBAAgB,GAAG,IAAI,mCAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;wBACpE,aAAa,GAAG,IAAI,6BAAa,CAAC,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;wBAC9D,eAAe,GAAG,IAAI,iCAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,cAAc,EAAE,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;wBACrG,eAAe,GAAG,IAAI,2CAAoB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;wBAEhE,IAAI,CAAC,IAAI,GAAG;4BACV,6BAA6B,EAAE,gBAAgB;4BAC/C,0BAA0B,EAAE,aAAa;4BACzC,iCAAiC,EAAE,eAAe;4BAClD,iCAAiC,EAAE,eAAe;yBACnD,CAAC;wBAEI,aAAa,GAAG,IAAI,+CAAsB,CAAC,sBAAY;4BAC3D,KAAI,CAAC,SAAS,GAAG,YAAY,CAAC;4BAC9B,KAAI,CAAC,MAAM,EAAE,CAAC;wBAChB,CAAC,CAAC,CAAC;wBAEG,eAAe,GAAG,qBAAQ,CAAC,cAAM,YAAI,CAAC,MAAM,EAAE,EAAb,CAAa,EAAE,GAAG,CAAC,CAAC;wBAE3D,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,eAAe,CAAC,CAAC;wBAEnD,wBAAa,EAAC,UAAU;8BAAC,qBAAqB;wBAAE,qBAAM,gBAAgB,CAAC,KAAK,EAAE;;wBAA9E,wBAAgD,SAA8B,EAAE,+BAA+B,GAAC,CAAC;wBACjH,wBAAa,EAAC,UAAU;8BAAC,UAAU;wBAAE,qBAAM,aAAa,CAAC,KAAK,EAAE;;wBAAhE,wBAAqC,SAA2B,EAAE,4BAA4B,GAAC,CAAC;wBAChG,wBAAa,EAAC,UAAU;8BAAC,kBAAkB;wBAAE,qBAAM,eAAe,CAAC,KAAK,EAAE;;wBAA1E,wBAA6C,SAA6B,EAAE,mCAAmC,GAAC,CAAC;wBACjH,wBAAa,EAAC,UAAU;8BAAC,kBAAkB;wBAAE,qBAAM,eAAe,CAAC,KAAK,EAAE;;wBAA1E,wBAA6C,SAA6B,EAAE,mCAAmC,GAAC,CAAC;wBACjH,aAAa,CAAC,MAAM,CAAC,+BAA+B,CAAC,CAAC;wBAEtD,SAAS,CAAC,MAAM,CAAC,aAAa,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;wBACrD,SAAS,CAAC,MAAM,CAAC,aAAa,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;wBAErD,sBAAO,SAAS,EAAC;;;;KAClB;IAEO,mCAAM,GAAd;QACE,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;YACnB,OAAO;SACR;QACD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;YAC9B,OAAO;SACR;QACD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;IAC/D,CAAC;IACH,yBAAC;AAAD,CAAC;AAnJY,gDAAkB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxB/B,wCAA6C;AAC7C,0CAA6D;AAG7D,6CAAgF;AAIhF,4CAAsD;AAWzC,0BAAkB,GAA6B;IAC1D,SAAS,EAAE,YAAY;IACvB,eAAe,EAAE,IAAI;IACrB,SAAS,EAAE,GAAG;IACd,oBAAoB,EAAE,IAAI;IAC1B,yBAAyB,EAAE,IAAI;IAC/B,qBAAqB,EAAE,IAAI;IAC3B,aAAa,EAAE;QACb,KAAK,EAAE,GAAG;KACX;IACD,aAAa,EAAE,IAAI;IACnB,eAAe,EAAE,EAAE;CACpB,CAAC;AAEF;IAAA;IAsEA,CAAC;IAnEc,4BAAK,GAAlB,UAAmB,OAA2C,EAAE,KAAU,EAAE,WAAgC;QAAhC,4CAAc,0BAAkB;;;;;;wBACpG,SAAS,GAAG,kBAAK,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;wBACjC,iBAAiB,GAAG,UAAC,KAAqD,EAAE,GAAW;4BAC3F,IAAI,KAAK,CAAC,QAAQ,EAAE;gCAClB,OAAO;oCACL,KAAK,EAAE,GAAG;oCACV,UAAU,EAAE,GAAG;oCACf,aAAa,EAAE,IAAI;oCACnB,QAAQ,EAAE,oBAAO,CACf,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAC,KAAU;wCAC5B,OAAO,gBAAG,CAAC,KAAK,EAAE,iBAAiB,CAAC,CAAC;oCACvC,CAAC,CAAC,CACH;iCACF,CAAC;6BACH;iCAAM;gCACL,kBACE,KAAK,EAAE,GAAG,EACV,UAAU,EAAE,GAAG,IACZ,KAAK,EACR;6BACH;wBACH,CAAC,CAAC;wBAEI,UAAU,GAAG,gBAAG,CAAC,SAAgB,EAAE,iBAAiB,CAA0B,CAAC;wBAE/E,OAAO,GAAG,gBAAG,CAAC,OAAO,EAAE,gBAAM;4BACjC,IAAM,MAAM,GAAQ,EAAE,CAAC;4BAEvB,IAAM,cAAc,GAAG,UAAC,KAAkD,EAAE,GAAW;gCACrF,IAAI,KAAK,CAAC,OAAO,EAAE;oCACjB,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC;iCAC7B;qCAAM,IAAI,KAAK,CAAC,QAAQ,EAAE;oCACzB,iBAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,UAAC,KAAU;wCAC9B,iBAAI,CAAC,KAAK,EAAE,cAAc,CAAC,CAAC;oCAC9B,CAAC,CAAC,CAAC;iCACJ;4BACH,CAAC,CAAC;4BAEF,iBAAI,CAAC,MAAM,EAAE,cAAqB,CAAC,CAAC;4BACpC,OAAO,MAAM,CAAC;wBAChB,CAAC,CAAC,CAAC;wBAEH,IAAI,CAAC,WAAW,gBACX,0BAAkB,IACrB,UAAU;4BACV,OAAO,aACJ,WAAW,CACf,CAAC;wBAEF,qBAAM,0BAAiB,EAAE;;wBAAzB,SAAyB,CAAC;wBACpB,IAAI,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;wBAEzD,sBAAO,EAAE,IAAI,QAAE,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,EAAC;;;;KAChD;IAEa,0BAAa,GAA3B,UAA4B,MAAoB,EAAE,QAA4B;QAC5E,OAAO;YACL,QAAQ,EAAE;gBACR,OAAO,EAAE,EAAE,MAAM,UAAE,QAAQ,YAAE;gBAC7B,YAAY,EAAE,qBAAqB;gBACnC,KAAK,EAAE,GAAG;gBACV,kBAAkB,EAAE,UAAC,MAA6C;oBAChE,OAAO,EAAE,CAAC;gBACZ,CAAC;aACF;SACF,CAAC;IACJ,CAAC;IACH,mBAAC;AAAD,CAAC;AAtEY,oCAAY;AAwEzB;IAAA;IAqFA,CAAC;IAjFQ,oCAAI,GAAX,UAAY,MAAoF;QAC9F,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC;YAC5B,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,WAAW,CAAC;SAC3D;IACH,CAAC;IAEM,sCAAM,GAAb;QACE,IAAM,IAAI,GAAG,iBAAE,CAAC,KAAK,EAAE,EAAE,SAAS,EAAE,0CAA0C,EAAE,CAAC,CAAC;QAClF,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YAC7E,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;SAC3B;aAAM;YACL,IAAI,CAAC,MAAM,CAAC,iBAAE,CAAC,GAAG,EAAE,SAAS,EAAE,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC;SAClD;QACD,OAAO,IAAI,CAAC,EAAE,CAAC;IACjB,CAAC;IAEO,yCAAS,GAAjB,UAAkB,MAAoB,EAAE,QAAmC;QACzE,IAAI,GAAQ,CAAC;QAEb,IAAI,QAAQ,IAAI,MAAM,EAAE;YACtB,IAAM,WAAW,GAAG,QAAQ,CAAC,eAAe,CAAC,aAAa,CAAC,YAAY,CAAkC,CAAC;YAC1G,IAAM,qBAAqB,GAAG,iBAAI,CAAC,WAAW,EAAE,oBAAU,IAAI,QAAC,UAAU,CAAC,QAAQ,EAApB,CAAoB,CAAC,CAAC;YAEpF,IAAI,qBAAqB,EAAE;gBACzB,GAAG,GAAG,iBAAE,CAAC,KAAK,EAAE;oBACd,SAAS,EAAE,4CAA4C;iBACxD,CAAC,CAAC;gBACH,qBAAqB,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,qBAAW;oBACxD,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;gBAC1B,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,GAAG,GAAG,iBAAE,CAAC,GAAG,EAAE;oBACZ,SAAS,EAAE,iBAAiB;iBAC7B,CAAC,CAAC;gBACH,IAAI,uBAAU,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,qBAAqB,EAAE,IAAI,EAAE,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;aAC3E;YAED,IAAI,IAAI,CAAC,aAAa,EAAE;gBACtB,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;aAClD;SACF;aAAM;YACL,GAAG,GAAG,iBAAE,CAAC,KAAK,EAAE,SAAS,EAAE,YAAY,CAAC,CAAC;SAC1C;QAED,OAAO,GAAG,CAAC;IACb,CAAC;IAEM,uCAAO,GAAd,UAAe,MAAW;QACxB,OAAO,IAAI,CAAC;IACd,CAAC;IAEO,+CAAe,GAAvB,UAAwB,eAA4B,EAAE,MAAc;QAClE,IAAI,aAAa,GAAgB,eAAe,CAAC;QAEjD,IAAI,aAAa,IAAI,IAAI,IAAI,aAAa,CAAC,SAAS,IAAI,IAAI,EAAE;YAC5D,IAAM,KAAK,GAAG,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC,KAAK,GAAG,0BAAW,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;YAC7G,aAAa,CAAC,SAAS,GAAG,EAAE,CAAC;YAC7B,KAAK,CAAC,OAAO,CAAC,eAAK;gBACjB,IAAM,KAAK,GAAG,IAAI,MAAM,CAAC,GAAG,GAAG,0BAAW,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,GAAG,EAAE,GAAG,CAAC,CAAC;gBAC3E,IAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBACjC,IAAI,IAAI,CAAC;gBAET,IAAI,KAAK,IAAI,IAAI,EAAE;oBACjB,IAAI,GAAG,iBAAE,CAAC,MAAM,EAAE;wBAChB,SAAS,EAAE,qCAAqC;qBACjD,CAAC,CAAC;oBACH,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;oBACpB,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;oBACnC,IAAI,GAAG,iBAAE,CAAC,MAAM,CAAC,CAAC;oBAClB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oBACzC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;iBACpC;qBAAM;oBACL,IAAI,GAAG,iBAAE,CAAC,MAAM,CAAC,CAAC;oBAClB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBACjB,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;iBACpC;YACH,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IACH,4BAAC;AAAD,CAAC;AArFY,sDAAqB;AAuFlC;IAAA;IAuBA,CAAC;IAnBQ,kCAAI,GAAX,UAAY,MAAY;QACtB,IAAI,MAAM,IAAI,MAAM,CAAC,GAAG,EAAE;YACxB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC;YAC5B,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,WAAW,CAAC;SAC3D;IACH,CAAC;IACM,oCAAM,GAAb;QACE,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,aAAa,EAAE;YACtC,OAAO,iBAAE,CAAC,KAAK,EAAE,SAAS,EAAE,mCAAoB,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,SAAS,EAAE,CAAC,WAAW,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;SAC1H;aAAM,IAAI,IAAI,CAAC,OAAO,EAAE;YACvB,OAAO,iBAAE,CAAC,KAAK,EAAE,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC;SAC9C;aAAM;YACL,OAAO,iBAAE,CAAC,KAAK,EAAE,SAAS,EAAE,YAAY,CAAC,CAAC,EAAE,CAAC;SAC9C;IACH,CAAC;IAEM,qCAAO,GAAd,UAAe,MAAW;QACxB,OAAO,IAAI,CAAC;IACd,CAAC;IACH,0BAAC;AAAD,CAAC;AAvBY,kDAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChMhC,sEAA8F;AAC9F,wEAAkG;AAClG,qEAA4F;AAC5F,8DAA8E;AAC9E,2EAAwG;AAExG,6CAA6C;AAI7C,iEAAoF;AACpF,qCAA+D;AAC/D,2DAAwE;AAaxE,IAAY,wBAgBX;AAhBD,WAAY,wBAAwB;IAClC,4EAAgD;IAChD,gEAAoC;IACpC,mFAAuD;IACvD,+DAAmC;IACnC,qFAAyD;IACzD,gEAAoC;IACpC,+DAAmC;IACnC,0DAA8B;IAC9B,2DAA+B;IAC/B,gEAAoC;IACpC,wEAA4C;IAC5C,+DAAmC;IACnC,8DAAkC;IAClC,0DAA8B;IAC9B,yCAAa;AACf,CAAC,EAhBW,wBAAwB,GAAxB,gCAAwB,KAAxB,gCAAwB,QAgBnC;AAeD;IAEE,yBAAmB,OAAsB,EAAS,QAA4B;QAA3D,YAAO,GAAP,OAAO,CAAe;QAAS,aAAQ,GAAR,QAAQ,CAAoB;IAAG,CAAC;IAEpE,qCAAqB,GAAnC,UAAoC,KAAa;QAC/C,IAAM,SAAS,GAAG,iBAAE,CAAC,KAAK,CAAC,CAAC;QAC5B,SAAS,CAAC,MAAM,CAAC,iBAAE,CAAC,IAAI,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;QAEhD,IAAM,aAAa,GAAG,iBAAE,CAAC,KAAK,EAAE;YAC9B,SAAS,EAAE,gBAAgB;SAC5B,CAAC,CAAC;QACH,SAAS,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;QAEnC,OAAO;YACL,SAAS;YACT,aAAa;SACd,CAAC;IACJ,CAAC;IAEY,+BAAK,GAAlB;;;;;;wBACE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE;4BACjC,IAAI,aAAM,CAAC,IAAI,CAAC,CAAC,KAAK,CACpB,+GAA+G,CAChH,CAAC;4BACF,sBAAO,iBAAE,CAAC,KAAK,CAAC,EAAC;yBAClB;wBAEK,SAAS,GAAG,iBAAE,CAAC,KAAK,EAAE;4BAC1B,SAAS,EAAE,wBAAwB;yBACpC,CAAC,CAAC;wBAEG,WAAW,GAA+B,EAAE,CAAC;wBAErB,qBAAM,IAAI,2EAAoC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;;wBAA5G,qBAAqB,GAAG,SAAoF;wBAClH,SAAS,CAAC,MAAM,CAAC,qBAAqB,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;wBACrD,IAAI,qBAAqB,CAAC,WAAW,EAAE;4BACrC,WAAW,CAAC,IAAI,CAAC,qBAAqB,CAAC,WAAW,CAAC,CAAC;yBACrD;wBAE+B,qBAAM,IAAI,+EAAsC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;;wBAAhH,uBAAuB,GAAG,SAAsF;wBACtH,SAAS,CAAC,MAAM,CAAC,uBAAuB,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;wBACvD,IAAI,uBAAuB,CAAC,WAAW,EAAE;4BACvC,WAAW,CAAC,IAAI,CAAC,uBAAuB,CAAC,WAAW,CAAC,CAAC;yBACvD;wBAEgC,qBAAM,IAAI,iEAA+B,EAAE,CAAC,KAAK,CAChF,IAAI,CAAC,OAAO,CAAC,OAAO,EACpB,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAC/B,IAAI,CAAC,QAAqC,CAC3C;;wBAJK,wBAAwB,GAAG,SAIhC;wBACD,SAAS,CAAC,MAAM,CAAC,wBAAwB,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;wBACxD,IAAI,wBAAwB,CAAC,WAAW,EAAE;4BACxC,WAAW,CAAC,IAAI,CAAC,wBAAwB,CAAC,WAAW,CAAC,CAAC;yBACxD;wBAEiC,qBAAM,IAAI,yEAAmC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;;wBAA/G,yBAAyB,GAAG,SAAmF;wBACrH,SAAS,CAAC,MAAM,CAAC,yBAAyB,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;wBACzD,IAAI,yBAAyB,CAAC,WAAW,EAAE;4BACzC,WAAW,CAAC,IAAI,CAAC,yBAAyB,CAAC,WAAW,CAAC,CAAC;yBACzD;wBAEwB,qBAAM,IAAI,2DAA4B,CAC7D,wBAAwB,CAAC,2BAA2B,EACpD,wBAAwB,CAAC,SAAS,EAClC,WAAW,CACZ,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;;wBAJ/B,gBAAgB,GAAG,SAIY;wBAErC,SAAS,CAAC,MAAM,CAAC,gBAAgB,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;wBAChD,IAAI,gBAAgB,CAAC,WAAW,EAAE;4BAChC,WAAW,CAAC,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC;yBAChD;wBAEwB,qBAAM,IAAI,2DAA4B,CAC7D,wBAAwB,CAAC,2BAA2B,EACpD,wBAAwB,CAAC,UAAU,EACnC,YAAY,CACb,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;;wBAJ/B,gBAAgB,GAAG,SAIY;wBACrC,SAAS,CAAC,MAAM,CAAC,gBAAgB,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;wBAChD,IAAI,gBAAgB,CAAC,WAAW,EAAE;4BAChC,WAAW,CAAC,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC;yBAChD;wBAEsB,qBAAM,IAAI,2DAA4B,CAC3D,wBAAwB,CAAC,gBAAgB,EACzC,wBAAwB,CAAC,OAAO,EAChC,SAAS,CACV,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;;wBAJ/B,cAAc,GAAG,SAIc;wBACrC,SAAS,CAAC,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;wBAC9C,IAAI,cAAc,CAAC,WAAW,EAAE;4BAC9B,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;yBAC9C;wBAEsB,qBAAM,IAAI,2DAA4B,CAC3D,wBAAwB,CAAC,gBAAgB,EACzC,wBAAwB,CAAC,OAAO,EAChC,SAAS,CACV,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;;wBAJ/B,cAAc,GAAG,SAIc;wBACrC,SAAS,CAAC,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;wBAC9C,IAAI,cAAc,CAAC,WAAW,EAAE;4BAC9B,WAAW,CAAC,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;yBAC9C;wBAEyB,qBAAM,IAAI,2DAA4B,CAC9D,wBAAwB,CAAC,gBAAgB,EACzC,wBAAwB,CAAC,UAAU,EACnC,kBAAkB,CACnB,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;;wBAJ/B,iBAAiB,GAAG,SAIW;wBACrC,SAAS,CAAC,MAAM,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;wBAEjD,IAAI,iBAAiB,CAAC,WAAW,EAAE;4BACjC,WAAW,CAAC,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;yBACjD;wBAEkB,qBAAM,IAAI,qDAAyB,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;;wBAAtF,UAAU,GAAG,SAAyE;wBAC5F,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;wBAE1C,IAAI,UAAU,CAAC,WAAW,EAAE;4BAC1B,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;yBAC1C;wBAE6B,qBAAM,IAAI,2DAA4B,CAClE,wBAAwB,CAAC,gBAAgB,EACzC,wBAAwB,CAAC,cAAc,EACvC,iBAAiB,CAClB,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;;wBAJ/B,qBAAqB,GAAG,SAIO;wBACrC,SAAS,CAAC,MAAM,CAAC,qBAAqB,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;wBACrD,IAAI,qBAAqB,CAAC,WAAW,EAAE;4BACrC,WAAW,CAAC,IAAI,CAAC,qBAAqB,CAAC,WAAW,CAAC,CAAC;yBACrD;wBAEyB,qBAAM,IAAI,qFAAyC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC;;wBAA7G,iBAAiB,GAAG,SAAyF;wBACnH,SAAS,CAAC,MAAM,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;wBAEjD,IAAI,CAAC,WAAW,GAAG;4BACjB,GAAG,EAAE;gCACH,gBAAgB,EAAE;oCAChB,WAAW,CAAC,OAAO,CAAC,gBAAM,IAAI,QAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,EAAnD,CAAmD,CAAC,CAAC;gCACrF,CAAC;6BACF;yBACK,CAAC;wBAET,sBAAO,SAAS,EAAC;;;;KAClB;IACH,sBAAC;AAAD,CAAC;AA/IY,0CAAe;;;;;;;;;;;ACxD5B,8CAAuE;AACvE,0CAAqD;AACrD,mCAAqC;AAIrC,IAAM,iBAAiB,GAAG,YAAY,CAAC;AAEvC;IAAA;IA0EA,CAAC;IAzEQ,mCAAM,GAAb,UAAc,OAA+B;QAC3C,IAAI,oBAAO,CAAC,OAAO,CAAC,EAAE;YACpB,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;SAClC;QACD,IAAI,qBAAQ,CAAC,OAAO,CAAC,EAAE;YACrB,OAAO,IAAI,CAAC,YAAY,CAAC,OAA8B,CAAC,CAAC;SAC1D;QAED,OAAO,IAAI,CAAC,WAAW,CAAC,OAAsC,CAAC,CAAC;IAClE,CAAC;IAEO,wCAAW,GAAnB,UAAoB,OAAoC;QACtD,OAAO;YACL,OAAO,EAAE,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC;SACzC,CAAC;IACJ,CAAC;IAEO,yCAAY,GAApB,UAAqB,OAA4B;QAAjD,iBAwBC;QAvBC,IAAI,OAAO,GAAG,EAAE,CAAC;QACjB,iBAAI,CAAC,OAAO,EAAE,UAAC,KAAK,EAAE,GAAG;YACvB,IAAI,oBAAO,CAAC,KAAK,CAAC,EAAE;gBAClB,IAAM,IAAI,GAAG,QAAE,CAAC,IAAI,CAAC,CAAC;gBACtB,IAAI,CAAC,MAAM,CAAC,QAAE,CAAC,IAAI,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;gBACzC,IAAM,SAAS,GAAG,QAAE,CAAC,IAAI,EAAE,SAAS,EAAE,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC;gBACvE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;gBAC1B,OAAO,IAAI,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC;aAC9B;iBAAM,IAAI,qBAAQ,CAAC,KAAK,CAAC,EAAE;gBAC1B,OAAO,IAAI,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC;aAC7C;iBAAM;gBACL,IAAM,IAAI,GAAG,QAAE,CAAC,IAAI,CAAC,CAAC;gBACtB,IAAI,CAAC,MAAM,CAAC,QAAE,CAAC,IAAI,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;gBACzC,IAAI,CAAC,MAAM,CAAC,QAAE,CAAC,IAAI,EAAE,SAAS,EAAE,KAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;gBAEnE,OAAO,IAAI,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC;aAC9B;QACH,CAAC,CAAC,CAAC;QAEH,OAAO;YACL,OAAO;YACP,YAAY,EAAE,kCAAmB;SAClC,CAAC;IACJ,CAAC;IAEO,wCAAW,GAAnB,UAAoB,OAA6B;QAAjD,iBAsBC;QArBC,IAAI,CAAC,OAAO,IAAI,OAAO,CAAC,MAAM,IAAI,CAAC,EAAE;YACnC,OAAO;gBACL,OAAO,EAAE,iBAAiB;aAC3B,CAAC;SACH;QAED,IAAM,IAAI,GAAG,QAAE,CAAC,IAAI,EAAE;YACpB,SAAS,EAAE,iCAAiC;SAC7C,CAAC,CAAC;QAEH,OAAO,CAAC,OAAO,CAAC,sBAAY;YAC1B,IAAI,qBAAQ,CAAC,YAAY,CAAC,EAAE;gBAC1B,IAAI,CAAC,MAAM,CAAC,QAAE,CAAC,IAAI,EAAE,SAAS,EAAE,KAAI,CAAC,YAAY,CAAC,YAAmB,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;aACrF;iBAAM;gBACL,IAAI,CAAC,MAAM,CAAC,QAAE,CAAC,IAAI,EAAE,SAAS,EAAE,KAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;aAC3E;QACH,CAAC,CAAC,CAAC;QACH,OAAO;YACL,OAAO,EAAE,IAAI,CAAC,EAAE,CAAC,SAAS;YAC1B,YAAY,EAAE,kCAAmB;SAClC,CAAC;IACJ,CAAC;IAEO,8CAAiB,GAAzB,UAA0B,KAAU;QAClC,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,EAAE,EAAE;YACjC,OAAO,KAAK,CAAC,QAAQ,EAAE,CAAC;SACzB;QACD,OAAO,iBAAiB,CAAC;IAC3B,CAAC;IACH,yBAAC;AAAD,CAAC;AA1EY,gDAAkB;;;;;;;;;;;;;;;;;;;ACP/B,oDAA0D;AAG1D;IAAA;IAmBA,CAAC;IAlBQ,6CAAK,GAAZ,UAAa,sBAA+C;QAC1D,oBACK,IAAI,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,EAC/C,IAAI,CAAC,eAAe,CAAC,sBAAsB,CAAC,EAC/C;IACJ,CAAC;IAEO,0DAAkB,GAA1B,UAA2B,sBAA+C;QACxE,OAAO;YACL,WAAW,EAAE,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,sBAAsB,CAAC,WAAW,CAAC;SACjF,CAAC;IACJ,CAAC;IAEO,uDAAe,GAAvB,UAAwB,sBAA+C;QACrE,OAAO;YACL,QAAQ,EAAE,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAI,sBAAsB,CAAC,QAAQ,QAAK,CAAC;SACnF,CAAC;IACJ,CAAC;IACH,oCAAC;AAAD,CAAC;AAnBY,sEAA6B;;;;;;;;;;;ACJ1C,0CAAuD;AACvD,4CAAsD;AACtD,mCAA0C;AAmD7B,+BAAuB,GAAG,UAAC,aAAuC;IAC7E,IAAM,SAAS,GAAG,gBAAG,CAAC,aAAa,EAAE,UAAC,KAAK,EAAE,GAAG;QAC9C,OAAO;YACL,EAAE,EAAE,QAAE,CACJ,IAAI,EACJ;gBACE,SAAS,EAAE,8BAA8B;aAC1C,EACD,KAAG,GAAK,CACT;YACD,EAAE,EAAE,QAAE,CACJ,IAAI,EACJ;gBACE,SAAS,EAAE,8BAA8B;aAC1C,EACD,KAAG,KAAO,CACX;SACF,CAAC;IACJ,CAAC,CAAC,CAAC;IACH,IAAM,KAAK,GAAG,mBAAM,CAAC,aAAa,EAAE,UAAC,IAAI,EAAE,KAAK,IAAK,WAAI,GAAG,KAAK,EAAZ,CAAY,EAAE,CAAC,CAAC,CAAC;IACtE,IAAM,IAAI,GAAG,QAAE,CAAC,IAAI,CAAC,CAAC;IACtB,SAAS,CAAC,OAAO,CAAC,cAAI;QACpB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QACxB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAC1B,CAAC,CAAC,CAAC;IACH,IAAI,CAAC,MAAM,CAAC,QAAE,CAAC,IAAI,EAAE,EAAE,SAAS,EAAE,8BAA8B,EAAE,EAAE,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;IACjF,IAAI,CAAC,MAAM,CAAC,QAAE,CAAC,IAAI,EAAE,EAAE,SAAS,EAAE,kEAAkE,EAAE,EAAE,KAAG,KAAO,CAAC,CAAC,EAAE,CAAC,CAAC;IACxH,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AAEW,wBAAgB,GAAG,UAAC,KAAa;IAC5C,IAAM,8BAA8B,GAAG,kCAAkC,CAAC;IAC1E,IAAM,2BAA2B,GAAG,iCAAiC,CAAC;IACtE,IAAM,2BAA2B,GAAG,yBAAyB,CAAC;IAE9D,IAAI,KAAK,EAAE;QACT,IAAM,qBAAqB,GAAG,8BAA8B,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACzE,IAAM,sBAAsB,GAAG,2BAA2B,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACvE,IAAM,sBAAsB,GAAG,2BAA2B,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAEvE,IAAM,UAAU,GAAG,eAAe,CAAC,KAAK,CAAC,CAAC;QAC1C,IAAM,eAAe,GAAG,YAAY,CAAC,qBAAqB,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QAC9F,IAAM,WAAW,GAAG,iBAAiB,CAAC,sBAAsB,CAAC,CAAC;QAC9D,IAAM,WAAW,GAAG,sBAAsB,CAAC,CAAC,CAAC,MAAM,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAEtF,OAAO;YACL,eAAe;YACf,WAAW;YACX,WAAW;YACX,UAAU;SACX,CAAC;KACH;IACD,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AAEF,IAAM,YAAY,GAAG,UAAC,KAAoB;IACxC,IAAM,6BAA6B,GAAG,6BAA6B,CAAC;IACpE,IAAM,0BAA0B,GAAG,8BAA8B,CAAC;IAElE,IAAI,KAAK,EAAE;QACT,IAAM,YAAY,GAAG,KAAK,CAAC,KAAK,CAAC,6BAA6B,CAAC,CAAC;QAEhE,IAAI,YAAY,EAAE;YAChB,OAAO,mBAAM,CACX,YAAY,CAAC,GAAG,CAAC,gBAAM;gBACrB,IAAI,WAAW,GAAG,MAAM,CAAC,KAAK,CAAC,0BAA0B,CAAC,CAAC;gBAE3D,IAAI,WAAW,EAAE;oBACf,IAAM,eAAe,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;oBACvC,IAAM,WAAW,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;oBACnC,OAAO,CAAC,eAAe,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;iBAC/C;gBACD,OAAO,IAAI,CAAC;YACd,CAAC,CAAC,CACe,CAAC;SACrB;KACF;IAED,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AAEF,IAAM,iBAAiB,GAAG,UAAC,WAAmC;IAC5D,IAAM,4BAA4B,GAAG,uDAAuD,CAAC;IAC7F,IAAM,yBAAyB,GAAG,gCAAgC,CAAC;IAEnE,IAAI,WAAW,IAAI,WAAW,CAAC,CAAC,CAAC,EAAE;QACjC,IAAI,KAAK,GAAG,yBAAW,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,4BAA4B,CAAC,CAAC;QAE5E,OAAO,mBAAM,CACX,gBAAG,CAAC,KAAK,EAAE,cAAI;YACb,IAAI,KAAK,GAAG,mBAAM,CAChB,gBAAG,CAAC,yBAAW,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,yBAAyB,CAAC,EAAE,cAAI;gBAC7D,OAAO;oBACL,IAAI,CAAC,CAAC,CAAC;oBACP;wBACE,WAAW,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wBAC5B,QAAQ,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;qBAC1B;iBACF,CAAC;YACJ,CAAC,CAAC,CACH,CAAC;YACF,IAAM,OAAO,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;YACtC,OAAO;gBACL,iBAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;gBACtB;oBACE,KAAK,EAAE,KAAK;oBACZ,OAAO,EAAE,OAAO;iBACjB;aACF,CAAC;QACJ,CAAC,CAAC,CACoB,CAAC;KAC1B;IACD,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AAEF,IAAM,eAAe,GAAG,UAAC,KAAa;IACpC,IAAM,yBAAyB,GAAG,iDAAiD,CAAC;IAEpF,IAAI,qBAAqB,GAAG,yBAAyB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAElE,IAAM,UAAU,GAAiB,EAAE,CAAC;IACpC,OAAO,qBAAqB,EAAE;QAC5B,UAAU,CAAC,IAAI,CAAC;YACd,UAAU,EAAE,qBAAqB,CAAC,CAAC,CAAC;YACpC,KAAK,EAAE,QAAQ,CAAC,qBAAqB,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;SAC9C,CAAC,CAAC;QACH,qBAAqB,GAAG,yBAAyB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KAC/D;IAED,OAAO,UAAU,CAAC;AACpB,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvLF,iDAM2B;AAC3B,0CAA6C;AAC7C,+DAAgF;AAChF,oDAA0D;AAC1D,8CAA8C;AAQ9C;IACE,sCACS,gBAA0C,EAC1C,mBAA6C,EAC7C,YAAoB;QAFpB,qBAAgB,GAAhB,gBAAgB,CAA0B;QAC1C,wBAAmB,GAAnB,mBAAmB,CAA0B;QAC7C,iBAAY,GAAZ,YAAY,CAAQ;IAC1B,CAAC;IAES,4CAAK,GAAlB,UAAmB,eAAiC;;;;;;;wBAC5C,KAA+B,iCAAe,CAAC,qBAAqB,CAAC,IAAI,CAAC,YAAY,CAAC,EAArF,SAAS,iBAAE,aAAa,oBAA8D;wBAExF,gBAAgB,GAAG,iBAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,eAAK;4BAC3D,OAAO,KAAK,CAAC,IAAI,IAAI,KAAI,CAAC,gBAAgB,IAAI,KAAK,CAAC,QAAQ,IAAI,sBAAS,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,KAAI,CAAC,mBAAmB,EAAE,CAAC,CAAC;wBAChI,CAAC,CAAC,CAAC;6BAEC,iBAAgB,IAAI,gBAAgB,CAAC,QAAQ,GAA7C,wBAA6C;wBACzC,mBAAmB,GAAG,sBAAS,CAAC,gBAAgB,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,mBAAmB,EAAE,CAEtF,CAAC;6BAEV,mBAAmB,EAAnB,wBAAmB;wBACf,UAAU,GAAG;yCAEZ,IAAI,6DAA6B,EAAE,CAAC,KAAK,CAAC,mBAAmB,CAAC,EAC9D,EAAE,OAAO,EAAE,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,mBAAmB,CAAC,OAAO,CAAC,EAAE;yBAE/E,CAAC;wBAEmB,qBAAM,IAAI,2BAAY,EAAE,CAAC,KAAK,CAAC,UAAU,EAAE,aAAa,CAAC;;wBAAxE,YAAY,GAAG,SAAyD;wBAC9E,WAAW,GAAG,YAAY,CAAC,WAAW,CAAC;;;4BAGpB,qBAAM,IAAI,2BAAY,EAAE,CAAC,KAAK,CACjD;;gCAEI,GAAC,KAAG,IAAI,CAAC,YAAc,IAAG;oCACxB,OAAO,EAAE,2BAAyB,IAAI,CAAC,YAAY,iCAA8B;iCAClF;;yBAEJ,EACD,aAAa,CACd;;wBATK,YAAY,GAAG,SASpB;wBAED,WAAW,GAAG,YAAY,CAAC,WAAW,CAAC;;4BAGzC,sBAAO,EAAE,SAAS,aAAE,WAAW,eAAE,EAAC;;;;KACnC;IACH,mCAAC;AAAD,CAAC;AA/CY,oEAA4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBzC,mDAA+G;AAC/G,0CAAiE;AACjE,8CAAqF;AACrF,mCAA0C;AAO1C;IAEE,0BAAmB,OAAuB,EAAS,QAA4B;QAA5D,YAAO,GAAP,OAAO,CAAgB;QAAS,aAAQ,GAAR,QAAQ,CAAoB;IAAG,CAAC;IAEtE,gCAAK,GAAlB;;;;;;;wBACQ,SAAS,GAAG,QAAE,CAAC,KAAK,CAAC,CAAC;wBAEtB,aAAa,GAAG,QAAE,CAAC,KAAK,EAAE;4BAC9B,SAAS,EAAE,gBAAgB;yBAC5B,CAAC,CAAC;wBACH,SAAS,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;wBAE/B,wCAAwC,GAAa,EAAE,CAAC;wBACxD,0BAA0B,GAAG,KAAK,CAAC;wBAEvC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,gBAAM;4BACzB,IAAM,WAAW,GAAG,oCAAgB,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;4BACzD,0BAA0B,GAAG,WAAW,CAAC,WAAW,IAAI,IAAI,CAAC;4BAC7D,IAAI,WAAW,IAAI,WAAW,CAAC,eAAe,EAAE;gCAC9C,iBAAI,CAAC,WAAW,CAAC,eAAe,EAAE,UAAC,KAAa,EAAE,GAAW;oCAC3D,IAAI,KAAK,IAAI,CAAC,EAAE;wCACd,wCAAwC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;qCACpD;gCACH,CAAC,CAAC,CAAC;6BACJ;wBACH,CAAC,CAAC,CAAC;wBAEH,wCAAwC,GAAG,iBAAI,CAAC,wCAAwC,CAAC,CAAC;wBAEpF,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,gBAAM;4BAClC,IAAM,WAAW,GAAG,oCAAgB,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;4BAEzD,IAAI,WAAW,EAAE;gCACf,IAAM,gBAAgB,GAAG,KAAI,CAAC,6BAA6B,CAAC,WAAW,EAAE,wCAAwC,CAAC,CAAC;gCACnH,IAAM,kBAAgB,GAAqC,EAAE,CAAC;gCAE9D,IAAM,oBAAkB,GAAoC,EAAE,CAAC;gCAE/D,kBAAK,CAAC,WAAW,CAAC,WAAW,CAAC;qCAC3B,IAAI,EAAE;qCACN,MAAM,CAAC,aAAG;oCACT,IAAM,KAAK,GAAG,mBAAM,CAAC,WAAW,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,UAAC,IAAI,EAAE,KAAK,IAAK,WAAI,GAAG,KAAK,EAAZ,CAAY,EAAE,CAAC,CAAC,CAAC;oCAC7F,OAAO,KAAK,CAAC;gCACf,CAAC,CAAC;qCACD,OAAO,EAAE;qCACT,KAAK,CAAC,CAAC,CAAC;qCACR,IAAI,CAAC,aAAG;oCACP,oBAAkB,CAAC,GAAG,CAAC,GAAG,WAAW,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gCACzD,CAAC,CAAC,CAAC;gCAEL,iBAAI,CAAC,oBAAkB,EAAE,UAAC,KAAK,EAAE,GAAG;oCAClC,IAAM,QAAQ,GAAG,cAAY,GAAK,CAAC;oCACnC,kBAAgB,CAAC,QAAQ,CAAC,GAAG;wCAC3B,OAAO,EAAE,2CAAuB,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,SAAS;wCAC5D,YAAY,EAAE,kCAAmB;wCACjC,KAAK,EAAE,GAAG;qCACX,CAAC;gCACJ,CAAC,CAAC,CAAC;gCAEH,IAAM,YAAY,GAAG,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;gCAC3E,oBACK,2BAAY,CAAC,aAAa,CAAC,MAAM,EAAE,KAAI,CAAC,QAAqC,CAAC,EAC9E,gBAAgB,EAChB,kBAAgB,EAChB,EAAE,KAAK,EAAE,EAAE,OAAO,EAAE,YAAY,IAAI,CAAC,EAAE,EAAE,EAC5C;6BACH;4BACD,OAAO,EAAE,CAAC;wBACZ,CAAC,CAAC,CAAC;wBAEqB,qBAAM,IAAI,2BAAY,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,aAAa,EAAE;gCAC1E,YAAY,EAAE;oCACZ,OAAO,0BAA0B,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;gCAChD,CAAC;gCACD,WAAW,EAAE,gBAAM;oCACjB,UAAU,CAAC;wCACT,IAAI,MAAM,EAAE;4CACV,MAAM,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;4CAC9B,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;yCAC7D;oCACH,CAAC,EAAE,CAAC,CAAC,CAAC;gCACR,CAAC;6BACF,CAAC;;wBAZM,WAAW,GAAK,UAYtB,aAZiB;wBAcnB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;wBAE/B,sBAAO,SAAS,EAAC;;;;KAClB;IAEO,wDAA6B,GAArC,UAAsC,WAAyB,EAAE,yBAAmC;QAClG,IAAM,eAAe,GAAqC,EAAE,CAAC;QAC7D,iBAAI,CAAC,WAAW,CAAC,eAAe,IAAI,EAAE,EAAE,UAAC,KAAK,EAAE,GAAG;YACjD,IAAI,qBAAQ,CAAC,yBAAyB,EAAE,GAAG,CAAC;gBAAE,eAAe,CAAC,GAAG,CAAC,GAAG,EAAE,OAAO,EAAE,KAAK,IAAI,CAAC,EAAE,CAAC;QAC/F,CAAC,CAAC,CAAC;QACH,OAAO,eAAe,CAAC;IACzB,CAAC;IACH,uBAAC;AAAD,CAAC;AAhGY,4CAAgB;;;;;;;;;;;ACV7B,mCAAqC;AAErC,IAAI,cAAc,GAAG,KAAK,CAAC;AAC3B,IAAI,eAAe,GAA4B,IAAI,CAAC;AACpD,IAAM,YAAY,GAAG,8EAA8E,CAAC;AACpG,IAAM,kBAAkB,GAAG,0EAA0E,CAAC;AACtG,IAAM,mBAAmB,GAAG,iFAAiF,CAAC;AAI9G,6BAA6B;AAChB,aAAK,GAAG,UAAC,GAAc;IAAd,oCAAc;IAClC,cAAc,GAAG,KAAK,CAAC;IACvB,eAAe,GAAG,IAAI,CAAC;AACzB,CAAC,CAAC;AAEW,yBAAiB,GAAG,UAAC,GAAc;IAAd,oCAAc;IAC9C,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;QACjC,IAAI,cAAc,EAAE;YAClB,OAAO,CAAC,IAAI,CAAC,CAAC;SACf;aAAM,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;YACxC,cAAc,GAAG,IAAI,CAAC;YACtB,OAAO,CAAC,IAAI,CAAC,CAAC;SACf;aAAM;YACL,0BAA0B,CAAC,GAAG,CAAC,CAAC;YAChC,eAAe,CAAC,IAAI,CAAC,cAAM,cAAO,CAAC,IAAI,CAAC,EAAb,CAAa,CAAC,CAAC;YAC1C,eAAe,CAAC,KAAK,CAAC,cAAM,aAAM,CAAC,KAAK,CAAC,EAAb,CAAa,CAAC,CAAC;SAC5C;IACH,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,0BAA0B,GAAG,UAAC,GAAc;IAAd,oCAAc;IAChD,IAAI,CAAC,eAAe,EAAE;QACpB,IAAM,QAAM,GAAG,QAAE,CAAC,QAAQ,EAAE;YAC1B,GAAG,EAAE,YAAY;YACjB,IAAI,EAAE,iBAAiB;YACvB,KAAK,EAAE,IAAI;SACZ,CAAC,CAAC,EAAuB,CAAC;QAE3B,IAAM,SAAS,GAAG,QAAE,CAAC,MAAM,EAAE;YAC3B,IAAI,EAAE,kBAAkB;YACxB,GAAG,EAAE,YAAY;YACjB,IAAI,EAAE,UAAU;SACjB,CAAC,CAAC,EAAqB,CAAC;QAEzB,IAAM,KAAK,GAAG,QAAE,CAAC,MAAM,EAAE;YACvB,IAAI,EAAE,mBAAmB;YACzB,GAAG,EAAE,YAAY;YACjB,IAAI,EAAE,UAAU;SACjB,CAAC,CAAC,EAAqB,CAAC;QAEzB,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,QAAM,CAAC,CAAC;QAC7B,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;QAChC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAE5B,eAAe,GAAG,IAAI,OAAO,CAAC,UAAC,mBAAmB,EAAE,kBAAkB;YACpE,QAAM,CAAC,MAAM,GAAG;gBACd,mBAAmB,CAAC,IAAI,CAAC,CAAC;YAC5B,CAAC,CAAC;YACF,QAAM,CAAC,OAAO,GAAG;gBACf,cAAc,GAAG,KAAK,CAAC;gBACvB,kBAAkB,CAAC,KAAK,CAAC,CAAC;YAC5B,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;KACJ;AACH,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjEF,yCAA8C;AAC9C,iDAA4D;AAC5D,sDAA2E;AAE3E,wDAAgF;AAEhF,iDAAiE;AACjE,+CAA4D;AAE5D,4CAAsD;AACtD,yCAAuD;AACvD,+CAAwD;AACxD,2CAAoD;AACpD,sCAA2C;AAC3C,qCAA0C;AAC1C,sCAAyC;AACzC,mCAAqC;AACrC,sDAAwE;AACxE,4CAAsD;AACtD,0CAAsD;AACtD,8CAAqD;AAErD,yBAA6B;AAC7B,kDAAgE;AAChE,kDAAyD;AAEzD;;;;;GAKG;AACH;IAAgC,8BAAS;IAkOvC;;;;;;;;OAQG;IACH,oBACS,OAAoB,EACpB,OAA2B,EAC3B,QAAoC,EACpC,MAAqB,EACrB,EAAY;QALrB,YAOE,kBAAM,OAAO,EAAE,UAAU,CAAC,EAAE,EAAE,QAAQ,CAAC,SA+BxC;QArCQ,aAAO,GAAP,OAAO,CAAa;QACpB,aAAO,GAAP,OAAO,CAAoB;QAC3B,cAAQ,GAAR,QAAQ,CAA4B;QACpC,YAAM,GAAN,MAAM,CAAe;QACrB,QAAE,GAAF,EAAE,CAAU;QA8Nb,kBAAY,GAAG,qBAAQ,CAC7B;YACE,KAAI,CAAC,eAAe,CAAC,aAAa,EAAE,CAAC;YACrC,IAAI,WAAW,GAAG,QAAE,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;YACxD,IAAI,WAAW,IAAI,SAAS,IAAI,WAAW,IAAI,EAAE,EAAE;gBACjD,WAAW,GAAG,KAAI,CAAC,eAAe,CAAC;aACpC;YACD,IAAI,KAAI,CAAC,OAAO,CAAC,YAAY,EAAE;gBAC7B,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;aACxC;iBAAM;gBACL,KAAI,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;aACnC;YACD,aAAK,CAAC,KAAK,EAAE,CAAC;QAChB,CAAC,EACD,IAAI,EACJ,IAAI,CACL,CAAC;QA1OA,IAAM,aAAa,GAAG,KAAI,CAAC,eAAe,CAAC,OAAO,CAAC,qBAAqB,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC;QAC9F,IAAM,cAAc,GAAG,mCAAgB,CAAC,oBAAoB,CAAC,OAAO,EAAE,UAAU,eAAO,aAAa,EAAK,OAAO,EAAG,CAAC;QACpH,IAAM,iBAAiB,GAAG,KAAI,CAAC,qBAAqB,CAAC,GAAG,CAAC,6CAAqB,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QAC1G,KAAI,CAAC,OAAO,GAAG,mBAAM,CAAC,EAAE,EAAE,cAAc,EAAE,iBAAiB,CAAC,CAAC;QAE7D,KAAI,CAAC,MAAM,GAAG,MAAM,IAAI,KAAI,CAAC,aAAa,EAAE,CAAC;QAE7C,IAAI,KAAI,CAAC,OAAO,CAAC,aAAa,IAAI,IAAI,EAAE;YACtC,KAAI,CAAC,OAAO,CAAC,aAAa,GAAG,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,iBAAiB,IAAI,yBAAW,CAAC,cAAc,EAAE,CAAC;SAC/G;QACD,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC,UAAU,CAAC,EAAE;YAC1C,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;SAC5C;QAED,eAAM,CAAC,MAAM,CAAC,KAAI,CAAC,qBAAqB,CAAC,CAAC;QAC1C,eAAM,CAAC,MAAM,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC;QAE3B,IAAI,CAAC,KAAI,CAAC,uBAAuB,EAAE,EAAE;YACnC,8CAA8C;YAC9C,sFAAsF;YACtF,oFAAoF;YACpF,iGAAiG;YACjG,+DAA+D;YAC/D,mGAAmG;YAEnG,sCAAmB,CAAC,OAAO,EAAE,cAAM,YAAI,CAAC,YAAY,EAAE,EAAnB,CAAmB,CAAC,CAAC;SACzD;QACD,KAAI,CAAC,SAAS,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAChC,KAAI,CAAC,eAAe,EAAE,CAAC;;IACzB,CAAC;IACM,8BAAS,GAAhB,UAAiB,OAAoB,EAAE,MAAqB;QAC1D,IAAI,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;YACxC,IAAM,KAAK,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACvC,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,KAAK,CAAC;YAE/B,IAAM,WAAW,GAAG,IAAI,CAAC,uBAAuB,EAAE,CAAC;YACnD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,YAAY,CAAC,EAAE;gBAC5C,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,YAAY,EAAE,WAAW,CAAC,CAAC;aACtD;YAED,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE;gBACvB,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,WAAW,CAAC;aAClC;SACF;IACH,CAAC;IACD;;;OAGG;IACI,6BAAQ,GAAf,UAAgB,YAAmB;QAAnB,kDAAmB;QACjC,IAAI,YAAY,EAAE;YAChB,IAAI,CAAC,YAAY,EAAE,CAAC;SACrB;QACD,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;IAC7C,CAAC;IAED;;;OAGG;IACI,wCAAmB,GAA1B,UAA2B,YAAmB;QAAnB,kDAAmB;QAC5C,IAAI,YAAY,EAAE;YAChB,IAAI,CAAC,YAAY,EAAE,CAAC;SACrB;QACD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,EAAE,QAAQ,CAAC,CAAC;IAC7C,CAAC;IAED;;;;;;;OAOG;IACI,sCAAiB,GAAxB,UAAyB,YAAmB;QAAnB,kDAAmB;QAC1C,IAAI,IAAI,CAAC,eAAe,EAAE,EAAE;YAC1B,IAAI,YAAY,EAAE;gBAChB,IAAI,CAAC,YAAY,EAAE,CAAC;aACrB;YACD,IAAI,CAAC,QAAQ,EAAE,CAAC;SACjB;IACH,CAAC;IAED;;;;;;OAMG;IACI,yCAAoB,GAA3B,UAA4B,YAAmB;QAAnB,kDAAmB;QAC7C,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,IAAI,YAAY,EAAE;gBAChB,IAAI,CAAC,YAAY,EAAE,CAAC;aACrB;YACD,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;IACH,CAAC;IAES,oCAAe,GAAzB;QACE,OAAO,CACL,IAAI,CAAC,yBAAyB,EAAE;YAChC,IAAI,CAAC,+BAA+B,EAAE;YACtC,IAAI,CAAC,mBAAmB,EAAE;YAC1B,IAAI,CAAC,yBAAyB,EAAE,CACjC,CAAC;IACJ,CAAC;IAEO,sCAAiB,GAAzB;QACE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE;YAC/B,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;gBACtB,CAAC,CAAC,+BAAc,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE,IAAI,EAAE,iBAAiB,CAAC;gBACzG,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC;SAC1B;aAAM;YACL,IAAI,QAAQ,GAAG,yBAAW,CAAC,6BAA6B,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YAClG,OAAO,QAAQ;gBACb,CAAC,CAAC,2CAAoB,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC;gBAClH,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC;SAC1B;IACH,CAAC;IAEO,4CAAuB,GAA/B;QACE,IAAM,SAAS,GAAG,QAAE,CAAC,KAAK,CAAC,CAAC;QAC5B,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC,CAAC;QAC5C,OAAO,SAAS,CAAC,IAAI,EAAE,CAAC;IAC1B,CAAC;IAED,sBAAY,uCAAe;aAA3B;YACE,OAAO,mBAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QACtC,CAAC;;;OAAA;IAEO,8CAAyB,GAAjC;QAAA,iBAgBC;QAfC,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,SAAS,EAAE;YACrC,IAAI,CAAC,eAAe,GAAG,UAAC,CAAa;gBACnC,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,KAAI,EAAE,CAAC,EAAE,KAAI,CAAC,MAAM,CAAC,CAAC;YAClD,CAAC,CAAC;YAEF,IAAI,mCAAgB,EAAE;iBACnB,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC;iBACzB,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;iBAC5B,gBAAgB,CAAC,UAAC,CAAQ,IAAK,YAAI,CAAC,eAAe,CAAC,CAAC,CAAC,EAAvB,CAAuB,CAAC;iBACvD,KAAK,EAAE,CAAC;YAEX,OAAO,IAAI,CAAC;SACb;aAAM;YACL,OAAO,KAAK,CAAC;SACd;IACH,CAAC;IAEO,oDAA+B,GAAvC;QAAA,iBAeC;QAdC,IAAI,IAAI,CAAC,uBAAuB,EAAE,EAAE;YAClC,IAAI,CAAC,eAAe,GAAG;gBACrB,QAAE,CAAC,KAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,mCAAgB,CAAC,aAAa,CAAC,CAAC;YAC1E,CAAC,CAAC;YAEF,QAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAC,CAAQ;gBACpC,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,KAAI,CAAC,eAAe,EAAE,CAAC;YACzB,CAAC,CAAC,CAAC;YAEH,OAAO,IAAI,CAAC;SACb;aAAM;YACL,OAAO,KAAK,CAAC;SACd;IACH,CAAC;IAEO,8CAAyB,GAAjC;QAAA,iBAqBC;QApBC,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,EAAE;YAC7B,IAAI,CAAC,eAAe,GAAG;gBACrB,IAAI,KAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE;oBACtC,IAAI,KAAI,CAAC,OAAO,CAAC,aAAa,EAAE;wBAC9B,KAAI,CAAC,iBAAiB,EAAE,CAAC;qBAC1B;yBAAM;wBACL,KAAI,CAAC,mBAAmB,EAAE,CAAC;qBAC5B;iBACF;qBAAM;oBACL,KAAI,CAAC,QAAQ,EAAE,CAAC;iBACjB;YACH,CAAC,CAAC;YAEF,QAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE;gBAC3B,KAAI,CAAC,eAAe,EAAE,CAAC;YACzB,CAAC,CAAC,CAAC;YAEH,OAAO,IAAI,CAAC;SACb;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAEO,wCAAmB,GAA3B;QACE,kEAAkE;QAClE,kEAAkE;QAClE,+CAA+C;QAC/C,IAAI,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,aAAK,CAAC,gBAAgB,CAAC,QAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,EAAE;YAC9F,QAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;YAC3D,IAAI,IAAI,CAAC,OAAO,CAAC,qBAAqB,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,IAAI,IAAI,CAAC,eAAe,EAAE,CAAC,EAAE;gBACjG,QAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;aACnD;YACD,OAAO,IAAI,CAAC;SACb;aAAM;YACL,OAAO,KAAK,CAAC;SACd;IACH,CAAC;IAEO,oCAAe,GAAvB,UAAwB,IAAY;QAClC,IAAI,CAAC,cAAc,CAAC,aAAa,CAC/B,kDAAwB,CAAC,YAAY,EACrC;YACE,WAAW,EAAE,IAAI;YACjB,aAAa,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK;YAChC,MAAM,EAAE,aAAK,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC;SACnD,EACD,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,IAAI,CACV,CAAC;IACJ,CAAC;IAoBO,mCAAc,GAAtB,UAAuB,GAAW;QAChC,IAAM,UAAU,GAAG,iCAAiC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC/D,IAAM,UAAU,GAAG,mBAAmB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAEjD,OAAO,UAAU,IAAI,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;IAC7C,CAAC;IAEO,iCAAY,GAApB;QACE,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;YAC7B,IAAM,GAAG,GAAG,yBAAW,CAAC,6BAA6B,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YAC9F,OAAO,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;SACjC;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,SAAS,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE;YACjE,IAAI,CAAC,QAAQ,EAAE,CAAC;SACjB;QAED,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,SAAS,EAAE;YACnC,OAAO,IAAI,CAAC,cAAc,CAAC,aAAK,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,EAAU,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;SAC1F;QAED,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACnD,CAAC;IAEO,sCAAiB,GAAzB;QACE,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,GAAG,CAAC;IACrC,CAAC;IAEO,6BAAQ,GAAhB;QACE,IAAI,EAAE,GAAG,aAAK,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,iBAAO,CAAC,GAAG,EAAE,CAAC;QACzD,IAAI,EAAE,IAAI,iBAAO,CAAC,MAAM,IAAI,IAAI,CAAC,eAAe,EAAE,EAAE;YAClD,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,mBAAmB,CAAC;SAC1C;aAAM,IAAI,EAAE,IAAI,iBAAO,CAAC,OAAO,IAAI,IAAI,CAAC,eAAe,EAAE,EAAE;YAC1D,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,aAAa,CAAC;SACpC;IACH,CAAC;IAEO,oCAAe,GAAvB;QACE,IAAI,EAAE,GAAG,aAAK,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,iBAAO,CAAC,GAAG,EAAE,CAAC;QACzD,IAAI,EAAE,IAAI,iBAAO,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,kBAAkB,CAAC,IAAI,SAAS,EAAE;YAC5E,OAAO,IAAI,CAAC;SACb;aAAM,IAAI,EAAE,IAAI,iBAAO,CAAC,OAAO,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,SAAS,EAAE;YAC9E,OAAO,IAAI,CAAC;SACb;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAEO,qDAAgC,GAAxC;QACE,OAAO,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IACpE,CAAC;IAEO,4CAAuB,GAA/B;QACE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,IAAI,IAAI,CAAC,gCAAgC,EAAE,CAAC,IAAI,uBAAU,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC3H,CAAC;IAphBM,aAAE,GAAG,YAAY,CAAC;IAElB,mBAAQ,GAAG;QAChB,8BAAc,CAAC;YACb,UAAU,EAAE,UAAU;SACvB,CAAC,CAAC;IACL,CAAC,CAAC;IAEF;;;OAGG;IACI,kBAAO,GAAuB;QACnC;;;;;;;;;;;;;;;;;;;;;;;;;;;;WA4BG;QACH,KAAK,EAAE,mCAAgB,CAAC,gBAAgB,EAAE;QAE1C;;;;;;;;;;WAUG;QACH,aAAa,EAAE,mCAAgB,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC;QAE3E;;;;;WAKG;QACH,aAAa,EAAE,mCAAgB,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC;QAE3E;;;;;;;;;;;;;;;;WAgBG;QACH,qBAAqB,EAAE,mCAAgB,CAAC,kBAAkB,CAAC,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC;QAEnF;;;;;;;;;;;;;;;;;;;;;;;;WAwBG;QACH,YAAY,EAAE,mCAAgB,CAAC,iBAAiB,EAAE;QAElD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAsCG;QACH,aAAa,EAAE,mCAAgB,CAAC,iBAAiB,EAAE;QAEnD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;WAuCG;QACH,OAAO,EAAE,mCAAgB,CAAC,iBAAiB,CAA0C;YACnF,OAAO,IAAI,CAAC;QACd,CAAC,CAAC;QAEF;;;;;;;;;;;;;;;;;;;;;;;WAuBG;QACH,YAAY,EAAE,mCAAgB,CAAC,iBAAiB,CAAyB,cAAM,WAAI,EAAJ,CAAI,CAAC;KACrF,CAAC;IAwTJ,iBAAC;CAAA,CAthB+B,qBAAS,GAshBxC;AAthBY,gCAAU;AAwhBvB,+BAAc,CAAC,2BAA2B,CAAC,UAAU,CAAC,CAAC;;;;;;;;ACxjBvD;;AAEA;AACA,cAAc,mBAAO,CAAC,GAAuO;AAC7P,4CAA4C,QAAS;AACrD;AACA;;AAEA,eAAe;AACf;AACA;AACA,aAAa,mBAAO,CAAC,GAAgD;AACrE;AACA;AACA,GAAG,KAAU;AACb;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;ACzBA,2BAA2B,mBAAO,CAAC,GAA4C;AAC/E;;;AAGA;AACA,cAAc,QAAS,4PAA4P,uHAAuH,mBAAmB,0BAA0B,oBAAoB,0BAA0B,GAAG,qNAAqN,gBAAgB,GAAG,uXAAuX,+BAA+B,GAAG,8HAA8H,mBAAmB,GAAG,2CAA2C,mBAAmB,0BAA0B,oBAAoB,mBAAmB,+BAA+B,GAAG,yGAAyG,gBAAgB,mBAAmB,GAAG,+LAA+L,+BAA+B,GAAG,4DAA4D,mBAAmB,mBAAmB,GAAG;;AAEn3D;;;;;;;;;;;ACPA,0CAAkC;AAClC,mCAAqC;AAErC,6BAAoC,OAAoB,EAAE,YAAwB;IAChF,IAAM,eAAe,GAAG,iBAAI,CAAC,cAAM,mBAAY,EAAE,EAAd,CAAc,CAAC,CAAC;IAEnD,QAAE,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,aAAa,EAAE,OAAO,EAAE,WAAW,EAAE,SAAS,CAAC,EAAE,eAAe,CAAC,CAAC;IAClF,IAAI,cAAsB,CAAC;IAC3B,QAAE,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,YAAY,EAAE;QAC3B,cAAc,GAAG,MAAM,CAAC,UAAU,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;IAC5D,CAAC,CAAC,CAAC;IACH,QAAE,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,UAAU,EAAE;QACzB,IAAI,cAAc,EAAE;YAClB,YAAY,CAAC,cAAc,CAAC,CAAC;SAC9B;IACH,CAAC,CAAC,CAAC;AACL,CAAC;AAbD,kDAaC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBD,8CAAgE;AAChE,0CAA6C;AAI7C,mCAA0C;AAC1C,4CAAsD;AACtD,0CAAkD;AAGlD,2CAAqD;AAGrD;IAGE,uBAAmB,OAAuB,EAAS,QAA4B;QAA5D,YAAO,GAAP,OAAO,CAAgB;QAAS,aAAQ,GAAR,QAAQ,CAAoB;IAAG,CAAC;IAEtE,6BAAK,GAAlB;;;;;;;wBACE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE;4BAClC,sBAAO;yBACR;wBAEyB,qBAAM,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,WAAW,EAAE,CAAC,UAAU,EAAE;;wBAAlF,iBAAiB,GAAG,SAA8D;wBAElF,SAAS,GAAG,QAAE,CAAC,KAAK,EAAE;4BAC1B,SAAS,EAAE,gBAAgB;yBAC5B,CAAC,CAAC;wBAEG,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAM,MAAM;;;;;wCACtC,eAAe,GAAG,QAAE,CAAC,KAAK,CAAC,CAAC;wCAClC,SAAS,CAAC,MAAM,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;wCAE/B,YAAY,GAAG,QAAE,CAAC,KAAK,EAAE;4CAC7B,SAAS,EAAE,gBAAgB;yCAC5B,CAAC,CAAC;wCAEH,eAAe,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;wCAElC,SAAS,GAAG,2BAAY,CAAC,aAAa,CAAC,MAAM,EAAE,IAAI,CAAC,QAAqC,CAAC,CAAC;wCAC3F,MAAM,GAAqC,EAAE,CAAC;wCAEpD,MAAM,CAAC,eAAe,CAAC,GAAG;4CACxB,OAAO,EAAE,EAAE,MAAM,UAAE,iBAAiB,qBAAE;4CACtC,YAAY,EAAE,mBAAmB;4CACjC,KAAK,EAAE,GAAG;4CACV,kBAAkB,EAAE,UAAC,MAA6C;gDAChE,IAAM,SAAS,GAAG,gBAAG,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,EAAE,aAAG,IAAI,UAAG,CAAC,QAAQ,EAAE,EAAd,CAAc,CAAC,CAAC;gDACtE,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC;qDACxC,MAAM,CAAC,SAAS,CAAC;qDACjB,IAAI,CAAC,GAAG,CAAC,CAAC;4CACf,CAAC;4CACD,mBAAmB,EAAE,UAAC,MAA2C;gDAC/D,IAAM,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAE,MAAM,CAAC,KAAK,CAAC,MAAe,CAAC,CAAC,CAAC,IAAI,CAAC;gDAC/D,IAAI,EAAE,IAAI,MAAM,CAAC,YAAY,IAAI,QAAQ,CAAC,WAAW,EAAE;oDACrD,IAAM,SAAS,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;oDACxC,IAAM,KAAK,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC;oDACrC,KAAK,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC;oDAC7B,SAAS,CAAC,eAAe,EAAE,CAAC;oDAC5B,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;iDAC3B;4CACH,CAAC;yCACF,CAAC;wCAEK,qBAAM,IAAI,2BAAY,EAAE,CAAC,KAAK,CACnC;6DAEO,SAAS,EACT,MAAM;6CAEZ,EACD,YAAY,EACZ;gDACE,SAAS,EAAE,GAAG;6CACf,CACF;4CAXD,sBAAO,SAWN,EAAC;;;6BACH,CAAC,CAAC;wBAEH,IAAI,CAAC,WAAW,GAAG;4BACjB,GAAG,EAAE;gCACH,gBAAgB,EAAE;oCAChB,WAAW,CAAC,OAAO,CAAC,eAAK,IAAI,QAAC,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,CAAC,IAAI,CAAC,EAAvE,CAAuE,CAAC,CAAC;gCACxG,CAAC;6BACF;yBACK,CAAC;wBAEW,qBAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;;wBAAzC,WAAW,GAAG,SAA2B;wBACzC,SAAS,GAAG,IAAI,qBAAS,CAAC,eAAK;4BACnC,WAAW,CAAC,OAAO,CAAC,eAAK;gCACvB,IAAM,GAAG,GAAG,KAAK,CAAC,WAAW,IAAI,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC;gCACvD,IAAI,GAAG,EAAE;oCACP,GAAG,CAAC,cAAc,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;oCACrC,GAAG,CAAC,kBAAkB,EAAE,CAAC;iCAC1B;4BACH,CAAC,CAAC,CAAC;wBACL,CAAC,EAAE,0BAA0B,CAAC,CAAC;wBAC/B,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC,CAAC;wBAE1C,sBAAO,SAAS,EAAC;;;;KAClB;IACH,oBAAC;AAAD,CAAC;AAvFY,sCAAa;AAyF1B;IAAA;IAmIA,CAAC;IA9HQ,kCAAI,GAAX,UAAY,MAAW;QACrB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC;QAC5B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,WAAW,CAAC;QAC1D,MAAM,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;IAC1D,CAAC;IAEM,oCAAM,GAAb;QACE,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YACnD,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAChD,IAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE,GAAG,CAAC,CAAC;YACjD,IAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YACzC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;YACzC,OAAO,QAAE,CAAC,KAAK,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC,EAAE,CAAC;SACtC;QACD,OAAO,QAAE,CAAC,KAAK,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC;IACxC,CAAC;IAEO,yCAAW,GAAnB,UAAoB,MAAoB;QAAxC,iBA0CC;QAzCC,IAAM,SAAS,GAAG,QAAE,CAAC,KAAK,CAAC,CAAC;QAE5B,iBAAI,CAAC,MAAM,CAAC,GAAG,EAAE,UAAC,KAAa,EAAE,aAAqB;YACpD,IAAI,aAAa,IAAI,mBAAmB,IAAI,aAAa,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;gBAC7E,OAAO;aACR;YAED,IAAI,KAAI,CAAC,2BAA2B,CAAC,KAAK,EAAE,aAAa,CAAC,EAAE;gBAC1D,OAAO;aACR;YAED,IAAM,UAAU,GAAG,QAAE,CAAC,KAAK,EAAE,EAAE,SAAS,EAAE,uCAAuC,EAAE,CAAC,CAAC;YACrF,IAAM,SAAS,GAAG,QAAE,CAClB,KAAK,EACL;gBACE,SAAS,EAAE,yCAAyC;aACrD,EACD,aAAa,CACd,CAAC;YAEF,IAAM,UAAU,GAAG,KAAI,CAAC,iCAAiC,CAAC,MAAM,EAAE,aAAa,CAAC,CAAC;YAEjF,IAAM,iBAAiB,GAAG,QAAE,CAC1B,KAAK,EACL;gBACE,SAAS,EAAE,0CAA0C;aACtD,EACD,UAAU,CACX,CAAC;YAEF,IAAI,KAAI,CAAC,aAAa,EAAE;gBACtB,KAAI,CAAC,eAAe,CAAC,SAAS,CAAC,EAAE,EAAE,KAAI,CAAC,aAAa,CAAC,CAAC;gBACvD,KAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,EAAE,EAAE,KAAI,CAAC,aAAa,CAAC,CAAC;aAChE;YAED,UAAU,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;YAChC,UAAU,CAAC,MAAM,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;YACxC,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;QAEH,OAAO,SAAS,CAAC;IACnB,CAAC;IAEO,yDAA2B,GAAnC,UAAoC,KAAa,EAAE,aAAqB;QACtE,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAM,gBAAgB,GAAG,aAAa,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;YACrG,IAAM,iBAAiB,GAAG,KAAK;gBAC7B,CAAC,CAAC,KAAK;qBACF,QAAQ,EAAE;qBACV,WAAW,EAAE;qBACb,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,CAAC;gBACpD,CAAC,CAAC,KAAK,CAAC;YAEV,IAAI,CAAC,gBAAgB,IAAI,CAAC,iBAAiB,EAAE;gBAC3C,OAAO,IAAI,CAAC;aACb;SACF;QAED,OAAO,KAAK,CAAC;IACf,CAAC;IAEO,+DAAiC,GAAzC,UAA0C,MAAoB,EAAE,aAAqB;QACnF,IAAI,UAAU,GAAG,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,EAAE,CAAC;QACtD,IAAI,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE;YAClC,IAAM,wBAAwB,GAAG,iBAAI,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAwC,EAAE,qBAAW;gBACtG,OAAO,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,WAAW,EAAE,IAAI,aAAa,CAAC;YAC1E,CAAC,CAAC,CAAC;YACH,IAAI,wBAAwB,IAAI,wBAAwB,CAAC,SAAS,IAAI,MAAM,EAAE;gBAC5E,UAAU,GAAM,qBAAS,CAAC,qBAAqB,CAAC,UAAU,CAAC,CAAC,QAAQ,EAAE,mBAAc,UAAU,OAAI,CAAC;aACpG;SACF;QACD,OAAO,UAAU,CAAC;IACpB,CAAC;IAEO,6CAAe,GAAvB,UAAwB,eAA4B,EAAE,MAAc;QAClE,IAAI,aAAa,GAAgB,eAAe,CAAC;QAEjD,IAAI,aAAa,IAAI,IAAI,IAAI,aAAa,CAAC,SAAS,IAAI,IAAI,EAAE;YAC5D,IAAM,KAAK,GAAG,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC,KAAK,GAAG,yBAAW,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;YAC7G,aAAa,CAAC,SAAS,GAAG,EAAE,CAAC;YAC7B,KAAK,CAAC,OAAO,CAAC,eAAK;gBACjB,IAAM,KAAK,GAAG,IAAI,MAAM,CAAC,GAAG,GAAG,yBAAW,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,GAAG,EAAE,GAAG,CAAC,CAAC;gBAC3E,IAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBACjC,IAAI,IAAI,CAAC;gBAET,IAAI,KAAK,IAAI,IAAI,EAAE;oBACjB,IAAI,GAAG,QAAE,CAAC,MAAM,EAAE;wBAChB,SAAS,EAAE,qCAAqC;qBACjD,CAAC,CAAC;oBACH,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;oBACpB,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;oBACnC,IAAI,GAAG,QAAE,CAAC,MAAM,CAAC,CAAC;oBAClB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oBACzC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;iBACpC;qBAAM;oBACL,IAAI,GAAG,QAAE,CAAC,MAAM,CAAC,CAAC;oBAClB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBACjB,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;iBACpC;YACH,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAEM,qCAAO,GAAd,UAAe,MAAW;QACxB,OAAO,IAAI,CAAC;IACd,CAAC;IACH,0BAAC;AAAD,CAAC;AAnIY,kDAAmB;;;;;;;;;;;ACtGhC,mCAA0C;AAC1C,0CAAkC;AAElC;IAME,gCAAmB,WAAiC;QAAjC,gBAAW,GAAX,WAAW,CAAsB;QAClD,IAAI,CAAC,iBAAiB,GAAG,QAAE,CAAC,KAAK,EAAE;YACjC,SAAS,EAAE,kDAAkD;SAC9D,CAAC,CAAC;QAEH,IAAI,CAAC,iBAAiB,GAAG,QAAE,CAAC,KAAK,EAAE;YACjC,SAAS,EAAE,+CAA+C;SAC3D,CAAC,CAAC;QAEH,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;IAC/B,CAAC;IAEM,uCAAM,GAAb,UAAc,EAAU;QACtB,IAAM,oBAAoB,GAAG,IAAI,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC;QACzD,IAAM,oBAAoB,GAAG,IAAI,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC;QAEzD,IAAI,oBAAoB,IAAI,oBAAoB,EAAE;YAChD,IAAI,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,CAAC;YACjD,IAAI,CAAC,kBAAkB,CAAC,oBAAoB,CAAC,CAAC;YAC9C,IAAI,IAAI,CAAC,WAAW,EAAE;gBACpB,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;aACtB;SACF;IACH,CAAC;IAEM,8CAAa,GAApB,UAAqB,OAAe,EAAE,EAAU;QAAhD,iBAgBC;QAfC,IAAM,iBAAiB,GAAG,QAAE,CAC1B,KAAK,EACL;YACE,EAAE;YACF,SAAS,EAAE,+BAA+B;SAC3C,EACD,OAAO,CACR,CAAC;QAEF,iBAAiB,CAAC,EAAE,CAAC,OAAO,EAAE,cAAM,YAAI,CAAC,MAAM,CAAC,EAAE,CAAC,EAAf,CAAe,CAAC,CAAC;QAErD,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAChD,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;QAEpD,OAAO,IAAI,CAAC;IACd,CAAC;IAEM,2CAAU,GAAjB,UAAkB,OAAY,EAAE,QAAgB;QAC9C,IAAM,UAAU,GAAG,QAAE,CAAC,KAAK,EAAE;YAC3B,SAAS,EAAE,uCAAuC;YAClD,iBAAiB,EAAE,QAAQ;SAC5B,CAAC,CAAC;QACH,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAE9B,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACzC,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QAE7C,OAAO,IAAI,CAAC;IACd,CAAC;IAEM,2CAAU,GAAjB,UAAkB,OAAe,EAAE,OAAY,EAAE,EAAU;QACzD,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;IACjE,CAAC;IAEO,mDAAkB,GAA1B,UAA2B,EAAU;QACnC,OAAO,iBAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE,iBAAO,IAAI,cAAO,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,EAAhC,CAAgC,CAAC,CAAC;IACpF,CAAC;IAEO,mDAAkB,GAA1B,UAA2B,EAAU;QACnC,OAAO,iBAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE,2BAAiB,IAAI,wBAAiB,CAAC,YAAY,CAAC,iBAAiB,CAAC,IAAI,EAAE,EAAvD,CAAuD,CAAC,CAAC;IACrH,CAAC;IAEO,sDAAqB,GAA7B,UAA8B,iBAAsB;QAClD,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,iBAAO;YACrC,OAAO,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC;QACH,iBAAiB,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC;IAC/C,CAAC;IAEO,mDAAkB,GAA1B,UAA2B,cAAmB;QAC5C,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,iBAAO;YACrC,OAAO,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC;QACH,cAAc,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC;IAC5C,CAAC;IACH,6BAAC;AAAD,CAAC;AAxFY,wDAAsB;;;;;;;;ACHnC;;AAEA;AACA,cAAc,mBAAO,CAAC,GAA+O;AACrQ,4CAA4C,QAAS;AACrD;AACA;;AAEA,eAAe;AACf;AACA;AACA,aAAa,mBAAO,CAAC,GAAgD;AACrE;AACA;AACA,GAAG,KAAU;AACb;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;ACzBA,2BAA2B,mBAAO,CAAC,GAA4C;AAC/E;;;AAGA;AACA,cAAc,QAAS,4PAA4P,4EAA4E,UAAU,iBAAiB,KAAK,UAAU,iBAAiB,KAAK,GAAG,6BAA6B,UAAU,iBAAiB,KAAK,UAAU,iBAAiB,KAAK,GAAG,2BAA2B,UAAU,iBAAiB,KAAK,UAAU,iBAAiB,KAAK,GAAG,wBAAwB,UAAU,iBAAiB,KAAK,UAAU,iBAAiB,KAAK,GAAG,+BAA+B,UAAU,iBAAiB,KAAK,UAAU,iBAAiB,KAAK,GAAG,4BAA4B,UAAU,iBAAiB,KAAK,UAAU,iBAAiB,KAAK,GAAG,0BAA0B,UAAU,iBAAiB,KAAK,UAAU,iBAAiB,KAAK,GAAG,uBAAuB,UAAU,iBAAiB,KAAK,UAAU,iBAAiB,KAAK,GAAG,4BAA4B,QAAQ,6CAA6C,0CAA0C,yCAAyC,wCAAwC,qCAAqC,iBAAiB,KAAK,YAAY,uCAAuC,oCAAoC,mCAAmC,kCAAkC,+BAA+B,iBAAiB,KAAK,GAAG,mCAAmC,UAAU,sCAAsC,mCAAmC,kCAAkC,iCAAiC,8BAA8B,KAAK,UAAU,wCAAwC,qCAAqC,oCAAoC,mCAAmC,gCAAgC,KAAK,GAAG,gCAAgC,UAAU,sCAAsC,mCAAmC,kCAAkC,iCAAiC,8BAA8B,KAAK,UAAU,wCAAwC,qCAAqC,oCAAoC,mCAAmC,gCAAgC,KAAK,GAAG,8BAA8B,UAAU,sCAAsC,mCAAmC,kCAAkC,iCAAiC,8BAA8B,KAAK,UAAU,wCAAwC,qCAAqC,oCAAoC,mCAAmC,gCAAgC,KAAK,GAAG,2BAA2B,UAAU,sCAAsC,mCAAmC,kCAAkC,iCAAiC,8BAA8B,KAAK,UAAU,wCAAwC,qCAAqC,oCAAoC,mCAAmC,gCAAgC,KAAK,GAAG,oCAAoC,QAAQ,iBAAiB,KAAK,WAAW,mBAAmB,KAAK,YAAY,iBAAiB,KAAK,GAAG,iCAAiC,QAAQ,iBAAiB,KAAK,WAAW,mBAAmB,KAAK,YAAY,iBAAiB,KAAK,GAAG,+BAA+B,QAAQ,iBAAiB,KAAK,WAAW,mBAAmB,KAAK,YAAY,iBAAiB,KAAK,GAAG,4BAA4B,QAAQ,iBAAiB,KAAK,WAAW,mBAAmB,KAAK,YAAY,iBAAiB,KAAK,GAAG,gCAAgC,uBAAuB,kBAAkB,sBAAsB,iBAAiB,WAAW,kBAAkB,GAAG,6CAA6C,kBAAkB,GAAG,4CAA4C,iBAAiB,iBAAiB,GAAG,8BAA8B,mBAAmB,wBAAwB,2BAA2B,GAAG,oCAAoC,sBAAsB,GAAG,uDAAuD,wBAAwB,GAAG,4CAA4C,kBAAkB,GAAG,2DAA2D,mBAAmB,gDAAgD,6CAA6C,wCAAwC,GAAG,oCAAoC,yBAAyB,sBAAsB,0BAA0B,uBAAuB,yBAAyB,kBAAkB,8BAA8B,2BAA2B,sBAAsB,gCAAgC,6BAA6B,4BAA4B,2BAA2B,wBAAwB,2BAA2B,oBAAoB,sBAAsB,wBAAwB,qCAAqC,8BAA8B,qCAAqC,0BAA0B,uBAAuB,GAAG,yGAAyG,qCAAqC,GAAG,0CAA0C,mBAAmB,GAAG,0CAA0C,0BAA0B,sBAAsB,GAAG,iDAAiD,qBAAqB,wBAAwB,GAAG,mCAAmC,sBAAsB,GAAG,mEAAmE,oBAAoB,sBAAsB,uBAAuB,GAAG,0FAA0F,8BAA8B,mBAAmB,kBAAkB,qBAAqB,8BAA8B,uBAAuB,uBAAuB,mBAAmB,qBAAqB,GAAG,8CAA8C,mBAAmB,mBAAmB,GAAG,+CAA+C,eAAe,mBAAmB,GAAG,4CAA4C,uBAAuB,kBAAkB,oBAAoB,yBAAyB,gBAAgB,GAAG,yDAAyD,wBAAwB,GAAG,uDAAuD,sBAAsB,8BAA8B,uBAAuB,gCAAgC,iBAAiB,qBAAqB,0BAA0B,GAAG,6DAA6D,sBAAsB,4BAA4B,wBAAwB,qBAAqB,GAAG,0CAA0C,qBAAqB,0BAA0B,uBAAuB,aAAa,wCAAwC,qCAAqC,oCAAoC,mCAAmC,gCAAgC,GAAG,4DAA4D,kBAAkB,GAAG,yEAAyE,qBAAqB,GAAG,sCAAsC,gBAAgB,qBAAqB,iBAAiB,sBAAsB,GAAG,yCAAyC,iBAAiB,oBAAoB,sBAAsB,GAAG,qDAAqD,uBAAuB,GAAG,kDAAkD,8BAA8B,GAAG,yCAAyC,uBAAuB,qBAAqB,2BAA2B,sBAAsB,sBAAsB,qBAAqB,qCAAqC,GAAG,qDAAqD,uCAAuC,GAAG,+CAA+C,8BAA8B,uBAAuB,yBAAyB,sBAAsB,0BAA0B,uBAAuB,yBAAyB,kBAAkB,gCAAgC,6BAA6B,wBAAwB,4BAA4B,yBAAyB,wBAAwB,oBAAoB,kBAAkB,wBAAwB,GAAG,uDAAuD,iBAAiB,GAAG,qDAAqD,kBAAkB,kBAAkB,gBAAgB,GAAG,kEAAkE,mBAAmB,mCAAmC,gCAAgC,2BAA2B,GAAG,wDAAwD,qCAAqC,GAAG,wDAAwD,yBAAyB,sBAAsB,0BAA0B,uBAAuB,yBAAyB,kBAAkB,gCAAgC,6BAA6B,wBAAwB,4BAA4B,yBAAyB,wBAAwB,oBAAoB,8BAA8B,2BAA2B,sBAAsB,gCAAgC,6BAA6B,4BAA4B,2BAA2B,wBAAwB,2BAA2B,GAAG,wDAAwD,sBAAsB,GAAG,wDAAwD,mBAAmB,GAAG,sDAAsD,iBAAiB,kBAAkB,GAAG,sCAAsC,sBAAsB,kBAAkB,GAAG,8DAA8D,sBAAsB,0BAA0B,GAAG;;AAE90T;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPA,iDAM2B;AAC3B,8CAA8C;AAC9C,0CAAuC;AACvC,+DAAgF;AAChF,oDAAkF;AA0BlF;IAAA;IAsFA,CAAC;IArFc,oDAAK,GAAlB,UAAmB,eAAiC;;;;;;wBAC5C,KAA+B,iCAAe,CAAC,qBAAqB,CAAC,gBAAgB,CAAC,EAApF,SAAS,iBAAE,aAAa,oBAA6D;wBAEvF,qBAAqB,GAAG,iBAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,eAAK,IAAI,YAAK,CAAC,IAAI,IAAI,0CAAwB,CAAC,sBAAsB,EAA7D,CAA6D,CAEtH,CAAC;6BAEV,qBAAqB,EAArB,wBAAqB;wBACjB,UAAU,GAAG;yCAEZ,IAAI,6DAA6B,EAAE,CAAC,KAAK,CAAC,qBAAqB,CAAC,EAChE,IAAI,CAAC,oBAAoB,CAAC,qBAAqB,CAAC,EAChD,IAAI,CAAC,oBAAoB,CAAC,qBAAqB,CAAC;yBAEtD,CAAC;wBAEmB,qBAAM,IAAI,2BAAY,EAAE,CAAC,KAAK,CAAC,UAAU,EAAE,aAAa,EAAE;gCAC7E,SAAS,EAAE,GAAG;6BACf,CAAC;;wBAFI,YAAY,GAAG,SAEnB;wBACF,WAAW,GAAG,YAAY,CAAC,WAAW,CAAC;;4BAGzC,sBAAO,EAAE,SAAS,aAAE,WAAW,eAAE,EAAC;;;;KACnC;IAEO,mEAAoB,GAA5B,UAA6B,qBAA4D;QACvF,OAAO;YACL,UAAU,EAAE;gBACV,QAAQ,EAAE;oBACR;wBACE,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAAC,UAAU,CAAC,OAAO,CAAC;wBACrE,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAAC,UAAU,CAAC,SAAS,CAAC;wBACzE,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAAC,UAAU,CAAC,SAAS,CAAC;qBAC1E;iBACF;aACF;SACF,CAAC;IACJ,CAAC;IAEO,mEAAoB,GAA5B,UAA6B,qBAA4D;QACvF,OAAO;YACL,iBAAiB,EAAE;gBACjB,QAAQ,EAAE;oBACR;wBACE,UAAU,EAAE;4BACV,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,qBAAqB,CAAC,MAAM,CAAC,OAAO,CAAC;yBAC9D;wBACD,mBAAmB,EAAE;4BACnB,QAAQ,EAAE,IAAI,CAAC,iBAAiB,CAAC,qBAAqB,CAAC,MAAM,CAAC,iBAAiB,CAAC;yBACjF;wBACD,KAAK,eAAO,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAAC,MAAM,CAAC,KAAK,CAAC,IAAE,KAAK,EAAE,GAAG,GAAE;wBAChF,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAAC,MAAM,CAAC,UAAU,CAAC;qBAC3E;iBACF;aACF;SACF,CAAC;IACJ,CAAC;IAEO,uDAAQ,GAAhB,UAAiB,OAAiC;QAAlD,iBAcC;QAbC,OAAO,gBAAG,CAAC,OAAO,EAAE,gBAAM;YACxB;gBACE,GAAC,MAAM,CAAC,IAAI,IAAG;oBACb,QAAQ,EAAE;wBACR;4BACE,IAAI,EAAE,KAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC;4BACrC,QAAQ,eAAO,KAAI,CAAC,aAAa,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAE,KAAK,EAAE,GAAG,GAAE;4BAChE,IAAI,EAAE,EAAE,OAAO,EAAE,MAAM,CAAC,IAAI,EAAE;yBAC/B;qBACF;iBACF;mBACD;;QACJ,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,4DAAa,GAArB,UAAsB,OAA+B;QACnD,OAAO,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAClD,CAAC;IAEO,gEAAiB,GAAzB,UAA0B,iBAAyC;QAAnE,iBAMC;QALC,OAAO,gBAAG,CAAC,iBAAiB,EAAE,UAAC,KAAK,EAAE,GAAG;YACvC;gBACE,GAAC,GAAG,IAAG,KAAI,CAAC,aAAa,CAAC,KAAK,CAAC;mBAChC;;QACJ,CAAC,CAAC,CAAC;IACL,CAAC;IACH,2CAAC;AAAD,CAAC;AAtFY,oFAAoC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpCjD,iDAM2B;AAC3B,0CAAkC;AAClC,+DAAgF;AAChF,8CAA8C;AAC9C,oDAA0D;AAc1D;IAAA;IAwBA,CAAC;IAvBc,sDAAK,GAAlB,UAAmB,eAAiC;;;;;;wBAC5C,KAA+B,iCAAe,CAAC,qBAAqB,CAAC,UAAU,CAAC,EAA9E,SAAS,iBAAE,aAAa,oBAAuD;wBAGjF,uBAAuB,GAAG,iBAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,eAAK,IAAI,YAAK,CAAC,IAAI,IAAI,0CAAwB,CAAC,gBAAgB,EAAvD,CAAuD,CAElH,CAAC;6BAEV,uBAAuB,EAAvB,wBAAuB;wBACnB,UAAU,GAAG;yCAEZ,IAAI,6DAA6B,EAAE,CAAC,KAAK,CAAC,uBAAuB,CAAC,EAClE,EAAE,QAAQ,EAAE,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,uBAAuB,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,EACtF,EAAE,YAAY,EAAE,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,uBAAuB,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE;yBAEjG,CAAC;wBAEmB,qBAAM,IAAI,2BAAY,EAAE,CAAC,KAAK,CAAC,UAAU,EAAE,aAAa,CAAC;;wBAAxE,YAAY,GAAG,SAAyD;wBAC9E,WAAW,GAAG,YAAY,CAAC,WAAW,CAAC;;4BAGzC,sBAAO,EAAE,SAAS,aAAE,WAAW,eAAE,EAAC;;;;KACnC;IACH,6CAAC;AAAD,CAAC;AAxBY,wFAAsC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBnD,iDAM2B;AAC3B,0CAAkC;AAClC,+DAAgF;AAChF,8CAA8C;AAC9C,oDAA0D;AAQ1D;IAAA;IAuBA,CAAC;IAtBc,mDAAK,GAAlB,UAAmB,eAAiC;;;;;;wBAC5C,KAA+B,iCAAe,CAAC,qBAAqB,CAAC,uBAAuB,CAAC,EAA3F,SAAS,iBAAE,aAAa,oBAAoE;wBAG9F,oBAAoB,GAAG,iBAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,eAAK,IAAI,YAAK,CAAC,IAAI,IAAI,0CAAwB,CAAC,oBAAoB,EAA3D,CAA2D,CAEnH,CAAC;6BAEV,oBAAoB,EAApB,wBAAoB;wBAChB,UAAU,GAAG;yCAEZ,IAAI,6DAA6B,EAAE,CAAC,KAAK,CAAC,oBAAoB,CAAC,IAClE,OAAO,EAAE,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,oBAAoB,CAAC,OAAO,CAAC;yBAEzE,CAAC;wBAEmB,qBAAM,IAAI,2BAAY,EAAE,CAAC,KAAK,CAAC,UAAU,EAAE,aAAa,CAAC;;wBAAxE,YAAY,GAAG,SAAyD;wBAC9E,WAAW,GAAG,YAAY,CAAC,WAAW,CAAC;;4BAGzC,sBAAO,EAAE,SAAS,aAAE,WAAW,eAAE,EAAC;;;;KACnC;IACH,0CAAC;AAAD,CAAC;AAvBY,kFAAmC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBhD,iDAAgI;AAChI,0CAAuD;AACvD,oDAA0D;AAC1D,mCAA0C;AAQ1C,IAAM,2BAA2B,GAAa,CAAC,QAAQ,EAAE,kBAAkB,EAAE,oBAAoB,CAAC,CAAC;AAEnG;IAAA;IAoDA,CAAC;IAnDc,yDAAK,GAAlB,UAAmB,eAAiC;;;;gBAC1C,SAAS,GAAK,iCAAe,CAAC,qBAAqB,CAAC,qBAAqB,CAAC,UAAjE,CAAkE;gBAE7E,KAAK,GAAG,QAAE,CAAC,OAAO,EAAE;oBACxB,SAAS,EAAE,iCAAiC;iBAC7C,CAAC,CAAC;gBAEH,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;gBAErB,iBAAiB,GAAG,sBAAS,CAAC,eAAe,CAAC,QAAQ,EAAE,EAAE,WAAW,EAAE,0CAAwB,CAAC,WAAW,EAAE,CAAC,CAAC;gBAErH,IAAI,iBAAiB,EAAE;oBACrB,iBAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,EAAE,EAAE,UAAC,UAAkB,EAAE,QAAgB;wBACrE,IAAM,GAAG,GAAG,QAAE,CAAC,IAAI,CAAC,CAAC;wBACrB,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;wBAErB,IAAM,EAAE,GAAG,kCAAgC,QAAU,CAAC;wBAEtD,IAAI,qBAAQ,CAAC,2BAA2B,EAAE,QAAQ,CAAC,IAAI,UAAU,EAAE;4BACjE,IAAM,GAAG,GAAG,QAAE,CACZ,QAAQ,EACR;gCACE,SAAS,EAAE,cAAc;gCACzB,IAAI,EAAE,QAAQ;6BACf,EACD,QAAQ,CACT,CAAC;4BAEF,IAAM,UAAQ,GAAG,QAAE,CACjB,IAAI,EACJ;gCACE,EAAE;gCACF,SAAS,EAAE,uDAAuD;6BACnE,EACD,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CACpD,CAAC;4BAEF,GAAG,CAAC,EAAE,CAAC,OAAO,EAAE;gCACd,UAAQ,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;4BACvC,CAAC,CAAC,CAAC;4BAEH,GAAG,CAAC,MAAM,CAAC,QAAE,CAAC,IAAI,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;4BACxC,GAAG,CAAC,MAAM,CAAC,UAAQ,CAAC,EAAE,CAAC,CAAC;yBACzB;6BAAM;4BACL,GAAG,CAAC,MAAM,CAAC,QAAE,CAAC,IAAI,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;4BAC7C,GAAG,CAAC,MAAM,CAAC,QAAE,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;yBACzF;oBACH,CAAC,CAAC,CAAC;iBACJ;gBACD,sBAAO,EAAE,SAAS,aAAE,EAAC;;;KACtB;IACH,gDAAC;AAAD,CAAC;AApDY,8FAAyC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbtD,iDAAoD;AACpD,8CAAgE;AAGhE,0CAAuC;AACvC,oDAA0D;AAI1D,6CAAoD;AAEpD;IAAA;IA8EA,CAAC;IA7Ec,+CAAK,GAAlB,UACE,OAAuB,EACvB,kBAAwC,EACxC,QAA4B;;;;;;;wBAEtB,KAA+B,iCAAe,CAAC,qBAAqB,CAAC,6CAA6C,CAAC,EAAjH,SAAS,iBAAE,aAAa,oBAA0F;wBAEpH,kBAAkB,GAAG,gBAAG,CAAC,kBAAkB,EAAE,UAAM,iBAAiB;;;;;wCAClE,qBAAqB,GAAG,8CAA8C,CAAC;wCAEzE,gBAAgB,GAAqC,2BAAY,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;wCAC5F,8BAA8B,GAAG,YAAY,CAAC;wCAC9C,MAAM,GAAiB,IAAI,CAAC;wCAE1B,gBAAgB,GAAG,iBAAiB,CAAC,UAAU,CAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC;6CAC/E,gBAAgB,EAAhB,wBAAgB;wCACZ,+BAA+B,GAAG,gBAAgB,CAAC,CAAC,CAAC,CAAC;wCAC1C,qBAAM,IAAI,CAAC,4BAA4B,CAAC,OAAO,EAAE,+BAA+B,EAAE,iBAAiB,EAAE,QAAQ,CAAC;;wCAA1H,SAAS,GAAG,SAA8G;wCAChI,gBAAgB,GAAG,2BAAY,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;wCAC1E,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;wCAC1B,8BAA8B,GAAG,SAAS,CAAC,8BAA8B,CAAC,QAAQ,EAAE,CAAC;;4CAGvF,mCACK,gBAAgB,IACnB,8BAA8B,EAAE,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,8BAA8B,CAAC,EAC/F,gBAAgB,EAAE,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,CAAC,YAAY,CAAC,EAClG,UAAU,eAAO,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAE,KAAK,EAAE,GAAG,KAC1F,QAAQ,EAAE,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,iBAAiB,CAAC,QAAQ,CAAC,KACrE;;;6BACH,CAAC,CAAC;wBAEgB,qBAAM,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC;;wBAAlD,UAAU,GAAG,SAAqC;wBAEhC,qBAAM,IAAI,2BAAY,EAAE,CAAC,KAAK,CAAC,UAAU,EAAE,aAAa,EAAE;gCAChF,SAAS,EAAE,GAAG;6BACf,CAAC;;wBAFM,WAAW,GAAK,UAEtB,aAFiB;wBAInB,sBAAO;gCACL,SAAS;gCACT,WAAW;6BACZ,EAAC;;;;KACH;IAEa,sEAA4B,GAA1C,UACE,OAAuB,EACvB,WAAmB,EACnB,iBAAqC,EACrC,QAA4B;;;;;;wBAExB,cAAc,GAAG;4BACnB,MAAM,EAAE,IAAI;4BACZ,8BAA8B,EAAE,KAAK;yBACtC,CAAC;wBAEI,iBAAiB,GAAG,iBAAI,CAAC,OAAO,EAAE,gBAAM;4BAC5C,OAAO,MAAM,CAAC,GAAG,CAAC,WAAW,IAAI,WAAW,IAAI,MAAM,CAAC,GAAG,CAAC,OAAO,IAAI,WAAW,CAAC;wBACpF,CAAC,CAAC,CAAC;wBAEH,IAAI,iBAAiB,EAAE;4BACrB,cAAc,GAAG;gCACf,MAAM,EAAE,iBAAiB;gCACzB,8BAA8B,EAAE,IAAI;6BACrC,CAAC;4BACF,sBAAO,cAAc,EAAC;yBACvB;wBAEK,YAAY,GAAG,IAAI,2BAAY,EAAE,CAAC;wBACxC,YAAY,CAAC,kBAAkB,CAAC,GAAG,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;wBACzC,qBAAM,QAAQ,CAAC,eAAe,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;;wBAA5F,gBAAgB,GAAG,SAAyE;wBAClG,cAAc,GAAG;4BACf,MAAM,EAAE,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAAC;4BACnC,8BAA8B,EAAE,KAAK;yBACtC,CAAC;wBAEF,sBAAO,cAAc,EAAC;;;;KACvB;IACH,sCAAC;AAAD,CAAC;AA9EY,0EAA+B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACV5C,iDAM2B;AAC3B,0CAA+C;AAC/C,8CAAqF;AACrF,mCAA0C;AAC1C,qCAA0C;AAC1C,sDAAwE;AACxE,8DAA8E;AAY9E;IAAA;IAyHA,CAAC;IAxHc,yCAAK,GAAlB,UAAmB,eAAiC;;;;;;wBAC5C,sBAAsB,GAAG,iBAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,eAAK,IAAI,YAAK,CAAC,IAAI,IAAI,0CAAwB,CAAC,gBAAgB,EAAvD,CAAuD,CAAC,CAAC;wBAChI,IAAI,CAAC,sBAAsB,EAAE;4BAC3B,sBAAO,IAAI,CAAC,uBAAuB,CAAC,eAAe,CAAC,EAAC;yBACtD;wBAEK,iBAAiB,GAAG,sBAAsB,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC;wBACxD,gBAAgB,GAAG,iBAAI,CAAC,sBAAsB,CAAC,QAAQ,EAAE,eAAK,IAAI,YAAK,CAAC,IAAI,IAAI,0CAAwB,CAAC,UAAU,EAAjD,CAAiD,CAE5G,CAAC;wBAEd,IAAI,CAAC,gBAAgB,IAAI,CAAC,iBAAiB,EAAE;4BAC3C,sBAAO,IAAI,CAAC,uBAAuB,CAAC,eAAe,CAAC,EAAC;yBACtD;wBAEK,KAA+B,iCAAe,CAAC,qBAAqB,CAAC,8CAA8C,CAAC,EAAlH,SAAS,iBAAE,aAAa,oBAA2F;wBAGrH,UAAU,GAAG;4BACjB;gCACE,sBAAsB,EAAE,IAAI,CAAC,0BAA0B,CAAC,iBAAiB,EAAE,gBAAgB,CAAC,cAAc,CAAC;gCAC3G,sBAAsB,EAAE,IAAI,CAAC,qBAAqB,CAAC,eAAe,EAAE,gBAAgB,CAAC,cAAc,EAAE,sBAAsB,CAAC;6BAC7H;yBACF,CAAC;wBAEmB,qBAAM,IAAI,2BAAY,EAAE,CAAC,KAAK,CAAC,UAAU,EAAE,aAAa,EAAE;gCAC7E,SAAS,EAAE,GAAG;6BACf,CAAC;;wBAFI,YAAY,GAAG,SAEnB;wBACF,WAAW,GAAG,YAAY,CAAC,WAAW,CAAC;wBAEvC,sBAAO,EAAE,SAAS,aAAE,WAAW,eAAE,EAAC;;;;KACnC;IAEO,gDAAY,GAApB,UAAqB,iBAAyB,EAAE,cAA8C;QAC5F,IAAM,gBAAgB,GAAG,EAAE,CAAC;QAC5B,iBAAI,CAAC,cAAc,EAAE,iBAAO;YAC1B,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;QACnC,CAAC,CAAC,CAAC;QACH,OAAO,2CAAoB,CAAC,mBAAmB,CAAC,iBAAiB,EAAE,gBAAgB,EAAE,EAAE,CAAC,CAAC;IAC3F,CAAC;IAEO,8DAA0B,GAAlC,UAAmC,iBAAyB,EAAE,cAA8C;QAC1G,OAAO;YACL,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE,cAAc,CAAC;YAC7D,YAAY,EAAE,kCAAmB;SAClC,CAAC;IACJ,CAAC;IAEO,yDAAqB,GAA7B,UACE,eAAiC,EACjC,cAA8C,EAC9C,iBAA0C;QAE1C,IAAI,aAAK,CAAC,eAAe,CAAC,cAAc,CAAC,EAAE;YACzC,OAAO,IAAI,CAAC,yBAAyB,CAAC,cAAc,CAAC,CAAC;SACvD;QAED,IAAM,yBAAyB,GAAG,iBAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,eAAK,IAAI,YAAK,CAAC,IAAI,IAAI,0CAAwB,CAAC,aAAa,EAApD,CAAoD,CAAC,CAAC;QAClI,IAAM,mBAAmB,GAAG,yBAAyB,CAAC,CAAC,CAAC,yBAAyB,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QAC5H,IAAI,mBAAmB,EAAE;YACvB,OAAO,IAAI,CAAC,mCAAmC,CAAC,yBAAyB,CAAC,CAAC;SAC5E;QAED,OAAO,IAAI,CAAC,6BAA6B,EAAE,CAAC;IAC9C,CAAC;IAEO,6DAAyB,GAAjC,UAAkC,cAA8C;QAAhF,iBAoBC;QAnBC,IAAM,iBAAiB,GAAG,QAAE,CAAC,KAAK,EAAE,SAAS,EAAE,QAAE,CAAC,IAAI,EAAE,SAAS,EAAE,gEAAgE,CAAC,CAAC,CAAC;QAEtI,IAAM,YAAY,GAAG,QAAE,CAAC,IAAI,CAAC,CAAC;QAC9B,iBAAiB,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;QAE1C,kBAAK,CAAC,cAAc,CAAC;aAClB,GAAG,CAAC,sBAAY;YACf,IAAM,OAAO,GAAG,KAAI,CAAC,YAAY,CAAC,cAAY,YAAY,CAAC,CAAC,oBAAe,YAAY,CAAC,KAAO,EAAE,CAAC,YAAY,CAAC,CAAC,CAAC;YACjH,IAAM,SAAS,GAAG,QAAE,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;YAC1C,OAAO,SAAS,CAAC;QACnB,CAAC,CAAC;aACD,IAAI,CAAC,+BAAqB;YACzB,YAAY,CAAC,MAAM,CAAC,qBAAqB,CAAC,EAAE,CAAC,CAAC;QAChD,CAAC,CAAC,CAAC;QAEL,OAAO;YACL,OAAO,EAAE,iBAAiB;YAC1B,YAAY,EAAE,kCAAmB;SAClC,CAAC;IACJ,CAAC;IAEO,uEAAmC,GAA3C,UAA4C,YAAqC;QAC/E,IAAM,iBAAiB,GAAG,QAAE,CAAC,KAAK,CAAC,CAAC;QACpC,iBAAiB,CAAC,MAAM,CAAC,QAAE,CAAC,IAAI,EAAE,SAAS,EAAE,mEAAmE,CAAC,CAAC,EAAE,CAAC,CAAC;QACtH,iBAAiB,CAAC,MAAM,CAAC,QAAE,CAAC,IAAI,EAAE,SAAS,EAAE,+CAA+C,CAAC,CAAC,EAAE,CAAC,CAAC;QAClG,IAAM,OAAO,GAAG,QAAE,CAAC,MAAM,EAAE,SAAS,EAAE,YAAY,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAC/D,iBAAiB,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QACrC,OAAO;YACL,OAAO,EAAE,iBAAiB;YAC1B,YAAY,EAAE,kCAAmB;SAClC,CAAC;IACJ,CAAC;IAEO,iEAA6B,GAArC;QACE,IAAM,iBAAiB,GAAG,QAAE,CAAC,KAAK,CAAC,CAAC;QACpC,iBAAiB,CAAC,MAAM,CAAC,QAAE,CAAC,IAAI,EAAE,SAAS,EAAE,4BAA4B,CAAC,CAAC,EAAE,CAAC,CAAC;QAC/E,iBAAiB,CAAC,MAAM,CACtB,QAAE,CAAC,IAAI,EAAE,SAAS,EAAE,iHAAiH,CAAC;aACnI,EAAE,CACN,CAAC;QACF,OAAO;YACL,OAAO,EAAE,iBAAiB;YAC1B,YAAY,EAAE,kCAAmB;SAClC,CAAC;IACJ,CAAC;IAEO,2DAAuB,GAA/B,UAAgC,eAAiC;QAC/D,OAAO,IAAI,2DAA4B,CACrC,0CAAwB,CAAC,IAAI,EAC7B,0CAAwB,CAAC,IAAI,EAC7B,8CAA8C,CAC/C,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;IAC3B,CAAC;IACH,gCAAC;AAAD,CAAC;AAzHY,8DAAyB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzBtC,8CAAgE;AAChE,0CAA8D;AAE9D,oDAA0D;AAE1D,6CAAgE;AAEhE,6CAAoD;AAEpD,4CAA0F;AAG1F;IAGE,8BAA0B,QAA4B;QAA5B,aAAQ,GAAR,QAAQ,CAAoB;IAAG,CAAC;IAE7C,oCAAK,GAAlB;;;;;;;wBACQ,SAAS,GAAG,iBAAE,CAAC,KAAK,CAAC,CAAC;wBAEtB,aAAa,GAAG,iBAAE,CAAC,KAAK,EAAE;4BAC9B,SAAS,EAAE,gBAAgB;yBAC5B,CAAC,CAAC;wBACH,SAAS,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;6BAEN,IAAI,CAAC,QAAQ,CAAC,eAAe,EAA7B,wBAA6B;wBAAG,qBAAM,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,WAAW,EAAE,CAAC,UAAU,EAAE;;wBAA9D,cAA8D;;;wBAAG,SAAI;;;wBAA5H,oBAAoB,KAAwG;6BAE9H,oBAAoB,EAApB,wBAAoB;wBAChB,UAAU,GAAuC,gBAAG,CAAC,oBAAoB,EAAE,qBAAW;4BAC1F,OAAO;gCACL,IAAI,EAAE,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC;gCACvD,WAAW,eAAO,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC,IAAE,KAAK,EAAE,GAAG,GAAE;gCACxF,eAAe,EAAE,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,YAAY,CAAC;gCAC1E,YAAY,EAAE,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC;gCACpE,mBAAmB,EAAE,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,eAAe,CAAC;gCACjF,kBAAkB,EAAE,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,cAAc,CAAC;gCAC/E,oBAAoB,EAAE,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,gBAAgB,CAAC;gCACnF,gBAAgB,EAAE,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,YAAY,CAAC;gCAC3E,sBAAsB,EAAE,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,iBAAiB,CAAC;gCACtF,eAAe,EAAE,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,WAAW,CAAC;gCACzE,4BAA4B,EAAE;oCAC5B,OAAO,EAAE;wCACP,OAAO,EAAE;4CACP,WAAW;4CACX,QAAQ,EAAE,KAAI,CAAC,QAAQ;4CACvB,SAAS;yCACV;qCACF;oCACD,KAAK,EAAE,GAAG;oCACV,eAAe,EAAE,IAAI;oCACrB,cAAc,EAAE,IAAI;oCACpB,YAAY,EAAE,0BAA0B;iCACzC;6BACF,CAAC;wBACJ,CAAC,CAAC,CAAC;wBAEqB,qBAAM,IAAI,2BAAY,EAAE,CAAC,KAAK,CAAC,UAAU,EAAE,aAAa,EAAE;gCAChF,YAAY,EAAE,IAAI;gCAClB,YAAY,EAAE,UAAU;gCACxB,UAAU,EAAE,IAAI;gCAChB,kBAAkB,EAAE,EAAE;gCACtB,SAAS,EAAE,GAAG;gCACd,sBAAsB,EAAE,IAAI;gCAC5B,uBAAuB,EAAE,IAAI;gCAC7B,UAAU,EAAE,IAAI,yBAAyB,CAAC,UAAU,CAAC;6BACtD,CAAC;;wBATM,WAAW,GAAK,UAStB,aATiB;wBAWnB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;;4BAGjC,sBAAO,SAAS,EAAC;;;;KAClB;IACH,2BAAC;AAAD,CAAC;AA5DY,oDAAoB;AA8DjC;IAAA;IAoGA,CAAC;IA/FQ,yCAAI,GAAX,UAAY,MAAW;QACrB,IAAI,MAAM,CAAC,KAAK,IAAI,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE;YACxC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC;YACpD,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC;YAC9C,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;SACjD;IACH,CAAC;IAEM,2CAAM,GAAb;QAAA,iBAqCC;QApCC,IAAM,GAAG,GAAG,iBAAE,CACZ,QAAQ,EACR;YACE,SAAS,EAAE,kDAAkD;YAC7D,IAAI,EAAE,QAAQ;SACf,EACD,yBAAyB,CAC1B,CAAC;QAEF,IAAI,aAA8B,CAAC;QACnC,IAAI,8BAA8B,GAAG,KAAK,CAAC;QAE3C,GAAG,CAAC,EAAE,CAAC,WAAW,EAAE;;;;;wBAClB,8BAA8B,GAAG,IAAI,CAAC;6BAClC,KAAI,CAAC,WAAW,IAAI,IAAI,CAAC,SAAS,IAAI,8BAA8B,GAApE,wBAAoE;wBACvD,qBAAM,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,WAAW,CAAC;;wBAArD,MAAM,GAAG,SAA4C;wBAC3D,IAAI,8BAA8B,EAAE;4BAClC,aAAa,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;4BAC/C,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;4BACxC,yBAAU,CAAC,aAAa,CAAC,aAAa,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,EAAE,QAAQ,CAAC,IAAI,EAAE;gCAChE,UAAU,EAAE,qCAAwB,CAAC,IAAI;gCACzC,QAAQ,EAAE,mCAAsB,CAAC,MAAM;6BACxC,CAAC,CAAC;yBACJ;wBACD,8BAA8B,GAAG,KAAK,CAAC;;;;;aAE1C,CAAC,CAAC;QAEH,GAAG,CAAC,EAAE,CAAC,UAAU,EAAE;YACjB,IAAI,aAAa,EAAE;gBACjB,aAAa,CAAC,MAAM,EAAE,CAAC;aACxB;YACD,8BAA8B,GAAG,KAAK,CAAC;QACzC,CAAC,CAAC,CAAC;QAEH,OAAO,GAAG,CAAC,EAAE,CAAC;IAChB,CAAC;IAEa,oDAAe,GAA7B,UAA8B,eAAkC;;;;;;wBAC9D,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;4BAC5F,sBAAO,EAAE,EAAC;yBACX;6BAEG,eAAe,CAAC,YAAY,EAA5B,wBAA4B;wBACvB,qBAAM,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,WAAW,EAAE,CAAC,eAAe,CAAC;gCACvE,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI;6BAC7B,CAAC;4BAFF,sBAAO,SAEL,EAAC;;wBAEG,YAAY,GAAG,IAAI,2BAAY,EAAE,CAAC;wBACxC,YAAY,CAAC,kBAAkB,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;6BACrC,IAAI,CAAC,QAAQ,EAAb,wBAAa;wBAAG,qBAAM,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;;wBAA9E,cAA8E;;;wBAAG,SAAI;;;wBAApH,YAAY,KAAwG;wBAC1H,IAAI,YAAY,EAAE;4BAChB,sBAAO,gBAAG,CAAC,YAAY,CAAC,OAAO,EAAE,gBAAM;oCACrC,OAAO,EAAE,KAAK,EAAE,oBAAK,CAAC,aAAa,CAAC,MAAM,EAAE,eAAe,CAAC,IAAI,CAAC,EAAsB,CAAC;gCAC1F,CAAC,CAAC,EAAC;yBACJ;6BAAM;4BACL,sBAAO,EAAE,EAAC;yBACX;;;;;;KAEJ;IAEO,sDAAiB,GAAzB,UAA0B,WAA+B;QACvD,IAAM,IAAI,GAAG,iBAAE,CAAC,IAAI,EAAE,EAAE,SAAS,EAAE,kDAAkD,EAAE,CAAC,CAAC;QACzF,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,UAAU,GAAG,OAAO,CAAC;QACnC,IAAI,WAAW,CAAC,MAAM,IAAI,CAAC,EAAE;YAC3B,IAAI,CAAC,MAAM,CAAC,iBAAE,CAAC,IAAI,EAAE,SAAS,EAAE,yBAAyB,CAAC,CAAC,EAAE,CAAC,CAAC;SAChE;aAAM;YACL,WAAW,CAAC,OAAO,CAAC,oBAAU;gBAC5B,IAAM,QAAQ,GAAG,iBAAE,CACjB,IAAI,EACJ;oBACE,SAAS,EAAE,wDAAwD;iBACpE,EACD,IAAI,uCAAkB,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,OAAO,CAC1D,CAAC;gBAEF,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YAC3B,CAAC,CAAC,CAAC;SACJ;QAED,OAAO,IAAI,CAAC;IACd,CAAC;IAEM,4CAAO,GAAd;QACE,OAAO,IAAI,CAAC;IACd,CAAC;IACH,iCAAC;AAAD,CAAC;AApGY,gEAA0B;AAgHvC;IAEE,mCAAmB,UAA8C;QAA9C,eAAU,GAAV,UAAU,CAAoC;QADzD,aAAQ,GAAU,EAAE,CAAC;QAE3B,IAAI,CAAC,QAAQ,GAAG,gBAAG,CAAC,IAAI,CAAC,UAAU,EAAE,gBAAM;YACzC,IAAM,MAAM,GAAQ,EAAE,CAAC;YAEvB,IAAM,cAAc,GAAG,UAAC,KAAkD,EAAE,GAAW;gBACrF,IAAI,KAAK,CAAC,OAAO,IAAI,IAAI,EAAE;oBACzB,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC;iBAC7B;qBAAM,IAAI,KAAK,CAAC,QAAQ,EAAE;oBACzB,iBAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,UAAC,KAAU;wBAC9B,iBAAI,CAAC,KAAK,EAAE,cAAc,CAAC,CAAC;oBAC9B,CAAC,CAAC,CAAC;iBACJ;YACH,CAAC,CAAC;YAEF,iBAAI,CAAC,MAAM,EAAE,cAAqB,CAAC,CAAC;YACpC,OAAO,MAAM,CAAC;QAChB,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,2CAAO,GAAd,UAAe,MAAmC;QAChD,IAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC;QAChE,IAAM,iBAAiB,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC;QAEhE,MAAM,CAAC,eAAe,CAAC,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,MAAM,CAAC,EAAE,iBAAiB,CAAC,MAAM,CAAC,CAAC;IAC5G,CAAC;IAEO,0CAAM,GAAd,UAAe,IAAW,EAAE,WAAyC;QACnE,iBAAI,CAAC,WAAW,EAAE,UAAC,KAAK,EAAE,GAAG;YAC3B,QAAQ,KAAK,CAAC,IAAI,EAAE;gBAClB,KAAK,QAAQ;oBACX,IAAI,GAAG,kBAAK,CAAC,IAAI,YAAI,GAAC,GAAG,IAAG,KAAK,CAAC,MAAM,MAAG,CAAC;oBAC5C,MAAM;gBAER,KAAK,UAAU;oBACb,IAAI,GAAG,mBAAM,CAAC,IAAI,EAAE,wBAAc;wBAChC,OAAO,cAAc,CAAC,GAAG,CAAC,IAAI,KAAK,CAAC,MAAM,CAAC;oBAC7C,CAAC,CAAC,CAAC;oBACH,MAAM;gBAER,KAAK,YAAY;oBACf,IAAI,GAAG,mBAAM,CAAC,IAAI,EAAE,wBAAc;wBAChC,OAAO,cAAc,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;oBACtE,CAAC,CAAC,CAAC;oBACH,MAAM;gBAER,KAAK,UAAU;oBACb,IAAI,GAAG,mBAAM,CAAC,IAAI,EAAE,wBAAc;wBAChC,OAAO,cAAc,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,cAAc,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC;oBACrH,CAAC,CAAC,CAAC;oBACH,MAAM;gBAER,KAAK,UAAU;oBACb,IAAI,GAAG,mBAAM,CAAC,IAAI,EAAE,wBAAc;wBAChC,OAAO,cAAc,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;oBACvE,CAAC,CAAC,CAAC;oBACH,MAAM;gBAER,KAAK,aAAa;oBAChB,IAAI,GAAG,mBAAM,CAAC,IAAI,EAAE,wBAAc;wBAChC,OAAO,cAAc,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;oBACvE,CAAC,CAAC,CAAC;oBACH,MAAM;aACT;;QACH,CAAC,CAAC,CAAC;QAEH,OAAO,IAAI,CAAC;IACd,CAAC;IAEO,wCAAI,GAAZ,UAAa,IAAW,EAAE,UAAwB;QAChD,IAAI,UAAU,IAAI,UAAU,CAAC,CAAC,CAAC,EAAE;YAC/B,IAAM,WAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;YAChC,OAAO,IAAI,CAAC,IAAI,CAAC,UAAC,KAAK,EAAE,MAAM;gBAC7B,IAAM,UAAU,GAAG,KAAK,CAAC,WAAS,CAAC,KAAK,CAAC,CAAC;gBAC1C,IAAM,WAAW,GAAG,MAAM,CAAC,WAAS,CAAC,KAAK,CAAC,CAAC;gBAE5C,IAAM,+BAA+B,GAAG,WAAS,CAAC,IAAI,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAEzE,IAAI,oBAAK,CAAC,mBAAmB,CAAC,UAAU,CAAC,IAAI,oBAAK,CAAC,mBAAmB,CAAC,WAAW,CAAC,EAAE;oBACnF,OAAO,CAAC,CAAC;iBACV;gBAED,IAAI,oBAAK,CAAC,mBAAmB,CAAC,UAAU,CAAC,EAAE;oBACzC,OAAO,CAAC,CAAC,GAAG,+BAA+B,CAAC;iBAC7C;gBAED,IAAI,oBAAK,CAAC,mBAAmB,CAAC,WAAW,CAAC,EAAE;oBAC1C,OAAO,CAAC,GAAG,+BAA+B,CAAC;iBAC5C;gBAED,IAAI,KAAK,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,WAAW,CAAC,EAAE;oBAC3C,OAAO,UAAU,CAAC,aAAa,CAAC,WAAW,CAAC,GAAG,+BAA+B,CAAC;iBAChF;qBAAM;oBACL,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC,GAAG,+BAA+B,CAAC;iBACrF;YACH,CAAC,CAAC,CAAC;SACJ;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IACH,gCAAC;AAAD,CAAC;AApGY,8DAAyB;;;;;;;;;;;ACzLtC,mDAA8F;AAC9F,mCAA0C;AAC1C,0CAAkC;AAClC,qCAA0C;AAE1C;IAEE,2BAAmB,MAAoB;QAApB,WAAM,GAAN,MAAM,CAAc;QACrC,IAAI,CAAC,WAAW,GAAG,oCAAgB,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;IAC1D,CAAC;IAEM,iCAAK,GAAZ;QACE,IAAM,SAAS,GAAG,QAAE,CAAC,KAAK,EAAE;YAC1B,SAAS,EAAE,0CAA0C;SACtD,CAAC,CAAC;QAEH,iBAAI,CAAC,IAAI,CAAC,WAAW,CAAC,eAAe,EAAE,UAAC,KAAU,EAAE,GAAW;YAC7D,IAAM,OAAO,GAAG,QAAE,CAAC,KAAK,EAAE,EAAE,SAAS,EAAE,kDAAkD,EAAE,EAAK,GAAG,UAAK,KAAO,CAAC,CAAC;YACjH,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC;QAEH,IAAM,KAAK,GAAG,QAAE,CACd,KAAK,EACL,EAAE,SAAS,EAAE,sFAAsF,EAAE,EACrG,YAAU,IAAI,CAAC,WAAW,CAAC,WAAa,CACzC,CAAC;QACF,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QAE3B,IAAI,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE;YAChC,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC,CAAC;SAC5C;QAED,IAAI,aAAK,CAAC,eAAe,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE;YACtD,IAAI,CAAC,wBAAwB,CAAC,SAAS,CAAC,CAAC;SAC1C;QAED,OAAO,SAAS,CAAC;IACnB,CAAC;IAEO,sDAA0B,GAAlC,UAAmC,SAAc;QAC/C,IAAM,WAAW,GAAG,QAAE,CACpB,QAAQ,EACR,EAAE,SAAS,EAAE,8DAA8D,EAAE,IAAI,EAAE,QAAQ,EAAE,EAC7F,kCAAkC,CACnC,CAAC;QACF,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;QAEjC,IAAM,YAAY,GAAG,QAAE,CAAC,KAAK,EAAE,EAAE,SAAS,EAAE,gDAAgD,EAAE,CAAC,CAAC;QAEhG,SAAS,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;QAClC,iBAAI,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,IAAI,EAAE,EAAE,UAAC,KAAK,EAAE,GAAG;YAClD,IAAM,QAAQ,GAAG,cAAY,GAAK,CAAC;YACnC,YAAY,CAAC,MAAM,CAAC,QAAE,CAAC,IAAI,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;YACtD,YAAY,CAAC,MAAM,CAAC,2CAAuB,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;QACjE,CAAC,CAAC,CAAC;QAEH,WAAW,CAAC,EAAE,CAAC,OAAO,EAAE,cAAM,mBAAY,CAAC,WAAW,CAAC,cAAc,CAAC,EAAxC,CAAwC,CAAC,CAAC;IAC1E,CAAC;IAEO,oDAAwB,GAAhC,UAAiC,SAAc;QAC7C,IAAM,SAAS,GAAG,QAAE,CAClB,QAAQ,EACR,EAAE,SAAS,EAAE,8DAA8D,EAAE,IAAI,EAAE,QAAQ,EAAE,EAC7F,sBAAsB,CACvB,CAAC;QACF,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;QAC/B,IAAM,UAAU,GAAG,QAAE,CAAC,IAAI,EAAE,EAAE,SAAS,EAAE,gDAAgD,EAAE,CAAC,CAAC;QAE7F,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QAChC,iBAAI,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,eAAK;YACrC,UAAU,CAAC,MAAM,CAAC,QAAE,CAAC,IAAI,EAAE,EAAE,SAAS,EAAE,yDAAyD,EAAE,EAAE,KAAG,KAAK,CAAC,UAAY,CAAC,CAAC,EAAE,CAAC,CAAC;YAChI,UAAU,CAAC,MAAM,CAAC,QAAE,CAAC,IAAI,EAAE,SAAS,EAAE,YAAU,KAAK,CAAC,KAAO,CAAC,CAAC,EAAE,CAAC,CAAC;QACrE,CAAC,CAAC,CAAC;QAEH,SAAS,CAAC,EAAE,CAAC,OAAO,EAAE,cAAM,iBAAU,CAAC,WAAW,CAAC,cAAc,CAAC,EAAtC,CAAsC,CAAC,CAAC;IACtE,CAAC;IACH,wBAAC;AAAD,CAAC;AAvEY,8CAAiB","file":"0.js","sourcesContent":["import { RankingInfoTable } from './RankingInfoTable';\nimport { MetaDataTable } from './MetaDataTable';\nimport { IComponentBindings } from '../Base/ComponentBindings';\nimport { IAttributeChangedEventArg } from '../../models/Model';\nimport { $$ } from '../../utils/Dom';\nimport { ModalBox } from '../../ExternalModulesShim';\nimport { QueryStateModel, ResultListEvents, DomUtils, Logger } from '../../Core';\nimport { RelevanceInspectorTabs } from './RelevanceInspectorTabs';\nimport 'styling/_RelevanceInspector';\nimport { ExecutionReport } from './ExecutionReport';\nimport { AvailableFieldsTable } from './AvailableFieldsTable';\nimport agGridModule = require('ag-grid/main');\nimport { debounce } from 'underscore';\nimport { IDisplayedNewResultEventArgs } from '../../events/ResultListEvents';\nimport { InlineRankingInfo } from './InlineRankingInfo';\n\nexport interface IRelevanceInspectorConstructor {\n  new (element: HTMLElement, bindings: IComponentBindings): RelevanceInspector;\n}\n\nexport interface IRelevanceInspectorTab {\n  gridOptions: agGridModule.GridOptions;\n}\n\nexport class RelevanceInspector {\n  private opened = false;\n  private activeTab: string;\n  private tabs: Record<string, IRelevanceInspectorTab>;\n  private modalBoxModule = ModalBox;\n\n  constructor(public element: HTMLElement, public bindings: IComponentBindings) {\n    $$(this.element).text('Relevance Inspector');\n    $$(this.element).addClass('coveo-button coveo-relevance-inspector');\n    $$(this.bindings.root).on(\n      this.bindings.queryStateModel.getEventName(QueryStateModel.eventTypes.changeOne + QueryStateModel.attributesEnum.debug),\n      (e, args: IAttributeChangedEventArg) => this.toggleFromState(args.value)\n    );\n    $$(this.element).on('click', () => this.open());\n    $$(this.bindings.root).on(ResultListEvents.newResultDisplayed, (e, args: IDisplayedNewResultEventArgs) =>\n      this.handleNewResultDisplayed(args)\n    );\n    this.bindings.queryStateModel.get(QueryStateModel.attributesEnum.debug) ? this.show() : this.hide();\n  }\n\n  public get modalBox() {\n    return this.modalBoxModule;\n  }\n\n  public set modalBox(modalBoxModule) {\n    this.modalBoxModule = modalBoxModule;\n  }\n\n  public hide() {\n    $$(this.element).addClass('coveo-hidden');\n  }\n\n  public show() {\n    $$(this.element).removeClass('coveo-hidden');\n  }\n\n  public async open() {\n    if (this.opened) {\n      return;\n    }\n    this.opened = true;\n\n    const content = $$('div');\n    const animation = DomUtils.getBasicLoadingAnimation();\n    content.append(animation);\n    this.modalBox.open(content.el, this.modalBoxOptions);\n    const rows = await this.buildTabs();\n    if (rows) {\n      animation.remove();\n      content.append(rows.el);\n    } else {\n      this.modalBox.close();\n    }\n  }\n\n  private handleNewResultDisplayed(args: IDisplayedNewResultEventArgs) {\n    if (this.bindings.queryStateModel.get(QueryStateModel.attributesEnum.debug)) {\n      $$(args.item).addClass('coveo-with-inline-ranking-info');\n      if ($$(args.item).hasClass('coveo-table-layout')) {\n        $$(args.item).append(new InlineRankingInfo(args.result).build().el);\n      } else {\n        $$(args.item).prepend(new InlineRankingInfo(args.result).build().el);\n      }\n    }\n  }\n\n  private get modalBoxOptions() {\n    return {\n      title: 'Relevance Inspector',\n      titleClose: false,\n      overlayClose: true,\n      sizeMod: 'big',\n      className: 'relevance-inspector-modal',\n      validation: () => {\n        this.opened = false;\n        return true;\n      },\n      body: document.getElementsByClassName('CoveoSearchInterface')[0] // Will return undefined if no CoveoSearchInterface is present\n    };\n  }\n\n  private toggleFromState(stateValue: number) {\n    stateValue != 0 ? this.show() : this.hide();\n    this.modalBox.close();\n  }\n\n  private async buildTabs() {\n    const lastResults = this.bindings.queryController.getLastResults().results;\n    if (!lastResults || lastResults.length == 0) {\n      new Logger(this).error(\n        'Could not open Relevance Inspector because there is no results to display. Please execute a query beforehand',\n        lastResults\n      );\n      return;\n    }\n    if (!lastResults[0].rankingInfo) {\n      new Logger(this).error(\n        'Could not open Relevance Inspector because there is no ranking info returned on the results. Please execute a query in debug mode beforehad',\n        lastResults\n      );\n      return;\n    }\n\n    const container = $$('div');\n\n    const rankingInfoTable = new RankingInfoTable(lastResults, this.bindings);\n    const metadataTable = new MetaDataTable(lastResults, this.bindings);\n    const executionReport = new ExecutionReport(this.bindings.queryController.getLastResults(), this.bindings);\n    const availableFields = new AvailableFieldsTable(this.bindings);\n\n    this.tabs = {\n      relevanceInspectorRankingInfo: rankingInfoTable,\n      relevanceInspectorMetadata: metadataTable,\n      relevanceInspectorExecutionReport: executionReport,\n      relevanceInspectorAvailableFields: availableFields\n    };\n\n    const inspectorTabs = new RelevanceInspectorTabs(tabChangedTo => {\n      this.activeTab = tabChangedTo;\n      this.resize();\n    });\n\n    const debouncedResize = debounce(() => this.resize(), 100);\n\n    window.addEventListener('resize', debouncedResize);\n\n    inspectorTabs.addSection('Ranking Information', await rankingInfoTable.build(), 'relevanceInspectorRankingInfo');\n    inspectorTabs.addSection('Metadata', await metadataTable.build(), 'relevanceInspectorMetadata');\n    inspectorTabs.addSection('Execution Report', await executionReport.build(), 'relevanceInspectorExecutionReport');\n    inspectorTabs.addSection('Available Fields', await availableFields.build(), 'relevanceInspectorAvailableFields');\n    inspectorTabs.select('relevanceInspectorRankingInfo');\n\n    container.append(inspectorTabs.navigationSection.el);\n    container.append(inspectorTabs.tabContentSection.el);\n\n    return container;\n  }\n\n  private resize() {\n    if (!this.activeTab) {\n      return;\n    }\n    if (!this.tabs[this.activeTab]) {\n      return;\n    }\n    this.tabs[this.activeTab].gridOptions.api.sizeColumnsToFit();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/RelevanceInspector/RelevanceInspector.ts","import { loadAgGridLibrary } from './AgGrid';\nimport { first, map, each, flatten, find } from 'underscore';\n\nimport agGridModule = require('ag-grid/main');\nimport { Dom, $$, StringUtils, StreamHighlightUtils } from '../../UtilsModules';\nimport { IQueryResult } from '../../rest/QueryResult';\nimport { IResultsComponentBindings } from '../Base/ResultsComponentBindings';\nimport ResultListModule = require('../ResultList/ResultList');\nimport { ResultLink } from '../ResultLink/ResultLink';\nimport { IComponentBindings } from '../Base/ComponentBindings';\ndeclare const agGrid: typeof agGridModule;\n\nexport interface ITableDataSource extends agGridModule.ColDef {\n  content?: any;\n  width?: number;\n  children?: Record<string, ITableDataSource>[];\n  cellRenderer?: new () => agGridModule.ICellRendererComp;\n}\n\nexport const defaultGridOptions: agGridModule.GridOptions = {\n  domLayout: 'autoHeight',\n  enableColResize: true,\n  rowHeight: 100,\n  enableRangeSelection: true,\n  suppressRowClickSelection: true,\n  suppressCellSelection: true,\n  defaultColDef: {\n    width: 100\n  },\n  enableSorting: true,\n  autoSizePadding: 10\n};\n\nexport class TableBuilder {\n  private gridOptions: agGridModule.GridOptions | undefined;\n\n  public async build(sources: Record<string, ITableDataSource>[], table: Dom, gridOptions = defaultGridOptions) {\n    const firstData = first(sources) || {};\n    const mapToAgGridFormat = (value: agGridModule.ColDef & agGridModule.ColGroupDef, key: string): any => {\n      if (value.children) {\n        return {\n          field: key,\n          headerName: key,\n          marryChildren: true,\n          children: flatten(\n            value.children.map((child: any) => {\n              return map(child, mapToAgGridFormat);\n            })\n          )\n        };\n      } else {\n        return {\n          field: key,\n          headerName: key,\n          ...value\n        };\n      }\n    };\n\n    const columnDefs = map(firstData as any, mapToAgGridFormat) as agGridModule.ColDef[];\n\n    const rowData = map(sources, source => {\n      const merged: any = {};\n\n      const extractContent = (value: ITableDataSource & agGridModule.ColGroupDef, key: string) => {\n        if (value.content) {\n          merged[key] = value.content;\n        } else if (value.children) {\n          each(value.children, (child: any) => {\n            each(child, extractContent);\n          });\n        }\n      };\n\n      each(source, extractContent as any);\n      return merged;\n    });\n\n    this.gridOptions = {\n      ...defaultGridOptions,\n      columnDefs,\n      rowData,\n      ...gridOptions\n    };\n\n    await loadAgGridLibrary();\n    const grid = new agGrid.Grid(table.el, this.gridOptions);\n\n    return { grid, gridOptions: this.gridOptions };\n  }\n\n  public static thumbnailCell(result: IQueryResult, bindings: IComponentBindings): Record<string, ITableDataSource> {\n    return {\n      Document: {\n        content: { result, bindings },\n        cellRenderer: ThumbnailHtmlRenderer,\n        width: 550,\n        getQuickFilterText: (params: agGridModule.GetQuickFilterTextParams) => {\n          return '';\n        }\n      }\n    };\n  }\n}\n\nexport class ThumbnailHtmlRenderer implements agGridModule.ICellRendererComp {\n  private element: any | undefined;\n  private currentFilter: string | undefined;\n\n  public init(params?: { value: { result: IQueryResult; bindings: IComponentBindings }; api: any }) {\n    if (params) {\n      this.element = params.value;\n      this.currentFilter = params.api.filterManager.quickFilter;\n    }\n  }\n\n  public getGui(): HTMLElement {\n    const cell = $$('div', { className: 'coveo-relevance-inspector-thumbnail-cell' });\n    if (this.element) {\n      const thumbnail = this.thumbnail(this.element.result, this.element.bindings);\n      cell.append(thumbnail.el);\n    } else {\n      cell.append($$('p', undefined, '-- NULL --').el);\n    }\n    return cell.el;\n  }\n\n  private thumbnail(result: IQueryResult, bindings: IResultsComponentBindings) {\n    let dom: Dom;\n\n    if (bindings && result) {\n      const resultLists = bindings.searchInterface.getComponents('ResultList') as ResultListModule.ResultList[];\n      const firstActiveResultList = find(resultLists, resultList => !resultList.disabled);\n\n      if (firstActiveResultList) {\n        dom = $$('div', {\n          className: 'coveo-relevance-inspector-result-thumbnail'\n        });\n        firstActiveResultList.buildResult(result).then(builtResult => {\n          dom.append(builtResult);\n        });\n      } else {\n        dom = $$('a', {\n          className: 'CoveoResultLink'\n        });\n        new ResultLink(dom.el, { alwaysOpenInNewWindow: true }, bindings, result);\n      }\n\n      if (this.currentFilter) {\n        this.highlightSearch(dom.el, this.currentFilter);\n      }\n    } else {\n      dom = $$('div', undefined, '-- NULL --');\n    }\n\n    return dom;\n  }\n\n  public refresh(params: any): boolean {\n    return true;\n  }\n\n  private highlightSearch(elementToSearch: HTMLElement, search: string) {\n    let asHTMLElement: HTMLElement = elementToSearch;\n\n    if (asHTMLElement != null && asHTMLElement.innerText != null) {\n      const match = asHTMLElement.innerText.split(new RegExp('(?=' + StringUtils.regexEncode(search) + ')', 'gi'));\n      asHTMLElement.innerHTML = '';\n      match.forEach(value => {\n        const regex = new RegExp('(' + StringUtils.regexEncode(search) + ')', 'i');\n        const group = value.match(regex);\n        let span;\n\n        if (group != null) {\n          span = $$('span', {\n            className: 'coveo-relevance-inspector-highlight'\n          });\n          span.text(group[1]);\n          asHTMLElement.appendChild(span.el);\n          span = $$('span');\n          span.text(value.substr(group[1].length));\n          asHTMLElement.appendChild(span.el);\n        } else {\n          span = $$('span');\n          span.text(value);\n          asHTMLElement.appendChild(span.el);\n        }\n      });\n    }\n  }\n}\n\nexport class GenericHtmlRenderer implements agGridModule.ICellRendererComp {\n  private element: string | undefined;\n  private currentFilter: string | undefined;\n\n  public init(params?: any) {\n    if (params && params.api) {\n      this.element = params.value;\n      this.currentFilter = params.api.filterManager.quickFilter;\n    }\n  }\n  public getGui(): HTMLElement {\n    if (this.element && this.currentFilter) {\n      return $$('div', undefined, StreamHighlightUtils.highlightStreamHTML(this.element, { Precision: ['precision'] }, {})).el;\n    } else if (this.element) {\n      return $$('div', undefined, this.element).el;\n    } else {\n      return $$('div', undefined, '-- NULL --').el;\n    }\n  }\n\n  public refresh(params: any): boolean {\n    return true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/RelevanceInspector/TableBuilder.ts","import { ExecutionReportAuthenticationSection } from './ExecutionReportAuthenticationSection';\nimport { ExecutionReportResolvedPipelineSection } from './ExecutionReportResolvedPipelineSection';\nimport { ExecutionReportQueryOverrideSection } from './ExecutionReportQueryOverrideSection';\nimport { ExecutionReportSimpleSection } from './ExecutionReportSimpleSection';\nimport { ExecutionReportEffectiveIndexQuerySection } from './ExecutionReportEffectiveIndexQuerySection';\nimport { IQueryResults } from '../../rest/QueryResults';\nimport { $$, Dom } from '../../UtilsModules';\nimport { IComponentBindings } from '../Base/ComponentBindings';\nimport { IRelevanceInspectorTab } from './RelevanceInspector';\nimport agGridModule = require('ag-grid/main');\nimport { ExecutionReportRankingModifiers } from './ExecutionReportRankingModifiers';\nimport { IResultsComponentBindings, Logger } from '../../Core';\nimport { ExecutionReportITDSection } from './ExecutionReportITDSection';\n\nexport interface IExecutionReport {\n  duration: number;\n  children: IExecutionReportSection[];\n}\n\nexport interface IRankingExpressionExecutionReport {\n  expression: string;\n  modifer: number;\n  isConstant: boolean;\n}\n\nexport enum EXECUTION_REPORT_SECTION {\n  PERFORM_AUTHENTICATION = 'PerformAuthentication',\n  RESOLVE_PIPELINE = 'ResolvePipeline',\n  QUERY_PARAM_OVERRIDE = 'ApplyQueryParamOverrideFeature',\n  THESAURUS = 'ApplyThesaurusFeature',\n  PREPROCESS_QUERY_EXPRESSION = 'PreprocessQueryExpression',\n  PREPROCESS_QUERY = 'PreprocessQuery',\n  STOP_WORDS = 'ApplyStopWordFeature',\n  FILTERS = 'ApplyFilterFeature',\n  RANKING = 'ApplyRankingFeature',\n  TOP_RESULT = 'ApplyTopResultFeature',\n  RANKING_WEIGHT = 'ApplyRankingWeightFeature',\n  INDEX_QUERY = 'Send query to index',\n  TOP_CLICKS = 'EvaluatingTopClicks',\n  PARTIAL_MATCH = 'PartialMatch',\n  NONE = 'NONE'\n}\n\nexport interface IExecutionReportSection {\n  name: string;\n  duration: number;\n  result: Record<string, any>;\n  description: string;\n  children?: IExecutionReportSection[];\n  applied?: string[];\n}\n\nexport interface IExecutionReportSectionBuilder {\n  build(executionReport: IExecutionReport): Promise<{ container: Dom; gridOptions?: agGridModule.GridOptions }>;\n}\n\nexport class ExecutionReport implements IRelevanceInspectorTab {\n  public gridOptions: agGridModule.GridOptions;\n  constructor(public results: IQueryResults, public bindings: IComponentBindings) {}\n\n  public static standardSectionHeader(title: string) {\n    const container = $$('div');\n    container.append($$('h4', undefined, title).el);\n\n    const agGridElement = $$('div', {\n      className: 'ag-theme-fresh'\n    });\n    container.append(agGridElement.el);\n\n    return {\n      container,\n      agGridElement\n    };\n  }\n\n  public async build() {\n    if (!this.results.executionReport) {\n      new Logger(this).error(\n        'Could not open execution report : Missing execution report on results. Try executing the query in debug mode.'\n      );\n      return $$('div');\n    }\n\n    const container = $$('div', {\n      className: 'execution-report-debug'\n    });\n\n    const gridOptions: agGridModule.GridOptions[] = [];\n\n    const authenticationSection = await new ExecutionReportAuthenticationSection().build(this.results.executionReport);\n    container.append(authenticationSection.container.el);\n    if (authenticationSection.gridOptions) {\n      gridOptions.push(authenticationSection.gridOptions);\n    }\n\n    const resolvedPipelineSection = await new ExecutionReportResolvedPipelineSection().build(this.results.executionReport);\n    container.append(resolvedPipelineSection.container.el);\n    if (resolvedPipelineSection.gridOptions) {\n      gridOptions.push(resolvedPipelineSection.gridOptions);\n    }\n\n    const resolvedRankingModifiers = await new ExecutionReportRankingModifiers().build(\n      this.results.results,\n      this.results.rankingExpressions,\n      this.bindings as IResultsComponentBindings\n    );\n    container.append(resolvedRankingModifiers.container.el);\n    if (resolvedRankingModifiers.gridOptions) {\n      gridOptions.push(resolvedRankingModifiers.gridOptions);\n    }\n\n    const queryParamOverrideSection = await new ExecutionReportQueryOverrideSection().build(this.results.executionReport);\n    container.append(queryParamOverrideSection.container.el);\n    if (queryParamOverrideSection.gridOptions) {\n      gridOptions.push(queryParamOverrideSection.gridOptions);\n    }\n\n    const thesaurusSection = await new ExecutionReportSimpleSection(\n      EXECUTION_REPORT_SECTION.PREPROCESS_QUERY_EXPRESSION,\n      EXECUTION_REPORT_SECTION.THESAURUS,\n      'Thesaurus'\n    ).build(this.results.executionReport);\n\n    container.append(thesaurusSection.container.el);\n    if (thesaurusSection.gridOptions) {\n      gridOptions.push(thesaurusSection.gridOptions);\n    }\n\n    const stopWordsSection = await new ExecutionReportSimpleSection(\n      EXECUTION_REPORT_SECTION.PREPROCESS_QUERY_EXPRESSION,\n      EXECUTION_REPORT_SECTION.STOP_WORDS,\n      'Stop words'\n    ).build(this.results.executionReport);\n    container.append(stopWordsSection.container.el);\n    if (stopWordsSection.gridOptions) {\n      gridOptions.push(stopWordsSection.gridOptions);\n    }\n\n    const filtersSection = await new ExecutionReportSimpleSection(\n      EXECUTION_REPORT_SECTION.PREPROCESS_QUERY,\n      EXECUTION_REPORT_SECTION.FILTERS,\n      'Filters'\n    ).build(this.results.executionReport);\n    container.append(filtersSection.container.el);\n    if (filtersSection.gridOptions) {\n      gridOptions.push(filtersSection.gridOptions);\n    }\n\n    const rankingSection = await new ExecutionReportSimpleSection(\n      EXECUTION_REPORT_SECTION.PREPROCESS_QUERY,\n      EXECUTION_REPORT_SECTION.RANKING,\n      'Ranking'\n    ).build(this.results.executionReport);\n    container.append(rankingSection.container.el);\n    if (rankingSection.gridOptions) {\n      gridOptions.push(rankingSection.gridOptions);\n    }\n\n    const topResultsSection = await new ExecutionReportSimpleSection(\n      EXECUTION_REPORT_SECTION.PREPROCESS_QUERY,\n      EXECUTION_REPORT_SECTION.TOP_RESULT,\n      'Featured Results'\n    ).build(this.results.executionReport);\n    container.append(topResultsSection.container.el);\n\n    if (topResultsSection.gridOptions) {\n      gridOptions.push(topResultsSection.gridOptions);\n    }\n\n    const itdSection = await new ExecutionReportITDSection().build(this.results.executionReport);\n    container.append(itdSection.container.el);\n\n    if (itdSection.gridOptions) {\n      gridOptions.push(itdSection.gridOptions);\n    }\n\n    const rankingWeightsSection = await new ExecutionReportSimpleSection(\n      EXECUTION_REPORT_SECTION.PREPROCESS_QUERY,\n      EXECUTION_REPORT_SECTION.RANKING_WEIGHT,\n      'Ranking weights'\n    ).build(this.results.executionReport);\n    container.append(rankingWeightsSection.container.el);\n    if (rankingWeightsSection.gridOptions) {\n      gridOptions.push(rankingWeightsSection.gridOptions);\n    }\n\n    const indexQuerySection = await new ExecutionReportEffectiveIndexQuerySection().build(this.results.executionReport);\n    container.append(indexQuerySection.container.el);\n\n    this.gridOptions = {\n      api: {\n        sizeColumnsToFit: () => {\n          gridOptions.forEach(option => (option.api ? option.api.sizeColumnsToFit() : null));\n        }\n      }\n    } as any;\n\n    return container;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/RelevanceInspector/ExecutionReport.ts","import { ITableDataSource, GenericHtmlRenderer } from './TableBuilder';\nimport { isArray, isObject, each } from 'underscore';\nimport { $$ } from '../../utils/Dom';\n\nexport type GenericValueOutputType = string | number | string[] | Record<string, any> | boolean | undefined;\n\nconst defaultNullOutput = '-- NULL --';\n\nexport class GenericValueOutput {\n  public output(section: GenericValueOutputType): ITableDataSource {\n    if (isArray(section)) {\n      return this.arrayJoined(section);\n    }\n    if (isObject(section)) {\n      return this.objectJoined(section as Record<string, any>);\n    }\n\n    return this.simpleValue(section as string | number | undefined);\n  }\n\n  private simpleValue(section: string | number | undefined) {\n    return {\n      content: this.valueOrNullOutput(section)\n    };\n  }\n\n  private objectJoined(section: Record<string, any>): ITableDataSource {\n    let content = '';\n    each(section, (value, key) => {\n      if (isArray(value)) {\n        const list = $$('dl');\n        list.append($$('dt', undefined, key).el);\n        const innerList = $$('dd', undefined, this.arrayJoined(value).content);\n        list.append(innerList.el);\n        content += list.el.outerHTML;\n      } else if (isObject(value)) {\n        content += this.objectJoined(value).content;\n      } else {\n        const list = $$('dl');\n        list.append($$('dt', undefined, key).el);\n        list.append($$('dd', undefined, this.valueOrNullOutput(value)).el);\n\n        content += list.el.outerHTML;\n      }\n    });\n\n    return {\n      content,\n      cellRenderer: GenericHtmlRenderer\n    };\n  }\n\n  private arrayJoined(section: string[] | undefined): ITableDataSource {\n    if (!section || section.length == 0) {\n      return {\n        content: defaultNullOutput\n      };\n    }\n\n    const list = $$('ul', {\n      className: 'relevance-inspector-list-output'\n    });\n\n    section.forEach(sectionValue => {\n      if (isObject(sectionValue)) {\n        list.append($$('li', undefined, this.objectJoined(sectionValue as any).content).el);\n      } else {\n        list.append($$('li', undefined, this.valueOrNullOutput(sectionValue)).el);\n      }\n    });\n    return {\n      content: list.el.outerHTML,\n      cellRenderer: GenericHtmlRenderer\n    };\n  }\n\n  private valueOrNullOutput(value: any) {\n    if (value != null && value !== '') {\n      return value.toString();\n    }\n    return defaultNullOutput;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/RelevanceInspector/GenericValueOutput.ts","import { IExecutionReportSection } from './ExecutionReport';\nimport { GenericValueOutput } from './GenericValueOutput';\nimport { ITableDataSource } from './TableBuilder';\n\nexport class ExecutionReportGenericSection {\n  public build(executionReportSection: IExecutionReportSection): Record<string, ITableDataSource> {\n    return {\n      ...this.descriptionSection(executionReportSection),\n      ...this.durationSection(executionReportSection)\n    };\n  }\n\n  private descriptionSection(executionReportSection: IExecutionReportSection): Record<string, ITableDataSource> {\n    return {\n      Description: new GenericValueOutput().output(executionReportSection.description)\n    };\n  }\n\n  private durationSection(executionReportSection: IExecutionReportSection): Record<string, ITableDataSource> {\n    return {\n      Duration: new GenericValueOutput().output(`${executionReportSection.duration} ms`)\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/RelevanceInspector/ExecutionReportGenericSection.ts","import { object, map, keys, reduce } from 'underscore';\nimport { StringUtils } from '../../utils/StringUtils';\nimport { $$, Dom } from '../../utils/Dom';\n\nexport interface IRankingInfo {\n  documentWeights: IListOfWeights;\n  totalWeight: number;\n  termsWeight: IListOfTermsWeights;\n  qreWeights: IListOfQRE[];\n}\n\nexport interface IListOfWeights {\n  Adjacency: number;\n  'Collaborative rating': number;\n  Custom: number;\n  Date: number;\n  QRE: number;\n  Quality: number;\n  'Ranking functions': number;\n  Source: number;\n  Title: number;\n  [key: string]: number;\n}\n\nexport interface IListOfQRE {\n  expression: string;\n  score: number;\n}\n\nexport type IListOfTermsWeights = Record<string, IWeightsPerTerm>;\n\nexport interface IWeightsPerTerm {\n  Weights: IWeightsPerTermBreakdown;\n  terms: Record<string, IWeightsPerTermPerDocument>;\n}\n\nexport interface IWeightsPerTermBreakdown {\n  Casing: number;\n  Concept: number;\n  Formatted: number;\n  Frequency: number;\n  Relation: number;\n  Summary: number;\n  Title: number;\n  URI: number;\n  [key: string]: number;\n}\n\nexport interface IWeightsPerTermPerDocument {\n  Correlation: number;\n  'TF-IDF': number;\n}\n\nexport const buildListOfTermsElement = (weightPerTerm: IWeightsPerTermBreakdown): Dom => {\n  const listItems = map(weightPerTerm, (value, key) => {\n    return {\n      dt: $$(\n        'dt',\n        {\n          className: 'coveo-relevance-inspector-dt'\n        },\n        `${key}`\n      ),\n      dd: $$(\n        'dd',\n        {\n          className: 'coveo-relevance-inspector-dd'\n        },\n        `${value}`\n      )\n    };\n  });\n  const total = reduce(weightPerTerm, (memo, value) => memo + value, 0);\n  const list = $$('dl');\n  listItems.forEach(item => {\n    list.append(item.dt.el);\n    list.append(item.dd.el);\n  });\n  list.append($$('dt', { className: 'coveo-relevance-inspector-dt' }, `Total`).el);\n  list.append($$('dd', { className: 'coveo-relevance-inspector-dd coveo-relevance-inspector-highlight' }, `${total}`).el);\n  return list;\n};\n\nexport const parseRankingInfo = (value: string): IRankingInfo | null => {\n  const REGEX_EXTRACT_DOCUMENT_WEIGHTS = /Document weights:\\n((?:.)*?)\\n+/g;\n  const REGEX_EXTRACT_TERMS_WEIGHTS = /Terms weights:\\n((?:.|\\n)*)\\n+/g;\n  const REGEX_EXTRACT_TOTAL_WEIGHTS = /Total weight: ([0-9]+)/g;\n\n  if (value) {\n    const docWeightsRegexResult = REGEX_EXTRACT_DOCUMENT_WEIGHTS.exec(value);\n    const termsWeightRegexResult = REGEX_EXTRACT_TERMS_WEIGHTS.exec(value);\n    const totalWeigthRegexResult = REGEX_EXTRACT_TOTAL_WEIGHTS.exec(value);\n\n    const qreWeights = parseQREWeights(value);\n    const documentWeights = parseWeights(docWeightsRegexResult ? docWeightsRegexResult[1] : null);\n    const termsWeight = parseTermsWeights(termsWeightRegexResult);\n    const totalWeight = totalWeigthRegexResult ? Number(totalWeigthRegexResult[1]) : null;\n\n    return {\n      documentWeights,\n      termsWeight,\n      totalWeight,\n      qreWeights\n    };\n  }\n  return null;\n};\n\nconst parseWeights = (value: string | null): IListOfWeights | null => {\n  const REGEX_EXTRACT_LIST_OF_WEIGHTS = /(\\w+(?:\\s\\w+)*): ([-0-9]+)/g;\n  const REGEX_EXTRACT_WEIGHT_GROUP = /^(\\w+(?:\\s\\w+)*): ([-0-9]+)$/;\n\n  if (value) {\n    const listOfWeight = value.match(REGEX_EXTRACT_LIST_OF_WEIGHTS);\n\n    if (listOfWeight) {\n      return object(\n        listOfWeight.map(weight => {\n          let weightGroup = weight.match(REGEX_EXTRACT_WEIGHT_GROUP);\n\n          if (weightGroup) {\n            const weightAppliedOn = weightGroup[1];\n            const weightValue = weightGroup[2];\n            return [weightAppliedOn, Number(weightValue)];\n          }\n          return null;\n        })\n      ) as IListOfWeights;\n    }\n  }\n\n  return null;\n};\n\nconst parseTermsWeights = (termsWeight: RegExpExecArray | null): IListOfTermsWeights | null => {\n  const REGEX_EXTRACT_GROUP_OF_TERMS = /((?:[^:]+: [0-9]+, [0-9]+; )+)\\n((?:\\w+: [0-9]+; )+)/g;\n  const REGEX_EXTRACT_SINGLE_TERM = /([^:]+): ([0-9]+), ([0-9]+); /g;\n\n  if (termsWeight && termsWeight[1]) {\n    let terms = StringUtils.match(termsWeight[1], REGEX_EXTRACT_GROUP_OF_TERMS);\n\n    return object(\n      map(terms, term => {\n        let words = object(\n          map(StringUtils.match(term[1], REGEX_EXTRACT_SINGLE_TERM), word => {\n            return [\n              word[1],\n              {\n                Correlation: Number(word[2]),\n                'TF-IDF': Number(word[3])\n              }\n            ];\n          })\n        );\n        const weights = parseWeights(term[2]);\n        return [\n          keys(words).join(', '),\n          {\n            terms: words,\n            Weights: weights\n          }\n        ];\n      })\n    ) as IListOfTermsWeights;\n  }\n  return null;\n};\n\nconst parseQREWeights = (value: string): IListOfQRE[] => {\n  const REGEX_EXTRACT_QRE_WEIGHTS = /(Expression:\\s\".*\")\\sScore:\\s(?!0)([-0-9]+)\\n+/g;\n\n  let qreWeightsRegexResult = REGEX_EXTRACT_QRE_WEIGHTS.exec(value);\n\n  const qreWeights: IListOfQRE[] = [];\n  while (qreWeightsRegexResult) {\n    qreWeights.push({\n      expression: qreWeightsRegexResult[1],\n      score: parseInt(qreWeightsRegexResult[2], 10)\n    });\n    qreWeightsRegexResult = REGEX_EXTRACT_QRE_WEIGHTS.exec(value);\n  }\n\n  return qreWeights;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/RelevanceInspector/RankingInfoParser.ts","import {\n  IExecutionReportSectionBuilder,\n  EXECUTION_REPORT_SECTION,\n  IExecutionReportSection,\n  IExecutionReport,\n  ExecutionReport\n} from './ExecutionReport';\nimport { findWhere, find } from 'underscore';\nimport { ExecutionReportGenericSection } from './ExecutionReportGenericSection';\nimport { GenericValueOutput } from './GenericValueOutput';\nimport { TableBuilder } from './TableBuilder';\nimport agGridModule = require('ag-grid/main');\nimport { Dom } from '../../Core';\n\nexport interface IExecutionReportSimpleSection extends IExecutionReportSection {\n  applied: string[];\n}\n\nexport class ExecutionReportSimpleSection implements IExecutionReportSectionBuilder {\n  public constructor(\n    public topLevelProperty: EXECUTION_REPORT_SECTION,\n    public secondLevelProperty: EXECUTION_REPORT_SECTION,\n    public sectionTitle: string\n  ) {}\n\n  public async build(executionReport: IExecutionReport): Promise<{ container: Dom; gridOptions: agGridModule.GridOptions }> {\n    const { container, agGridElement } = ExecutionReport.standardSectionHeader(this.sectionTitle);\n    let gridOptions: agGridModule.GridOptions;\n    const topLevelProperty = find(executionReport.children, child => {\n      return child.name == this.topLevelProperty && child.children && findWhere(child.children, { name: this.secondLevelProperty });\n    });\n\n    if (topLevelProperty && topLevelProperty.children) {\n      const secondLevelProperty = findWhere(topLevelProperty.children, { name: this.secondLevelProperty }) as\n        | IExecutionReportSimpleSection\n        | undefined;\n\n      if (secondLevelProperty) {\n        const dataSource = [\n          {\n            ...new ExecutionReportGenericSection().build(secondLevelProperty),\n            ...{ Applied: new GenericValueOutput().output(secondLevelProperty.applied) }\n          }\n        ];\n\n        const tableBuilder = await new TableBuilder().build(dataSource, agGridElement);\n        gridOptions = tableBuilder.gridOptions;\n      }\n    } else {\n      const tableBuilder = await new TableBuilder().build(\n        [\n          {\n            [`${this.sectionTitle}`]: {\n              content: `NO DATA AVAILABLE FOR ${this.sectionTitle} IN CURRENT EXECUTION REPORT`\n            }\n          }\n        ],\n        agGridElement\n      );\n\n      gridOptions = tableBuilder.gridOptions;\n    }\n\n    return { container, gridOptions };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/RelevanceInspector/ExecutionReportSimpleSection.ts","import { parseRankingInfo, IRankingInfo, buildListOfTermsElement, IWeightsPerTerm } from './RankingInfoParser';\nimport { each, uniq, contains, chain, reduce } from 'underscore';\nimport { TableBuilder, ITableDataSource, GenericHtmlRenderer } from './TableBuilder';\nimport { $$, Dom } from '../../utils/Dom';\nimport { IQueryResult } from '../../rest/QueryResult';\nimport { IComponentBindings } from '../Base/ComponentBindings';\nimport { IResultsComponentBindings } from '../Base/ResultsComponentBindings';\nimport { IRelevanceInspectorTab } from './RelevanceInspector';\nimport agGridModule = require('ag-grid/main');\n\nexport class RankingInfoTable implements IRelevanceInspectorTab {\n  public gridOptions: agGridModule.GridOptions;\n  constructor(public results: IQueryResult[], public bindings: IComponentBindings) {}\n\n  public async build(): Promise<Dom> {\n    const container = $$('div');\n\n    const agGridElement = $$('div', {\n      className: 'ag-theme-fresh'\n    });\n    container.append(agGridElement.el);\n\n    let topLevelInfoThatHaveAtLeastANonZeroValue: string[] = [];\n    let containsKeywordRankingInfo = false;\n\n    this.results.forEach(result => {\n      const rankingInfo = parseRankingInfo(result.rankingInfo);\n      containsKeywordRankingInfo = rankingInfo.termsWeight != null;\n      if (rankingInfo && rankingInfo.documentWeights) {\n        each(rankingInfo.documentWeights, (value: number, key: string) => {\n          if (value != 0) {\n            topLevelInfoThatHaveAtLeastANonZeroValue.push(key);\n          }\n        });\n      }\n    });\n\n    topLevelInfoThatHaveAtLeastANonZeroValue = uniq(topLevelInfoThatHaveAtLeastANonZeroValue);\n\n    const data = this.results.map(result => {\n      const rankingInfo = parseRankingInfo(result.rankingInfo);\n\n      if (rankingInfo) {\n        const documentsWeights = this.buildTopLevelDocumentsWeights(rankingInfo, topLevelInfoThatHaveAtLeastANonZeroValue);\n        const breakdownPerTerm: Record<string, ITableDataSource> = {};\n\n        const onlyTopFewKeywords: Record<string, IWeightsPerTerm> = {};\n\n        chain(rankingInfo.termsWeight)\n          .keys()\n          .sortBy(key => {\n            const total = reduce(rankingInfo.termsWeight[key].Weights, (memo, value) => memo + value, 0);\n            return total;\n          })\n          .reverse()\n          .first(3)\n          .each(key => {\n            onlyTopFewKeywords[key] = rankingInfo.termsWeight[key];\n          });\n\n        each(onlyTopFewKeywords, (value, key) => {\n          const builtKey = `Keyword: ${key}`;\n          breakdownPerTerm[builtKey] = {\n            content: buildListOfTermsElement(value.Weights).el.outerHTML,\n            cellRenderer: GenericHtmlRenderer,\n            width: 200\n          };\n        });\n\n        const totalContent = rankingInfo.totalWeight ? rankingInfo.totalWeight : 0;\n        return {\n          ...TableBuilder.thumbnailCell(result, this.bindings as IResultsComponentBindings),\n          ...documentsWeights,\n          ...breakdownPerTerm,\n          ...{ Total: { content: totalContent || 0 } }\n        };\n      }\n      return {};\n    });\n\n    const { gridOptions } = await new TableBuilder().build(data, agGridElement, {\n      getRowHeight: () => {\n        return containsKeywordRankingInfo ? 400 : 250;\n      },\n      onGridReady: params => {\n        setTimeout(() => {\n          if (params) {\n            params.api.sizeColumnsToFit();\n            params.api.setSortModel([{ colId: 'Total', sort: 'desc' }]);\n          }\n        }, 0);\n      }\n    });\n\n    this.gridOptions = gridOptions;\n\n    return container;\n  }\n\n  private buildTopLevelDocumentsWeights(rankingInfo: IRankingInfo, hasAtLeastOneNonZeroValue: string[]): Record<string, ITableDataSource> {\n    const documentWeights: Record<string, ITableDataSource> = {};\n    each(rankingInfo.documentWeights || {}, (value, key) => {\n      if (contains(hasAtLeastOneNonZeroValue, key)) documentWeights[key] = { content: value || 0 };\n    });\n    return documentWeights;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/RelevanceInspector/RankingInfoTable.ts","import { $$ } from '../../utils/Dom';\n\nlet isAgGridLoaded = false;\nlet isAgGridLoading: Promise<boolean> | null = null;\nconst agGridLibUrl = 'https://cdnjs.cloudflare.com/ajax/libs/ag-grid/16.0.1/ag-grid.min.noStyle.js';\nconst agGridStyleBaseUrl = 'https://cdnjs.cloudflare.com/ajax/libs/ag-grid/16.0.1/styles/ag-grid.css';\nconst agGridStyleFreshUrl = 'https://cdnjs.cloudflare.com/ajax/libs/ag-grid/16.0.1/styles/ag-theme-fresh.css';\n\ndeclare const agGrid: any;\n\n// Should only be used for UT\nexport const reset = (doc = document) => {\n  isAgGridLoaded = false;\n  isAgGridLoading = null;\n};\n\nexport const loadAgGridLibrary = (doc = document) => {\n  return new Promise((resolve, reject) => {\n    if (isAgGridLoaded) {\n      resolve(true);\n    } else if (typeof agGrid !== 'undefined') {\n      isAgGridLoaded = true;\n      resolve(true);\n    } else {\n      addAgGridScriptsToDocument(doc);\n      isAgGridLoading.then(() => resolve(true));\n      isAgGridLoading.catch(() => reject(false));\n    }\n  });\n};\n\nconst addAgGridScriptsToDocument = (doc = document) => {\n  if (!isAgGridLoading) {\n    const script = $$('script', {\n      src: agGridLibUrl,\n      type: 'text/javascript',\n      async: true\n    }).el as HTMLScriptElement;\n\n    const styleBase = $$('link', {\n      href: agGridStyleBaseUrl,\n      rel: 'stylesheet',\n      type: 'text/css'\n    }).el as HTMLLinkElement;\n\n    const style = $$('link', {\n      href: agGridStyleFreshUrl,\n      rel: 'stylesheet',\n      type: 'text/css'\n    }).el as HTMLLinkElement;\n\n    doc.head.appendChild(script);\n    doc.head.appendChild(styleBase);\n    doc.head.appendChild(style);\n\n    isAgGridLoading = new Promise((resolveScriptLoaded, rejectScriptLoaded) => {\n      script.onload = () => {\n        resolveScriptLoaded(true);\n      };\n      script.onerror = () => {\n        isAgGridLoaded = false;\n        rejectScriptLoaded(false);\n      };\n    });\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/RelevanceInspector/AgGrid.ts","import { Component } from '../Base/Component';\nimport { ComponentOptions } from '../Base/ComponentOptions';\nimport { ComponentOptionsModel } from '../../models/ComponentOptionsModel';\nimport { IResultsComponentBindings } from '../Base/ResultsComponentBindings';\nimport { analyticsActionCauseList } from '../Analytics/AnalyticsActionListMeta';\nimport { IResultLinkOptions } from './ResultLinkOptions';\nimport { ResultListEvents } from '../../events/ResultListEvents';\nimport { HighlightUtils } from '../../utils/HighlightUtils';\nimport { IQueryResult } from '../../rest/QueryResult';\nimport { DeviceUtils } from '../../utils/DeviceUtils';\nimport { OS_NAME, OSUtils } from '../../utils/OSUtils';\nimport { Initialization } from '../Base/Initialization';\nimport { QueryUtils } from '../../utils/QueryUtils';\nimport { Assert } from '../../misc/Assert';\nimport { Utils } from '../../utils/Utils';\nimport { Defer } from '../../misc/Defer';\nimport { $$ } from '../../utils/Dom';\nimport { StreamHighlightUtils } from '../../utils/StreamHighlightUtils';\nimport { StringUtils } from '../../utils/StringUtils';\nimport { debounce, extend, escape } from 'underscore';\nimport { exportGlobally } from '../../GlobalExports';\n\nimport 'styling/_ResultLink';\nimport { AccessibleButton } from '../../utils/AccessibleButton';\nimport { bindAnalyticsToLink } from './ResultLinkCommon';\n\n/**\n * The `ResultLink` component automatically transform a search result title into a clickable link pointing to the\n * original item.\n *\n * This component is a result template component (see [Result Templates](https://docs.coveo.com/en/413/)).\n */\nexport class ResultLink extends Component {\n  static ID = 'ResultLink';\n\n  static doExport = () => {\n    exportGlobally({\n      ResultLink: ResultLink\n    });\n  };\n\n  /**\n   * The options for the ResultLink\n   * @componentOptions\n   */\n  static options: IResultLinkOptions = {\n    /**\n     * Specifies the field to use to output the component `href` attribute value.\n     *\n     * **Tip:**\n     * > Instead of specifying a value for the `field` option, you can directly add an `href` attribute to the\n     * > `ResultLink` HTML element. Then, you can use a custom script to generate the `href` value.\n     *\n     * **Examples:**\n     * - With the following markup, the `ResultLink` outputs its `href` value using the `@uri` field (rather than the\n     * default field):\n     *\n     * ```html\n     * <a class=\"CoveoResultLink\" data-field=\"@uri\"></a>\n     * ```\n     *\n     * - In the following result template, the custom `getMyKBUri()` function provides the `href` value:\n     *\n     * ```html\n     * <script id=\"KnowledgeArticle\" type=\"text/underscore\" class=\"result-template\">\n     *   <div class='CoveoIcon>'></div>\n     *   <a class=\"CoveoResultLink\" href=\"<%= getMyKBUri(raw) %>\"></a>\n     *   <div class=\"CoveoExcerpt\"></div>\n     * </script>\n     * ```\n     *\n     * See also [`hrefTemplate`]{@link ResultLink.options.hrefTemplate}, which can override this option.\n     *\n     * By default, the component uses the `@clickUri` field of the item to output the value of its `href` attribute.\n     */\n    field: ComponentOptions.buildFieldOption(),\n\n    /**\n     * Specifies whether the component should try to open its link in Microsoft Outlook.\n     *\n     * Setting this option to `true` is normally useful for `ResultLink` instances related to Microsoft Exchange emails.\n     *\n     * If this option is `true`, clicking the `ResultLink` calls the\n     * [`openLinkInOutlook`]{@link ResultLink.openLinkInOutlook} method instead of the\n     * [`openLink`]{@link ResultLink.openLink} method.\n     *\n     * Default value is `false`.\n     */\n    openInOutlook: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n\n    /**\n     * Specifies whether the component should open its link in the [`Quickview`]{@link Quickview} component rather than\n     * loading through the original URL.\n     *\n     * Default value is `false`.\n     */\n    openQuickview: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n\n    /**\n     * Specifies whether the component should open its link in a new window instead of opening it in the current\n     * context.\n     *\n     * If this option is `true`, clicking the `ResultLink` calls the\n     * [`openLinkInNewWindow`]{@link ResultLink.openLinkInNewWindow} method instead of the\n     * [`openLink`]{@link ResultLink.openLink} method.\n     *\n     * **Note:**\n     * > If a search page contains a [`ResultPreferences`]{@link ResultsPreferences} component whose\n     * > [`enableOpenInNewWindow`]{@link ResultsPreferences.options.enableOpenInNewWindow} option is `true`, and the end\n     * > user checks the <b>Always open results in new window</b> box, `ResultLink` components in this page will always\n     * > open their links in a new window when the end user clicks them, no matter what the value of their\n     * > `alwaysOpenInNewWindow` option is.\n     *\n     * Default value is `false`.\n     */\n    alwaysOpenInNewWindow: ComponentOptions.buildBooleanOption({ defaultValue: false }),\n\n    /**\n     * Specifies a template literal from which to generate the `ResultLink` `href` attribute value (see\n     * [Template literals](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Template_literals)).\n     *\n     * This option overrides the [`field`]{@link ResultLink.options.field} option value.\n     *\n     * The template literal can reference any number of fields from the parent result. It can also reference global\n     * scope properties.\n     *\n     * **Examples:**\n     *\n     * - The following markup generates an `href` value such as `http://uri.com?id=itemTitle`:\n     *\n     * ```html\n     * <a class='CoveoResultLink' data-href-template='${clickUri}?id=${raw.title}'></a>\n     * ```\n     *\n     * - The following markup generates an `href` value such as `localhost/fooBar`:\n     *\n     * ```html\n     * <a class='CoveoResultLink' data-href-template='${window.location.hostname}/{Foo.Bar}'></a>\n     * ```\n     *\n     * Default value is `undefined`.\n     */\n    hrefTemplate: ComponentOptions.buildStringOption(),\n\n    /**\n     * Specifies a template literal from which to generate the `ResultLink` display title (see\n     * [Template literals](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Template_literals)).\n     *\n     * This option overrides the default `ResultLink` display title behavior.\n     *\n     * The template literal can reference any number of fields from the parent result. However, if the template literal\n     * references a key whose value is undefined in the parent result fields, the `ResultLink` title displays the\n     * name of this key instead.\n     *\n     * This option is ignored if the `ResultLink` innerHTML contains any value.\n     *\n     * **Examples:**\n     *\n     * - The following markup generates a `ResultLink` display title such as `Case number: 123456` if both the\n     * `raw.objecttype` and `raw.objectnumber` keys are defined in the parent result fields:\n     *\n     * ```html\n     * <a class=\"CoveoResultLink\" data-title-template=\"${raw.objecttype} number: ${raw.objectnumber}\"></a>\n     * ```\n     *\n     * - The following markup generates `${myField}` as a `ResultLink` display title if the `myField` key is undefined\n     * in the parent result fields:\n     *\n     * ```html\n     * <a class=\"CoveoResultLink\" data-title-template=\"${myField}\"></a>\n     * ```\n     *\n     * - The following markup generates `Foobar` as a `ResultLink` display title, because the `ResultLink` innterHTML is\n     * not empty:\n     *\n     * ```html\n     * <a class=\"CoveoResultLink\" data-title-template=\"${will} ${be} ${ignored}\">Foobar</a>\n     * ```\n     *\n     * Default value is `undefined`.\n     *\n     * @availablesince [January 2017 Release (v1.1865.9)](https://docs.coveo.com/en/396/#january-2017-release-v118659)\n     */\n    titleTemplate: ComponentOptions.buildStringOption(),\n\n    /**\n     * Specifies an event handler function to execute when the user clicks the `ResultLink` component.\n     *\n     * The handler function takes a JavaScript [`Event`](https://developer.mozilla.org/en/docs/Web/API/Event) object and\n     * an [`IQueryResult`]{@link IQueryResult} as its parameters.\n     *\n     * Overriding the default behavior of the `onClick` event can allow you to execute specific code instead.\n     *\n     * **Note:**\n     * > You cannot set this option directly in the component markup as an HTML attribute. You must either set it in the\n     * > [`init`]{@link init} call of your search interface (see\n     * > [Passing Component Options in the init Call](https://docs.coveo.com/en/346/#passing-component-options-in-the-init-call)),\n     * > or before the `init` call, using the `options` top-level function (see\n     * > [Passing Component Options Before the init Call](https://docs.coveo.com/en/346/#passing-component-options-before-the-init-call)).\n     *\n     * **Example:**\n     * ```javascript\n     * // You can set the option in the 'init' call:\n     * Coveo.init(document.querySelector(\"#search\"), {\n     *   ResultLink : {\n     *     onClick : function(e, result) {\n     *       e.preventDefault();\n     *       // Custom code to execute with the item URI and title.\n     *       openUriInASpecialTab(result.clickUri, result.title);\n     *     }\n     *   }\n     * });\n     *\n     * // Or before the 'init' call, using the 'options' top-level function:\n     * // Coveo.options(document.querySelector('#search'), {\n     * //   ResultLink : {\n     * //     onClick : function(e, result) {\n     * //       e.preventDefault();\n     * //       // Custom code to execute with the item URI and title.\n     * //       openUriInASpecialTab(result.clickUri, result.title);\n     * //     }\n     * //   }\n     * // });\n     * ```\n     */\n    onClick: ComponentOptions.buildCustomOption<(e: Event, result: IQueryResult) => any>(() => {\n      return null;\n    }),\n\n    /**\n     * Specify this option to log additional analytics when this result link is pressed.\n     *\n     * **Example:**\n     * ```javascript\n     * const resultLink = new Coveo.ResultLink(\n     *   linkElement,\n     *   {\n     *     logAnalytics: (href) => Coveo.logCustomEvent(\n     *         Coveo.analyticsActionCauseList.openSmartSnippetSource,\n     *         {\n     *           searchQueryUid: searchInterface.queryController.lastSearchUid,\n     *           documentTitle: result.title,\n     *           author: Utils.getFieldValue(result, 'author'),\n     *           documentURL: href\n     *         },\n     *         element\n     *       )\n     *   },\n     *   searchInterface.getBindings(),\n     *   result\n     * )\n     * ```\n     */\n    logAnalytics: ComponentOptions.buildCustomOption<(href: string) => void>(() => null)\n  };\n\n  private toExecuteOnOpen: (e?: Event) => void;\n\n  /**\n   * Creates a new `ResultLink` component.\n   * @param element The HTMLElement on which to instantiate the component.\n   * @param options The options for the `ResultLink` component.\n   * @param bindings The bindings that the component requires to function normally. If not set, these will be\n   * automatically resolved (with a slower execution time).\n   * @param result The result to associate the component with.\n   * @param os\n   */\n  constructor(\n    public element: HTMLElement,\n    public options: IResultLinkOptions,\n    public bindings?: IResultsComponentBindings,\n    public result?: IQueryResult,\n    public os?: OS_NAME\n  ) {\n    super(element, ResultLink.ID, bindings);\n\n    const globalOptions = this.searchInterface.options.originalOptionsObject[ResultLink.ID] || {};\n    const initialOptions = ComponentOptions.initComponentOptions(element, ResultLink, { ...globalOptions, ...options });\n    const resultLinkOptions = this.componentOptionsModel.get(ComponentOptionsModel.attributesEnum.resultLink);\n    this.options = extend({}, initialOptions, resultLinkOptions);\n\n    this.result = result || this.resolveResult();\n\n    if (this.options.openQuickview == null) {\n      this.options.openQuickview = result.raw['connectortype'] == 'ExchangeCrawler' && DeviceUtils.isMobileDevice();\n    }\n    if (!this.element.hasAttribute('tabindex')) {\n      this.element.setAttribute('tabindex', '0');\n    }\n\n    Assert.exists(this.componentOptionsModel);\n    Assert.exists(this.result);\n\n    if (!this.quickviewShouldBeOpened()) {\n      // Bind on multiple \"click\" or \"mouse\" events.\n      // Create a function that will be executed only once, so as not to log multiple events\n      // Once a result link has been opened, and that we log at least one analytics event,\n      // it should not matter if the end user open the same link multiple times with different methods.\n      // It's still only one \"click\" event as far as UA is concerned.\n      // Also need to handle \"longpress\" on mobile (the contextual menu), which we assume to be 1 s long.\n\n      bindAnalyticsToLink(element, () => this.logAnalytics());\n    }\n    this.renderUri(element, result);\n    this.bindEventToOpen();\n  }\n  public renderUri(element: HTMLElement, result?: IQueryResult) {\n    if (/^\\s*$/.test(this.element.innerHTML)) {\n      const title = this.getDisplayedTitle();\n      this.element.innerHTML = title;\n\n      const titleAsText = this.getDisplayedTitleAsText();\n      if (!this.element.hasAttribute('aria-label')) {\n        this.element.setAttribute('aria-label', titleAsText);\n      }\n\n      if (!this.element.title) {\n        this.element.title = titleAsText;\n      }\n    }\n  }\n  /**\n   * Opens the result in the same window, no matter how the actual component is configured for the end user.\n   * @param logAnalytics Specifies whether the method should log an analytics event.\n   */\n  public openLink(logAnalytics = true) {\n    if (logAnalytics) {\n      this.logAnalytics();\n    }\n    window.location.href = this.getResultUri();\n  }\n\n  /**\n   * Opens the result in a new window, no matter how the actual component is configured for the end user.\n   * @param logAnalytics Specifies whether the method should log an analytics event.\n   */\n  public openLinkInNewWindow(logAnalytics = true) {\n    if (logAnalytics) {\n      this.logAnalytics();\n    }\n    window.open(this.getResultUri(), '_blank');\n  }\n\n  /**\n   * Tries to open the result in Microsoft Outlook if the result has an `outlookformacuri` or `outlookuri` field.\n   *\n   * Normally, this implies the result should be a link to an email.\n   *\n   * If the needed fields are not present, this method does nothing.\n   * @param logAnalytics Specifies whether the method should log an analytics event.\n   */\n  public openLinkInOutlook(logAnalytics = true) {\n    if (this.hasOutlookField()) {\n      if (logAnalytics) {\n        this.logAnalytics();\n      }\n      this.openLink();\n    }\n  }\n\n  /**\n   * Opens the link in the same manner the end user would.\n   *\n   * This essentially simulates a click on the result link.\n   *\n   * @param logAnalytics Specifies whether the method should log an analytics event.\n   */\n  public openLinkAsConfigured(logAnalytics = true) {\n    if (this.toExecuteOnOpen) {\n      if (logAnalytics) {\n        this.logAnalytics();\n      }\n      this.toExecuteOnOpen();\n    }\n  }\n\n  protected bindEventToOpen(): boolean {\n    return (\n      this.bindOnClickIfNotUndefined() ||\n      this.bindOpenQuickviewIfNotUndefined() ||\n      this.setHrefIfNotAlready() ||\n      this.openLinkThatIsNotAnAnchor()\n    );\n  }\n\n  private getDisplayedTitle() {\n    if (!this.options.titleTemplate) {\n      return this.result.title\n        ? HighlightUtils.highlightString(this.result.title, this.result.titleHighlights, null, 'coveo-highlight')\n        : this.escapedClickUri;\n    } else {\n      let newTitle = StringUtils.buildStringTemplateFromResult(this.options.titleTemplate, this.result);\n      return newTitle\n        ? StreamHighlightUtils.highlightStreamText(newTitle, this.result.termsToHighlight, this.result.phrasesToHighlight)\n        : this.escapedClickUri;\n    }\n  }\n\n  private getDisplayedTitleAsText() {\n    const container = $$('div');\n    container.setHtml(this.getDisplayedTitle());\n    return container.text();\n  }\n\n  private get escapedClickUri() {\n    return escape(this.result.clickUri);\n  }\n\n  private bindOnClickIfNotUndefined() {\n    if (this.options.onClick != undefined) {\n      this.toExecuteOnOpen = (e: MouseEvent) => {\n        this.options.onClick.call(this, e, this.result);\n      };\n\n      new AccessibleButton()\n        .withElement(this.element)\n        .withLabel(this.result.title)\n        .withSelectAction((e: Event) => this.toExecuteOnOpen(e))\n        .build();\n\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  private bindOpenQuickviewIfNotUndefined() {\n    if (this.quickviewShouldBeOpened()) {\n      this.toExecuteOnOpen = () => {\n        $$(this.bindings.resultElement).trigger(ResultListEvents.openQuickview);\n      };\n\n      $$(this.element).on('click', (e: Event) => {\n        e.preventDefault();\n        this.toExecuteOnOpen();\n      });\n\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  private openLinkThatIsNotAnAnchor() {\n    if (!this.elementIsAnAnchor()) {\n      this.toExecuteOnOpen = () => {\n        if (this.options.alwaysOpenInNewWindow) {\n          if (this.options.openInOutlook) {\n            this.openLinkInOutlook();\n          } else {\n            this.openLinkInNewWindow();\n          }\n        } else {\n          this.openLink();\n        }\n      };\n\n      $$(this.element).on('click', () => {\n        this.toExecuteOnOpen();\n      });\n\n      return true;\n    }\n    return false;\n  }\n\n  private setHrefIfNotAlready() {\n    // Do not erase any value put in href by the template, etc. Allows\n    // using custom click urls while still keeping analytics recording\n    // and other behavior brought by the component.\n    if (this.elementIsAnAnchor() && !Utils.isNonEmptyString($$(this.element).getAttribute('href'))) {\n      $$(this.element).setAttribute('href', this.getResultUri());\n      if (this.options.alwaysOpenInNewWindow && !(this.options.openInOutlook && this.hasOutlookField())) {\n        $$(this.element).setAttribute('target', '_blank');\n      }\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  private logDocumentOpen(href: string) {\n    this.usageAnalytics.logClickEvent(\n      analyticsActionCauseList.documentOpen,\n      {\n        documentURL: href,\n        documentTitle: this.result.title,\n        author: Utils.getFieldValue(this.result, 'author')\n      },\n      this.result,\n      this.root\n    );\n  }\n\n  private logAnalytics = debounce(\n    () => {\n      this.queryController.saveLastQuery();\n      let documentURL = $$(this.element).getAttribute('href');\n      if (documentURL == undefined || documentURL == '') {\n        documentURL = this.escapedClickUri;\n      }\n      if (this.options.logAnalytics) {\n        this.options.logAnalytics(documentURL);\n      } else {\n        this.logDocumentOpen(documentURL);\n      }\n      Defer.flush();\n    },\n    1500,\n    true\n  );\n\n  private filterProtocol(uri: string) {\n    const isAbsolute = /^(https?|ftp|file|mailto|tel):/i.test(uri);\n    const isRelative = /^(\\/|\\.\\/|\\.\\.\\/)/.test(uri);\n\n    return isAbsolute || isRelative ? uri : '';\n  }\n\n  private getResultUri(): string {\n    if (this.options.hrefTemplate) {\n      const uri = StringUtils.buildStringTemplateFromResult(this.options.hrefTemplate, this.result);\n      return this.filterProtocol(uri);\n    }\n\n    if (this.options.field == undefined && this.options.openInOutlook) {\n      this.setField();\n    }\n\n    if (this.options.field != undefined) {\n      return this.filterProtocol(Utils.getFieldValue(this.result, <string>this.options.field));\n    }\n\n    return this.filterProtocol(this.result.clickUri);\n  }\n\n  private elementIsAnAnchor() {\n    return this.element.tagName == 'A';\n  }\n\n  private setField() {\n    let os = Utils.exists(this.os) ? this.os : OSUtils.get();\n    if (os == OS_NAME.MACOSX && this.hasOutlookField()) {\n      this.options.field = '@outlookformacuri';\n    } else if (os == OS_NAME.WINDOWS && this.hasOutlookField()) {\n      this.options.field = '@outlookuri';\n    }\n  }\n\n  private hasOutlookField() {\n    let os = Utils.exists(this.os) ? this.os : OSUtils.get();\n    if (os == OS_NAME.MACOSX && this.result.raw['outlookformacuri'] != undefined) {\n      return true;\n    } else if (os == OS_NAME.WINDOWS && this.result.raw['outlookuri'] != undefined) {\n      return true;\n    }\n    return false;\n  }\n\n  private isUriThatMustBeOpenedInQuickview(): boolean {\n    return this.escapedClickUri.toLowerCase().indexOf('ldap://') == 0;\n  }\n\n  private quickviewShouldBeOpened() {\n    return (this.options.openQuickview || this.isUriThatMustBeOpenedInQuickview()) && QueryUtils.hasHTMLVersion(this.result);\n  }\n}\n\nInitialization.registerAutoCreateComponent(ResultLink);\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/ResultLink/ResultLink.ts","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/string-replace-loader/index.js??ref--0-2!../node_modules/css-loader/index.js??ref--0-3!../node_modules/resolve-url-loader/index.js??ref--0-4!../node_modules/sass-loader/lib/loader.js??ref--0-5!./_ResultLink.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../node_modules/string-replace-loader/index.js??ref--0-2!../node_modules/css-loader/index.js??ref--0-3!../node_modules/resolve-url-loader/index.js??ref--0-4!../node_modules/sass-loader/lib/loader.js??ref--0-5!./_ResultLink.scss\", function() {\n\t\t\tvar newContent = require(\"!!../node_modules/string-replace-loader/index.js??ref--0-2!../node_modules/css-loader/index.js??ref--0-3!../node_modules/resolve-url-loader/index.js??ref--0-4!../node_modules/sass-loader/lib/loader.js??ref--0-5!./_ResultLink.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sass/_ResultLink.scss\n// module id = 341\n// module chunks = 0","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n* @param direction vertical or horizontal\\n* @param position type of positioning to apply (relative/absolute)\\n*/\\n\\n/*\\n* @param $selector css selector on which to apply the icon. Can be '&' if the icon should be applied on the current element;\\n* @param $size size of the icon to use\\n*/\\n\\n.CoveoResultLink,\\na.CoveoResultLink,\\n.CoveoResult a.CoveoResultLink {\\n  color: #0059b3;\\n  text-decoration: none;\\n  cursor: pointer;\\n  word-wrap: break-word;\\n}\\n\\n.CoveoResultLink:visited,\\n.CoveoResultLink:visited:hover,\\na.CoveoResultLink:visited,\\na.CoveoResultLink:visited:hover,\\n.CoveoResult a.CoveoResultLink:visited,\\n.CoveoResult a.CoveoResultLink:visited:hover {\\n  color: #609;\\n}\\n\\n.CoveoResultLink:hover,\\n.CoveoResultLink:hover a,\\n.CoveoResultLink:focus,\\n.CoveoResultLink:focus a,\\na.CoveoResultLink:hover,\\na.CoveoResultLink:hover a,\\na.CoveoResultLink:focus,\\na.CoveoResultLink:focus a,\\n.CoveoResult a.CoveoResultLink:hover,\\n.CoveoResult a.CoveoResultLink:hover a,\\n.CoveoResult a.CoveoResultLink:focus,\\n.CoveoResult a.CoveoResultLink:focus a {\\n  text-decoration: underline;\\n}\\n\\n.CoveoResultLink.coveo-selected *,\\na.CoveoResultLink.coveo-selected *,\\n.CoveoResult a.CoveoResultLink.coveo-selected * {\\n  color: #0059b3;\\n}\\n\\n.coveo-card-overlay a.CoveoResultLink {\\n  color: #0059b3;\\n  text-decoration: none;\\n  cursor: pointer;\\n  color: #f7f8f9;\\n  text-decoration: underline;\\n}\\n\\n.coveo-card-overlay a.CoveoResultLink:visited,\\n.coveo-card-overlay a.CoveoResultLink:visited:hover {\\n  color: #609;\\n  color: #f7f8f9;\\n}\\n\\n.coveo-card-overlay a.CoveoResultLink:hover,\\n.coveo-card-overlay a.CoveoResultLink:hover a,\\n.coveo-card-overlay a.CoveoResultLink:focus,\\n.coveo-card-overlay a.CoveoResultLink:focus a {\\n  text-decoration: underline;\\n}\\n\\n.coveo-card-overlay a.CoveoResultLink.coveo-selected * {\\n  color: #0059b3;\\n  color: #f7f8f9;\\n}\\n\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/string-replace-loader??ref--0-2!./node_modules/css-loader??ref--0-3!./node_modules/resolve-url-loader??ref--0-4!./node_modules/sass-loader/lib/loader.js??ref--0-5!./sass/_ResultLink.scss\n// module id = 342\n// module chunks = 0","import { once } from 'underscore';\nimport { $$ } from '../../utils/Dom';\n\nexport function bindAnalyticsToLink(element: HTMLElement, logAnalytics: () => void) {\n  const executeOnlyOnce = once(() => logAnalytics());\n\n  $$(element).on(['contextmenu', 'click', 'mousedown', 'mouseup'], executeOnlyOnce);\n  let longPressTimer: number;\n  $$(element).on('touchstart', () => {\n    longPressTimer = window.setTimeout(executeOnlyOnce, 1000);\n  });\n  $$(element).on('touchend', () => {\n    if (longPressTimer) {\n      clearTimeout(longPressTimer);\n    }\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/ResultLink/ResultLinkCommon.ts","import { TableBuilder, ITableDataSource } from './TableBuilder';\nimport { map, each, find } from 'underscore';\nimport agGridModule = require('ag-grid/main');\nimport { IQueryResult } from '../../rest/QueryResult';\nimport { IComponentBindings } from '../Base/ComponentBindings';\nimport { $$, Dom } from '../../utils/Dom';\nimport { StringUtils } from '../../utils/StringUtils';\nimport { DateUtils } from '../../utils/DateUtils';\nimport { IResultsComponentBindings } from '../Base/ResultsComponentBindings';\nimport { IRelevanceInspectorTab } from './RelevanceInspector';\nimport { TextInput } from '../FormWidgets/TextInput';\nimport { IFieldDescription } from '../../rest/FieldDescription';\n\nexport class MetaDataTable implements IRelevanceInspectorTab {\n  public gridOptions: agGridModule.GridOptions;\n\n  constructor(public results: IQueryResult[], public bindings: IComponentBindings) {}\n\n  public async build(): Promise<Dom> {\n    if (!this.bindings.queryController) {\n      return;\n    }\n\n    const fieldsDescription = await this.bindings.queryController.getEndpoint().listFields();\n\n    const container = $$('div', {\n      className: 'metadata-table'\n    });\n\n    const builders = this.results.map(async result => {\n      const nestedContainer = $$('div');\n      container.append(nestedContainer.el);\n\n      const nestedAgGrid = $$('div', {\n        className: 'ag-theme-fresh'\n      });\n\n      nestedContainer.append(nestedAgGrid.el);\n\n      const thumbnail = TableBuilder.thumbnailCell(result, this.bindings as IResultsComponentBindings);\n      const fields: Record<string, ITableDataSource> = {};\n\n      fields[`Fields Values`] = {\n        content: { result, fieldsDescription },\n        cellRenderer: FieldValuesRenderer,\n        width: 900,\n        getQuickFilterText: (params: agGridModule.GetQuickFilterTextParams) => {\n          const allValues = map(params.value.result.raw, val => val.toString());\n          return Object.keys(params.value.result.raw)\n            .concat(allValues)\n            .join(' ');\n        },\n        onCellDoubleClicked: (params: agGridModule.CellDoubleClickedEvent) => {\n          const el = params.event ? (params.event.target as Node) : null;\n          if (el && window.getSelection && document.createRange) {\n            const selection = window.getSelection();\n            const range = document.createRange();\n            range.selectNodeContents(el);\n            selection.removeAllRanges();\n            selection.addRange(range);\n          }\n        }\n      };\n\n      return await new TableBuilder().build(\n        [\n          {\n            ...thumbnail,\n            ...fields\n          }\n        ],\n        nestedAgGrid,\n        {\n          rowHeight: 400\n        }\n      );\n    });\n\n    this.gridOptions = {\n      api: {\n        sizeColumnsToFit: () => {\n          builtTables.forEach(built => (built.gridOptions.api ? built.gridOptions.api.sizeColumnsToFit : null));\n        }\n      }\n    } as any;\n\n    const builtTables = await Promise.all(builders);\n    const textInput = new TextInput(input => {\n      builtTables.forEach(built => {\n        const api = built.gridOptions && built.gridOptions.api;\n        if (api) {\n          api.setQuickFilter(input.getValue());\n          api.onRowHeightChanged();\n        }\n      });\n    }, 'Filters on Fields Values');\n    container.prepend(textInput.getElement());\n\n    return container;\n  }\n}\n\nexport class FieldValuesRenderer implements agGridModule.ICellRendererComp {\n  private element: any | undefined;\n  private currentFilter: string | undefined;\n  private params: any;\n\n  public init(params: any) {\n    this.element = params.value;\n    this.params = params;\n    this.currentFilter = params.api.filterManager.quickFilter;\n    params.value.el = this.listAsInput(this.element.result);\n  }\n\n  public getGui(): HTMLElement {\n    if (this.element) {\n      const list = this.listAsInput(this.element.result);\n      this.params.eParentOfValue.appendChild(list.el);\n      const height = Math.max(list.height() + 50, 200);\n      const maxHeight = Math.min(height, 5000);\n      this.params.node.setRowHeight(maxHeight);\n      return $$('div', undefined, list).el;\n    }\n    return $$('div', undefined, 'N.A').el;\n  }\n\n  private listAsInput(result: IQueryResult) {\n    const container = $$('div');\n\n    each(result.raw, (value: string, fieldInResult: string) => {\n      if (fieldInResult == 'allmetadatavalues' || fieldInResult.indexOf('sys') == 0) {\n        return;\n      }\n\n      if (this.isCurrentElementFilteredOut(value, fieldInResult)) {\n        return;\n      }\n\n      const inputGroup = $$('div', { className: 'coveo-relevance-inspector-input-group' });\n      const fieldName = $$(\n        'div',\n        {\n          className: 'coveo-relevance-inspector-metadata-name'\n        },\n        fieldInResult\n      );\n\n      const fieldValue = this.convertFieldValueToReadableFormat(result, fieldInResult);\n\n      const fieldValueElement = $$(\n        'div',\n        {\n          className: 'coveo-relevance-inspector-metadata-value'\n        },\n        fieldValue\n      );\n\n      if (this.currentFilter) {\n        this.highlightSearch(fieldName.el, this.currentFilter);\n        this.highlightSearch(fieldValueElement.el, this.currentFilter);\n      }\n\n      inputGroup.append(fieldName.el);\n      inputGroup.append(fieldValueElement.el);\n      container.append(inputGroup.el);\n    });\n\n    return container;\n  }\n\n  private isCurrentElementFilteredOut(value: string, fieldInResult: string) {\n    if (this.currentFilter) {\n      const matchInFieldName = fieldInResult.toLowerCase().indexOf(this.currentFilter.toLowerCase()) != -1;\n      const matchInFieldValue = value\n        ? value\n            .toString()\n            .toLowerCase()\n            .indexOf(this.currentFilter.toLowerCase()) != -1\n        : false;\n\n      if (!matchInFieldName && !matchInFieldValue) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  private convertFieldValueToReadableFormat(result: IQueryResult, fieldInResult: string) {\n    let fieldValue = result.raw[fieldInResult].toString();\n    if (this.element.fieldsDescription) {\n      const matchingFieldDescription = find(this.element.fieldsDescription as IFieldDescription[], description => {\n        return description.name.replace('@', '').toLowerCase() == fieldInResult;\n      });\n      if (matchingFieldDescription && matchingFieldDescription.fieldType == 'Date') {\n        fieldValue = `${DateUtils.convertToStandardDate(fieldValue).toString()} ( Epoch : ${fieldValue} )`;\n      }\n    }\n    return fieldValue;\n  }\n\n  private highlightSearch(elementToSearch: HTMLElement, search: string) {\n    let asHTMLElement: HTMLElement = elementToSearch;\n\n    if (asHTMLElement != null && asHTMLElement.innerText != null) {\n      const match = asHTMLElement.innerText.split(new RegExp('(?=' + StringUtils.regexEncode(search) + ')', 'gi'));\n      asHTMLElement.innerHTML = '';\n      match.forEach(value => {\n        const regex = new RegExp('(' + StringUtils.regexEncode(search) + ')', 'i');\n        const group = value.match(regex);\n        let span;\n\n        if (group != null) {\n          span = $$('span', {\n            className: 'coveo-relevance-inspector-highlight'\n          });\n          span.text(group[1]);\n          asHTMLElement.appendChild(span.el);\n          span = $$('span');\n          span.text(value.substr(group[1].length));\n          asHTMLElement.appendChild(span.el);\n        } else {\n          span = $$('span');\n          span.text(value);\n          asHTMLElement.appendChild(span.el);\n        }\n      });\n    }\n  }\n\n  public refresh(params: any): boolean {\n    return true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/RelevanceInspector/MetaDataTable.ts","import { $$, Dom } from '../../utils/Dom';\nimport { find } from 'underscore';\n\nexport class RelevanceInspectorTabs {\n  public navigationSection: Dom;\n  public tabContentSection: Dom;\n  private navigationElements: Dom[];\n  private tabContentElements: Dom[];\n\n  constructor(public onTabChange: (id: string) => void) {\n    this.navigationSection = $$('div', {\n      className: 'coveo-relevance-inspector-tab-navigation-section'\n    });\n\n    this.tabContentSection = $$('div', {\n      className: 'coveo-relevance-inspector-tab-content-section'\n    });\n\n    this.navigationElements = [];\n    this.tabContentElements = [];\n  }\n\n  public select(id: string) {\n    const navElementToActivate = this.findNavigationById(id);\n    const tabContentToActivate = this.findTabContentById(id);\n\n    if (navElementToActivate && tabContentToActivate) {\n      this.activateTabNavigation(navElementToActivate);\n      this.activateTabContent(tabContentToActivate);\n      if (this.onTabChange) {\n        this.onTabChange(id);\n      }\n    }\n  }\n\n  public addNavigation(caption: string, id: string) {\n    const navigationElement = $$(\n      'div',\n      {\n        id,\n        className: 'coveo-relevance-inspector-tab'\n      },\n      caption\n    );\n\n    navigationElement.on('click', () => this.select(id));\n\n    this.navigationElements.push(navigationElement);\n    this.navigationSection.append(navigationElement.el);\n\n    return this;\n  }\n\n  public addContent(content: Dom, targetId: string) {\n    const tabContent = $$('div', {\n      className: 'coveo-relevance-inspector-tab-content',\n      'data-target-tab': targetId\n    });\n    tabContent.append(content.el);\n\n    this.tabContentElements.push(tabContent);\n    this.tabContentSection.append(tabContent.el);\n\n    return this;\n  }\n\n  public addSection(caption: string, content: Dom, id: string) {\n    return this.addNavigation(caption, id).addContent(content, id);\n  }\n\n  private findNavigationById(id: string) {\n    return find(this.navigationElements, element => element.getAttribute('id') == id);\n  }\n\n  private findTabContentById(id: string) {\n    return find(this.tabContentElements, tabContentElement => tabContentElement.getAttribute('data-target-tab') == id);\n  }\n\n  private activateTabNavigation(navigationElement: Dom) {\n    this.navigationElements.forEach(element => {\n      element.removeClass('coveo-selected');\n    });\n    navigationElement.addClass('coveo-selected');\n  }\n\n  private activateTabContent(contentElement: Dom) {\n    this.tabContentElements.forEach(element => {\n      element.removeClass('coveo-selected');\n    });\n    contentElement.addClass('coveo-selected');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/RelevanceInspector/RelevanceInspectorTabs.ts","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/string-replace-loader/index.js??ref--0-2!../node_modules/css-loader/index.js??ref--0-3!../node_modules/resolve-url-loader/index.js??ref--0-4!../node_modules/sass-loader/lib/loader.js??ref--0-5!./_RelevanceInspector.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../node_modules/string-replace-loader/index.js??ref--0-2!../node_modules/css-loader/index.js??ref--0-3!../node_modules/resolve-url-loader/index.js??ref--0-4!../node_modules/sass-loader/lib/loader.js??ref--0-5!./_RelevanceInspector.scss\", function() {\n\t\t\tvar newContent = require(\"!!../node_modules/string-replace-loader/index.js??ref--0-2!../node_modules/css-loader/index.js??ref--0-3!../node_modules/resolve-url-loader/index.js??ref--0-4!../node_modules/sass-loader/lib/loader.js??ref--0-5!./_RelevanceInspector.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sass/_RelevanceInspector.scss\n// module id = 346\n// module chunks = 0","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n* @param direction vertical or horizontal\\n* @param position type of positioning to apply (relative/absolute)\\n*/\\n\\n/*\\n* @param $selector css selector on which to apply the icon. Can be '&' if the icon should be applied on the current element;\\n* @param $size size of the icon to use\\n*/\\n\\n@-webkit-keyframes fadeout {\\n  from {\\n    opacity: 1;\\n  }\\n\\n  to {\\n    opacity: 0;\\n  }\\n}\\n\\n@-moz-keyframes fadeout {\\n  from {\\n    opacity: 1;\\n  }\\n\\n  to {\\n    opacity: 0;\\n  }\\n}\\n\\n@-o-keyframes fadeout {\\n  from {\\n    opacity: 1;\\n  }\\n\\n  to {\\n    opacity: 0;\\n  }\\n}\\n\\n@keyframes fadeout {\\n  from {\\n    opacity: 1;\\n  }\\n\\n  to {\\n    opacity: 0;\\n  }\\n}\\n\\n@-webkit-keyframes fadein {\\n  from {\\n    opacity: 0;\\n  }\\n\\n  to {\\n    opacity: 1;\\n  }\\n}\\n\\n@-moz-keyframes fadein {\\n  from {\\n    opacity: 0;\\n  }\\n\\n  to {\\n    opacity: 1;\\n  }\\n}\\n\\n@-o-keyframes fadein {\\n  from {\\n    opacity: 0;\\n  }\\n\\n  to {\\n    opacity: 1;\\n  }\\n}\\n\\n@keyframes fadein {\\n  from {\\n    opacity: 0;\\n  }\\n\\n  to {\\n    opacity: 1;\\n  }\\n}\\n\\n@keyframes slideInLeft {\\n  0% {\\n    -webkit-transform: translateX(-2000px);\\n    -moz-transform: translateX(-2000px);\\n    -ms-transform: translateX(-2000px);\\n    -o-transform: translateX(-2000px);\\n    transform: translateX(-2000px);\\n    opacity: 0;\\n  }\\n\\n  100% {\\n    -webkit-transform: translateX(0);\\n    -moz-transform: translateX(0);\\n    -ms-transform: translateX(0);\\n    -o-transform: translateX(0);\\n    transform: translateX(0);\\n    opacity: 1;\\n  }\\n}\\n\\n@-webkit-keyframes coveo-spin {\\n  from {\\n    -webkit-transform: rotate(0deg);\\n    -moz-transform: rotate(0deg);\\n    -ms-transform: rotate(0deg);\\n    -o-transform: rotate(0deg);\\n    transform: rotate(0deg);\\n  }\\n\\n  to {\\n    -webkit-transform: rotate(360deg);\\n    -moz-transform: rotate(360deg);\\n    -ms-transform: rotate(360deg);\\n    -o-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n@-moz-keyframes coveo-spin {\\n  from {\\n    -webkit-transform: rotate(0deg);\\n    -moz-transform: rotate(0deg);\\n    -ms-transform: rotate(0deg);\\n    -o-transform: rotate(0deg);\\n    transform: rotate(0deg);\\n  }\\n\\n  to {\\n    -webkit-transform: rotate(360deg);\\n    -moz-transform: rotate(360deg);\\n    -ms-transform: rotate(360deg);\\n    -o-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n@-o-keyframes coveo-spin {\\n  from {\\n    -webkit-transform: rotate(0deg);\\n    -moz-transform: rotate(0deg);\\n    -ms-transform: rotate(0deg);\\n    -o-transform: rotate(0deg);\\n    transform: rotate(0deg);\\n  }\\n\\n  to {\\n    -webkit-transform: rotate(360deg);\\n    -moz-transform: rotate(360deg);\\n    -ms-transform: rotate(360deg);\\n    -o-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n@keyframes coveo-spin {\\n  from {\\n    -webkit-transform: rotate(0deg);\\n    -moz-transform: rotate(0deg);\\n    -ms-transform: rotate(0deg);\\n    -o-transform: rotate(0deg);\\n    transform: rotate(0deg);\\n  }\\n\\n  to {\\n    -webkit-transform: rotate(360deg);\\n    -moz-transform: rotate(360deg);\\n    -ms-transform: rotate(360deg);\\n    -o-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n@-webkit-keyframes loadingFade {\\n  0% {\\n    opacity: 0;\\n  }\\n\\n  50% {\\n    opacity: 0.8;\\n  }\\n\\n  100% {\\n    opacity: 0;\\n  }\\n}\\n\\n@-moz-keyframes loadingFade {\\n  0% {\\n    opacity: 0;\\n  }\\n\\n  50% {\\n    opacity: 0.8;\\n  }\\n\\n  100% {\\n    opacity: 0;\\n  }\\n}\\n\\n@-o-keyframes loadingFade {\\n  0% {\\n    opacity: 0;\\n  }\\n\\n  50% {\\n    opacity: 0.8;\\n  }\\n\\n  100% {\\n    opacity: 0;\\n  }\\n}\\n\\n@keyframes loadingFade {\\n  0% {\\n    opacity: 0;\\n  }\\n\\n  50% {\\n    opacity: 0.8;\\n  }\\n\\n  100% {\\n    opacity: 0;\\n  }\\n}\\n\\n.coveo-relevance-inspector {\\n  text-align: center;\\n  padding: 10px;\\n  line-height: 20px;\\n  height: 40px;\\n  top: 0;\\n  z-index: 1000;\\n}\\n\\n.coveo-relevance-inspector.coveo-hidden {\\n  display: none;\\n}\\n\\n.relevance-inspector-modal .coveo-logo {\\n  height: 64px;\\n  width: 178px;\\n}\\n\\n.ag-theme-fresh .ag-cell {\\n  overflow: auto;\\n  white-space: normal;\\n  word-break: break-word;\\n}\\n\\n.ag-theme-fresh .ag-font-style {\\n  user-select: auto;\\n}\\n\\n.coveo-relevance-inspector-tab-navigation-section {\\n  margin-bottom: 20px;\\n}\\n\\n.coveo-relevance-inspector-tab-content {\\n  display: none;\\n}\\n\\n.coveo-relevance-inspector-tab-content.coveo-selected {\\n  display: block;\\n  -webkit-animation: slideInLeft 0.3s ease-in;\\n  -moz-animation: slideInLeft 0.3s ease-in;\\n  animation: slideInLeft 0.3s ease-in;\\n}\\n\\n.coveo-relevance-inspector-tab {\\n  display: -webkit-box;\\n  display: -moz-box;\\n  display: -webkit-flex;\\n  display: -moz-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n  -moz-box-align: center;\\n  box-align: center;\\n  -webkit-align-items: center;\\n  -moz-align-items: center;\\n  -ms-align-items: center;\\n  -o-align-items: center;\\n  align-items: center;\\n  -ms-flex-align: center;\\n  font-size: 12px;\\n  font-weight: bold;\\n  padding: 0 5px 10px;\\n  border-bottom: 1px solid #bcc3ca;\\n  text-transform: uppercase;\\n  border-bottom: 2px solid #bcc3ca;\\n  display: inline-block;\\n  margin-right: 10px;\\n}\\n\\n.coveo-relevance-inspector-tab.coveo-selected,\\n.coveo-relevance-inspector-tab.coveo-selected:hover {\\n  border-bottom: 2px solid #263e55;\\n}\\n\\n.coveo-relevance-inspector-tab:hover {\\n  color: #263e55;\\n}\\n\\n.coveo-relevance-inspector-highlight {\\n  display: inline-block;\\n  font-weight: bold;\\n}\\n\\n.coveo-relevance-inspector-result-thumbnail {\\n  min-width: 500px;\\n  white-space: normal;\\n}\\n\\n.coveo-relevance-inspector-dt {\\n  font-weight: bold;\\n}\\n\\n.coveo-relevance-inspector-dt,\\n.coveo-relevance-inspector-dd {\\n  font-size: 14px;\\n  line-height: 14px;\\n  padding: 2px 0 4px;\\n}\\n\\n.coveo-relevance-inspector-metadata-name,\\n.coveo-relevance-inspector-metadata-value {\\n  background-color: #e9ecef;\\n  display: block;\\n  padding: 10px;\\n  line-height: 1.5;\\n  border: 1px solid #ced4da;\\n  border-radius: 2px;\\n  position: relative;\\n  flex: 1 1 auto;\\n  margin-bottom: 0;\\n}\\n\\n.coveo-relevance-inspector-metadata-name {\\n  max-width: 25%;\\n  min-width: 25%;\\n}\\n\\n.coveo-relevance-inspector-metadata-value {\\n  width: 75%;\\n  overflow: auto;\\n}\\n\\n.coveo-relevance-inspector-input-group {\\n  position: relative;\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-items: stretch;\\n  width: 100%;\\n}\\n\\n.coveo-relevance-inspector-tab-content .coveo-input {\\n  margin: 40px 0 10px;\\n}\\n\\n.coveo-relevance-inspector-available-fields-popup {\\n  background: white;\\n  border: 1px solid #bcc3ca;\\n  border-radius: 2px;\\n  padding: 10px 5px 10px 20px;\\n  width: 200px;\\n  overflow: hidden;\\n  list-style-type: none;\\n}\\n\\n.coveo-relevance-inspector-available-fields-popup-value {\\n  padding: 0 0 10px;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  overflow: hidden;\\n}\\n\\n.coveo-available-fields-table-button {\\n  overflow: hidden;\\n  display: inline-block;\\n  position: relative;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n  -moz-transform: translateY(-50%);\\n  -ms-transform: translateY(-50%);\\n  -o-transform: translateY(-50%);\\n  transform: translateY(-50%);\\n}\\n\\n.coveo-relevance-inspector-effective-query-collapsible {\\n  display: none;\\n}\\n\\n.coveo-relevance-inspector-effective-query-collapsible.coveo-active {\\n  display: inherit;\\n}\\n\\n.coveo-relevance-inspector-table {\\n  width: 100%;\\n  text-align: left;\\n  border: none;\\n  border-spacing: 0;\\n}\\n\\n.coveo-relevance-inspector-table tr {\\n  height: 37px;\\n  font-size: 15px;\\n  line-height: 18px;\\n}\\n\\n.coveo-relevance-inspector-table tr:first-child {\\n  padding-left: 10px;\\n}\\n\\n.coveo-relevance-inspector-table tr:hover td {\\n  background-color: #e6ecf0;\\n}\\n\\n.coveo-relevance-inspector-table td {\\n  position: relative;\\n  text-align: left;\\n  vertical-align: middle;\\n  padding: 9px 15px;\\n  margin-left: 15px;\\n  text-align: left;\\n  border-bottom: 1px solid #bcc3ca;\\n}\\n\\n.coveo-relevance-inspector-table td:first-child {\\n  border-left: 5px solid transparent;\\n}\\n\\n.coveo-relevance-inspector-inline-ranking {\\n  border: 1px solid #bcc3ca;\\n  border-radius: 2px;\\n  display: -webkit-box;\\n  display: -moz-box;\\n  display: -webkit-flex;\\n  display: -moz-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-lines: multiple;\\n  -moz-box-lines: multiple;\\n  box-lines: multiple;\\n  -webkit-flex-wrap: wrap;\\n  -moz-flex-wrap: wrap;\\n  -ms-flex-wrap: wrap;\\n  flex-wrap: wrap;\\n  padding: 10px;\\n  margin-bottom: 10px;\\n}\\n\\n.coveo-relevance-inspector-inline-ranking-section {\\n  margin: 10px;\\n}\\n\\n.coveo-relevance-inspector-inline-ranking-terms {\\n  display: none;\\n  padding: 10px;\\n  width: 100%;\\n}\\n\\n.coveo-relevance-inspector-inline-ranking-terms.coveo-active {\\n  display: block;\\n  -webkit-animation: fadein 0.5s;\\n  -moz-animation: fadein 0.5s;\\n  animation: fadein 0.5s;\\n}\\n\\n.coveo-relevance-inspector-inline-ranking-terms h2 {\\n  border-bottom: 1px solid #bcc3ca;\\n}\\n\\n.coveo-relevance-inspector-inline-ranking-terms dl {\\n  display: -webkit-box;\\n  display: -moz-box;\\n  display: -webkit-flex;\\n  display: -moz-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-lines: multiple;\\n  -moz-box-lines: multiple;\\n  box-lines: multiple;\\n  -webkit-flex-wrap: wrap;\\n  -moz-flex-wrap: wrap;\\n  -ms-flex-wrap: wrap;\\n  flex-wrap: wrap;\\n  -webkit-box-align: center;\\n  -moz-box-align: center;\\n  box-align: center;\\n  -webkit-align-items: center;\\n  -moz-align-items: center;\\n  -ms-align-items: center;\\n  -o-align-items: center;\\n  align-items: center;\\n  -ms-flex-align: center;\\n}\\n\\n.coveo-relevance-inspector-inline-ranking-terms dt {\\n  margin: 10px 20px;\\n}\\n\\n.coveo-relevance-inspector-inline-ranking-terms dd {\\n  margin-left: 0;\\n}\\n\\n.coveo-relevance-inspector-inline-ranking-button {\\n  height: 35px;\\n  margin: 5px 0;\\n}\\n\\n.relevance-inspector-list-output {\\n  padding-left: 5px;\\n  margin-top: 0;\\n}\\n\\n.coveo-relevance-inspector-inline-ranking-qre-expression {\\n  font-weight: bold;\\n  word-break: break-all;\\n}\\n\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/string-replace-loader??ref--0-2!./node_modules/css-loader??ref--0-3!./node_modules/resolve-url-loader??ref--0-4!./node_modules/sass-loader/lib/loader.js??ref--0-5!./sass/_RelevanceInspector.scss\n// module id = 347\n// module chunks = 0","import {\n  IExecutionReport,\n  EXECUTION_REPORT_SECTION,\n  IExecutionReportSection,\n  IExecutionReportSectionBuilder,\n  ExecutionReport\n} from './ExecutionReport';\nimport { TableBuilder } from './TableBuilder';\nimport { find, map } from 'underscore';\nimport { ExecutionReportGenericSection } from './ExecutionReportGenericSection';\nimport { GenericValueOutput, GenericValueOutputType } from './GenericValueOutput';\nimport agGridModule = require('ag-grid/main');\nimport { Dom } from '../../utils/Dom';\n\nexport interface IUserIDExecutionReport {\n  name: string;\n  kind: string;\n  provider: string;\n  info: Record<string, string>;\n}\n\nexport interface IExecutionReportAuthenticationSection extends IExecutionReportSection {\n  name: 'PerformAuthentication';\n  configured: {\n    primary: string;\n    secondary: string[];\n    mandatory: string[];\n  };\n  result: {\n    userIds: IUserIDExecutionReport[];\n    queryRestrictions: Record<string, string>;\n    roles: string[];\n    userGroups: string[];\n  };\n}\n\nexport class ExecutionReportAuthenticationSection implements IExecutionReportSectionBuilder {\n  public async build(executionReport: IExecutionReport): Promise<{ container: Dom; gridOptions: agGridModule.GridOptions }> {\n    const { container, agGridElement } = ExecutionReport.standardSectionHeader('Authentication');\n    let gridOptions: agGridModule.GridOptions;\n    const authenticationSection = find(executionReport.children, child => child.name == EXECUTION_REPORT_SECTION.PERFORM_AUTHENTICATION) as\n      | IExecutionReportAuthenticationSection\n      | undefined;\n\n    if (authenticationSection) {\n      const dataSource = [\n        {\n          ...new ExecutionReportGenericSection().build(authenticationSection),\n          ...this.configurationSection(authenticationSection),\n          ...this.pipelineOuputSection(authenticationSection)\n        }\n      ];\n\n      const tableBuilder = await new TableBuilder().build(dataSource, agGridElement, {\n        rowHeight: 150\n      });\n      gridOptions = tableBuilder.gridOptions;\n    }\n\n    return { container, gridOptions };\n  }\n\n  private configurationSection(authenticationSection: IExecutionReportAuthenticationSection) {\n    return {\n      Configured: {\n        children: [\n          {\n            Primary: this.genericOutput(authenticationSection.configured.primary),\n            Secondary: this.genericOutput(authenticationSection.configured.secondary),\n            Mandatory: this.genericOutput(authenticationSection.configured.mandatory)\n          }\n        ]\n      }\n    };\n  }\n\n  private pipelineOuputSection(authenticationSection: IExecutionReportAuthenticationSection) {\n    return {\n      'Pipeline Output': {\n        children: [\n          {\n            'User ids': {\n              children: this.usersIds(authenticationSection.result.userIds)\n            },\n            'Query restriction': {\n              children: this.queryRestrictions(authenticationSection.result.queryRestrictions)\n            },\n            Roles: { ...this.genericOutput(authenticationSection.result.roles), width: 200 },\n            'User groups': this.genericOutput(authenticationSection.result.userGroups)\n          }\n        ]\n      }\n    };\n  }\n\n  private usersIds(userIds: IUserIDExecutionReport[]) {\n    return map(userIds, userId => {\n      return {\n        [userId.name]: {\n          children: [\n            {\n              Kind: this.genericOutput(userId.kind),\n              Provider: { ...this.genericOutput(userId.provider), width: 150 },\n              Info: { content: userId.info }\n            }\n          ]\n        }\n      };\n    });\n  }\n\n  private genericOutput(section: GenericValueOutputType) {\n    return new GenericValueOutput().output(section);\n  }\n\n  private queryRestrictions(queryRestrictions: Record<string, string>) {\n    return map(queryRestrictions, (value, key) => {\n      return {\n        [key]: this.genericOutput(value)\n      };\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/RelevanceInspector/ExecutionReportAuthenticationSection.ts","import {\n  IExecutionReportSection,\n  IExecutionReport,\n  EXECUTION_REPORT_SECTION,\n  IExecutionReportSectionBuilder,\n  ExecutionReport\n} from './ExecutionReport';\nimport { find } from 'underscore';\nimport { ExecutionReportGenericSection } from './ExecutionReportGenericSection';\nimport { TableBuilder } from './TableBuilder';\nimport { GenericValueOutput } from './GenericValueOutput';\nimport agGridModule = require('ag-grid/main');\nimport { Dom } from '../../utils/Dom';\n\nexport interface IExecutionReportResolvePipelineSection extends IExecutionReportSection {\n  result: {\n    pipeline: string;\n    splitTest: {\n      name: string;\n      ratio: number;\n    };\n  };\n}\n\nexport class ExecutionReportResolvedPipelineSection implements IExecutionReportSectionBuilder {\n  public async build(executionReport: IExecutionReport): Promise<{ container: Dom; gridOptions: agGridModule.GridOptions }> {\n    const { container, agGridElement } = ExecutionReport.standardSectionHeader('Pipeline');\n    let gridOptions: agGridModule.GridOptions;\n\n    const resolvedPipelineSection = find(executionReport.children, child => child.name == EXECUTION_REPORT_SECTION.RESOLVE_PIPELINE) as\n      | IExecutionReportResolvePipelineSection\n      | undefined;\n\n    if (resolvedPipelineSection) {\n      const dataSource = [\n        {\n          ...new ExecutionReportGenericSection().build(resolvedPipelineSection),\n          ...{ Pipeline: new GenericValueOutput().output(resolvedPipelineSection.result.pipeline) },\n          ...{ 'Split Test': new GenericValueOutput().output(resolvedPipelineSection.result.splitTest) }\n        }\n      ];\n\n      const tableBuilder = await new TableBuilder().build(dataSource, agGridElement);\n      gridOptions = tableBuilder.gridOptions;\n    }\n\n    return { container, gridOptions };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/RelevanceInspector/ExecutionReportResolvedPipelineSection.ts","import {\n  IExecutionReportSection,\n  IExecutionReportSectionBuilder,\n  IExecutionReport,\n  EXECUTION_REPORT_SECTION,\n  ExecutionReport\n} from './ExecutionReport';\nimport { find } from 'underscore';\nimport { ExecutionReportGenericSection } from './ExecutionReportGenericSection';\nimport { TableBuilder } from './TableBuilder';\nimport { GenericValueOutput } from './GenericValueOutput';\nimport agGridModule = require('ag-grid/main');\nimport { Dom } from '../../utils/Dom';\n\nexport interface IExecutionReportQueryOverrideSection extends IExecutionReportSection {\n  applied: string[];\n}\n\nexport class ExecutionReportQueryOverrideSection implements IExecutionReportSectionBuilder {\n  public async build(executionReport: IExecutionReport): Promise<{ container: Dom; gridOptions: agGridModule.GridOptions }> {\n    const { container, agGridElement } = ExecutionReport.standardSectionHeader('Query Params Override');\n    let gridOptions: agGridModule.GridOptions;\n\n    const queryOverrideSection = find(executionReport.children, child => child.name == EXECUTION_REPORT_SECTION.QUERY_PARAM_OVERRIDE) as\n      | IExecutionReportQueryOverrideSection\n      | undefined;\n\n    if (queryOverrideSection) {\n      const dataSource = [\n        {\n          ...new ExecutionReportGenericSection().build(queryOverrideSection),\n          Applied: new GenericValueOutput().output(queryOverrideSection.applied)\n        }\n      ];\n\n      const tableBuilder = await new TableBuilder().build(dataSource, agGridElement);\n      gridOptions = tableBuilder.gridOptions;\n    }\n\n    return { container, gridOptions };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/RelevanceInspector/ExecutionReportQueryOverrideSection.ts","import { IExecutionReport, IExecutionReportSectionBuilder, EXECUTION_REPORT_SECTION, ExecutionReport } from './ExecutionReport';\nimport { findWhere, each, contains } from 'underscore';\nimport { GenericValueOutput } from './GenericValueOutput';\nimport { $$, Dom } from '../../utils/Dom';\n\nexport interface IExecutionReportEffectiveIndexQuerySection {\n  result: {\n    in: Record<string, any>;\n  };\n}\n\nconst collapsibleSectionsInReport: string[] = ['Facets', 'RankingOverrides', 'RankingExpressions'];\n\nexport class ExecutionReportEffectiveIndexQuerySection implements IExecutionReportSectionBuilder {\n  public async build(executionReport: IExecutionReport): Promise<{ container: Dom }> {\n    const { container } = ExecutionReport.standardSectionHeader('Query sent to index');\n\n    const table = $$('table', {\n      className: 'coveo-relevance-inspector-table'\n    });\n\n    container.append(table.el);\n\n    const indexQuerySection = findWhere(executionReport.children, { description: EXECUTION_REPORT_SECTION.INDEX_QUERY });\n\n    if (indexQuerySection) {\n      each(indexQuerySection.result.in, (paramValue: string, paramKey: string) => {\n        const row = $$('tr');\n        table.append(row.el);\n\n        const id = `executionReportIndexExecution${paramKey}`;\n\n        if (contains(collapsibleSectionsInReport, paramKey) && paramValue) {\n          const btn = $$(\n            'button',\n            {\n              className: 'coveo-button',\n              type: 'button'\n            },\n            paramKey\n          );\n\n          const tdTarget = $$(\n            'td',\n            {\n              id,\n              className: 'coveo-relevance-inspector-effective-query-collapsible'\n            },\n            new GenericValueOutput().output(paramValue).content\n          );\n\n          btn.on('click', () => {\n            tdTarget.toggleClass('coveo-active');\n          });\n\n          row.append($$('td', undefined, btn).el);\n          row.append(tdTarget.el);\n        } else {\n          row.append($$('td', undefined, paramKey).el);\n          row.append($$('td', undefined, new GenericValueOutput().output(paramValue).content).el);\n        }\n      });\n    }\n    return { container };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/RelevanceInspector/ExecutionReportEffectiveIndexQuerySection.ts","import { ExecutionReport } from './ExecutionReport';\nimport { TableBuilder, ITableDataSource } from './TableBuilder';\nimport { IQueryResult } from '../../rest/QueryResult';\nimport { IRankingExpression } from '../../rest/RankingExpression';\nimport { map, find } from 'underscore';\nimport { GenericValueOutput } from './GenericValueOutput';\nimport { Dom } from '../../utils/Dom';\nimport { IComponentBindings } from '../Base/ComponentBindings';\nimport agGridModule = require('ag-grid/main');\nimport { QueryBuilder } from '../Base/QueryBuilder';\n\nexport class ExecutionReportRankingModifiers {\n  public async build(\n    results: IQueryResult[],\n    rankingExpressions: IRankingExpression[],\n    bindings: IComponentBindings\n  ): Promise<{ container: Dom; gridOptions: agGridModule.GridOptions }> {\n    const { container, agGridElement } = ExecutionReport.standardSectionHeader('Ranking Modifiers & Machine Learning Boosts');\n\n    const dataSourcePromises = map(rankingExpressions, async rankingExpression => {\n      const isAutomaticBoostRegex = /^(@permanentid|@urihash)=\"?([a-zA-Z0-9]+)\"?$/;\n\n      let thumbnailPreview: Record<string, ITableDataSource> = TableBuilder.thumbnailCell(null, null);\n      let returnedByIndexForCurrentQuery = '-- NULL --';\n      let result: IQueryResult = null;\n\n      const isAutomaticBoost = rankingExpression.expression.match(isAutomaticBoostRegex);\n      if (isAutomaticBoost) {\n        const permanentIDUsedInAutomaticBoost = isAutomaticBoost[2];\n        const extracted = await this.extractDocumentInfoFromBoost(results, permanentIDUsedInAutomaticBoost, rankingExpression, bindings);\n        thumbnailPreview = TableBuilder.thumbnailCell(extracted.result, bindings);\n        result = extracted.result;\n        returnedByIndexForCurrentQuery = extracted.returnedByIndexForCurrentQuery.toString();\n      }\n\n      return {\n        ...thumbnailPreview,\n        ReturnedByIndexForCurrentQuery: new GenericValueOutput().output(returnedByIndexForCurrentQuery),\n        IsRecommendation: new GenericValueOutput().output(result ? result.isRecommendation : '-- NULL --'),\n        Expression: { ...new GenericValueOutput().output(rankingExpression.expression), width: 150 },\n        Modifier: new GenericValueOutput().output(rankingExpression.modifier)\n      };\n    });\n\n    const dataSource = await Promise.all(dataSourcePromises);\n\n    const { gridOptions } = await new TableBuilder().build(dataSource, agGridElement, {\n      rowHeight: 150\n    });\n\n    return {\n      container,\n      gridOptions\n    };\n  }\n\n  private async extractDocumentInfoFromBoost(\n    results: IQueryResult[],\n    permanentID: string,\n    rankingExpression: IRankingExpression,\n    bindings: IComponentBindings\n  ) {\n    let matchingResult = {\n      result: null,\n      returnedByIndexForCurrentQuery: false\n    };\n\n    const resultInResultSet = find(results, result => {\n      return result.raw.permanentid == permanentID || result.raw.urihash == permanentID;\n    });\n\n    if (resultInResultSet) {\n      matchingResult = {\n        result: resultInResultSet,\n        returnedByIndexForCurrentQuery: true\n      };\n      return matchingResult;\n    }\n\n    const queryBuilder = new QueryBuilder();\n    queryBuilder.advancedExpression.add(rankingExpression.expression);\n    const resultsFromIndex = await bindings.queryController.getEndpoint().search(queryBuilder.build());\n    matchingResult = {\n      result: resultsFromIndex.results[0],\n      returnedByIndexForCurrentQuery: false\n    };\n\n    return matchingResult;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/RelevanceInspector/ExecutionReportRankingModifiers.ts","import agGridModule = require('ag-grid/main');\nimport {\n  IExecutionReportSectionBuilder,\n  IExecutionReport,\n  ExecutionReport,\n  EXECUTION_REPORT_SECTION,\n  IExecutionReportSection\n} from './ExecutionReport';\nimport { find, chain, each } from 'underscore';\nimport { TableBuilder, ITableDataSource, GenericHtmlRenderer } from './TableBuilder';\nimport { Dom, $$ } from '../../utils/Dom';\nimport { Utils } from '../../utils/Utils';\nimport { StreamHighlightUtils } from '../../utils/StreamHighlightUtils';\nimport { ExecutionReportSimpleSection } from './ExecutionReportSimpleSection';\n\nexport type IRefinedQueriesFromTopClicks = { q: string; score: number };\n\nexport interface IExecutionReportITDSection extends IExecutionReportSection {\n  refinedQueries: IRefinedQueriesFromTopClicks[];\n}\n\nexport interface IExecutionReportMLTopClicksInput extends IExecutionReportSection {\n  largeQueryKeywords: string[];\n}\n\nexport class ExecutionReportITDSection implements IExecutionReportSectionBuilder {\n  public async build(executionReport: IExecutionReport): Promise<{ container: Dom; gridOptions: agGridModule.GridOptions }> {\n    const preprocessQuerySection = find(executionReport.children, child => child.name == EXECUTION_REPORT_SECTION.PREPROCESS_QUERY);\n    if (!preprocessQuerySection) {\n      return this.buildFallbackEmptyTable(executionReport);\n    }\n\n    const originalLongQuery = preprocessQuerySection.result.in.lq;\n    const topClicksSection = find(preprocessQuerySection.children, child => child.name == EXECUTION_REPORT_SECTION.TOP_CLICKS) as\n      | IExecutionReportITDSection\n      | undefined;\n\n    if (!topClicksSection || !originalLongQuery) {\n      return this.buildFallbackEmptyTable(executionReport);\n    }\n\n    const { container, agGridElement } = ExecutionReport.standardSectionHeader('Large Query Intelligent Term Detection (ITD)');\n    let gridOptions: agGridModule.GridOptions;\n\n    const dataSource = [\n      {\n        'Original large query': this.buildOriginalLongQueryCell(originalLongQuery, topClicksSection.refinedQueries),\n        'Keyword(s) extracted': this.buildRefinedQueryCell(executionReport, topClicksSection.refinedQueries, preprocessQuerySection)\n      }\n    ];\n\n    const tableBuilder = await new TableBuilder().build(dataSource, agGridElement, {\n      rowHeight: 300\n    });\n    gridOptions = tableBuilder.gridOptions;\n\n    return { container, gridOptions };\n  }\n\n  private doHighlights(originalLongQuery: string, refinedQueries: IRefinedQueriesFromTopClicks[]) {\n    const termsToHighlight = {};\n    each(refinedQueries, refined => {\n      termsToHighlight[refined.q] = [];\n    });\n    return StreamHighlightUtils.highlightStreamText(originalLongQuery, termsToHighlight, {});\n  }\n\n  private buildOriginalLongQueryCell(originalLongQuery: string, refinedQueries: IRefinedQueriesFromTopClicks[]): ITableDataSource {\n    return {\n      content: this.doHighlights(originalLongQuery, refinedQueries),\n      cellRenderer: GenericHtmlRenderer\n    };\n  }\n\n  private buildRefinedQueryCell(\n    executionReport: IExecutionReport,\n    refinedQueries: IRefinedQueriesFromTopClicks[],\n    preprocessSection: IExecutionReportSection\n  ): ITableDataSource {\n    if (Utils.isNonEmptyArray(refinedQueries)) {\n      return this.buildRefinedQueryByMLCell(refinedQueries);\n    }\n\n    const fallbackIndexPartialMatch = find(preprocessSection.children, child => child.name == EXECUTION_REPORT_SECTION.PARTIAL_MATCH);\n    const isUsingPartialMatch = fallbackIndexPartialMatch ? fallbackIndexPartialMatch.result.out.match(/^PartialMatch/) : false;\n    if (isUsingPartialMatch) {\n      return this.buildRefinedQueryByPartialMatchCell(fallbackIndexPartialMatch);\n    }\n\n    return this.buildRefinedQueryNoExtraction();\n  }\n\n  private buildRefinedQueryByMLCell(refinedQueries: IRefinedQueriesFromTopClicks[]): ITableDataSource {\n    const topLevelContainer = $$('div', undefined, $$('h2', undefined, 'Extraction and scoring performed using Coveo Machine Learning:'));\n\n    const keywordsList = $$('ul');\n    topLevelContainer.append(keywordsList.el);\n\n    chain(refinedQueries)\n      .map(refinedQuery => {\n        const content = this.doHighlights(`Keyword: ${refinedQuery.q} ==> Score: ${refinedQuery.score}`, [refinedQuery]);\n        const container = $$('li', null, content);\n        return container;\n      })\n      .each(refinedQueryContainer => {\n        keywordsList.append(refinedQueryContainer.el);\n      });\n\n    return {\n      content: topLevelContainer,\n      cellRenderer: GenericHtmlRenderer\n    };\n  }\n\n  private buildRefinedQueryByPartialMatchCell(partialMatch: IExecutionReportSection) {\n    const topLevelContainer = $$('div');\n    topLevelContainer.append($$('h2', undefined, 'Coveo Machine learning was unable to suggest any refined keywords').el);\n    topLevelContainer.append($$('h4', undefined, 'Fallback on Coveo Index partial match feature').el);\n    const content = $$('code', undefined, partialMatch.result.out);\n    topLevelContainer.append(content.el);\n    return {\n      content: topLevelContainer,\n      cellRenderer: GenericHtmlRenderer\n    };\n  }\n\n  private buildRefinedQueryNoExtraction(): ITableDataSource {\n    const topLevelContainer = $$('div');\n    topLevelContainer.append($$('h2', undefined, 'No keywords were extracted').el);\n    topLevelContainer.append(\n      $$('h4', undefined, 'The query is probably too small, or Coveo is lacking usage analytics data to return any meaningful suggestions.')\n        .el\n    );\n    return {\n      content: topLevelContainer,\n      cellRenderer: GenericHtmlRenderer\n    };\n  }\n\n  private buildFallbackEmptyTable(executionReport: IExecutionReport) {\n    return new ExecutionReportSimpleSection(\n      EXECUTION_REPORT_SECTION.NONE,\n      EXECUTION_REPORT_SECTION.NONE,\n      'Large Query Intelligent Term Detection (ITD)'\n    ).build(executionReport);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/RelevanceInspector/ExecutionReportITDSection.ts","import { TableBuilder, ITableDataSource } from './TableBuilder';\nimport { map, each, where, reject, filter } from 'underscore';\nimport agGridModule = require('ag-grid/main');\nimport { GenericValueOutput } from './GenericValueOutput';\nimport { IComponentBindings } from '../Base/ComponentBindings';\nimport { $$, Dom, Utils, PopupUtils } from '../../UtilsModules';\nimport { IFieldDescription } from '../../rest/FieldDescription';\nimport { QueryBuilder } from '../Base/QueryBuilder';\nimport { IIndexFieldValue } from '../../rest/FieldValue';\nimport { PopupHorizontalAlignment, PopupVerticalAlignment } from '../../utils/PopupUtils';\nimport { IRelevanceInspectorTab } from './RelevanceInspector';\n\nexport class AvailableFieldsTable implements IRelevanceInspectorTab {\n  public gridOptions: agGridModule.GridOptions;\n\n  public constructor(public bindings: IComponentBindings) {}\n\n  public async build() {\n    const container = $$('div');\n\n    const agGridElement = $$('div', {\n      className: 'ag-theme-fresh'\n    });\n    container.append(agGridElement.el);\n\n    const allFieldsDescription = this.bindings.queryController ? await this.bindings.queryController.getEndpoint().listFields() : null;\n\n    if (allFieldsDescription) {\n      const dataSource: Record<string, ITableDataSource>[] = map(allFieldsDescription, description => {\n        return {\n          Name: new GenericValueOutput().output(description.name),\n          Description: { ...new GenericValueOutput().output(description.description), width: 150 },\n          'Default Value': new GenericValueOutput().output(description.defaultValue),\n          'Field Type': new GenericValueOutput().output(description.fieldType),\n          'Field Source Type': new GenericValueOutput().output(description.fieldSourceType),\n          'Include In Query': new GenericValueOutput().output(description.includeInQuery),\n          'Include In Results': new GenericValueOutput().output(description.includeInResults),\n          'Group By Field': new GenericValueOutput().output(description.groupByField),\n          'Split Group By Field': new GenericValueOutput().output(description.splitGroupByField),\n          'Sort By Field': new GenericValueOutput().output(description.sortByField),\n          'Sample Of Available Values': {\n            content: {\n              content: {\n                description,\n                bindings: this.bindings,\n                container\n              }\n            },\n            width: 200,\n            suppressSorting: true,\n            suppressFilter: true,\n            cellRenderer: AvailableFieldsSampleValue\n          }\n        };\n      });\n\n      const { gridOptions } = await new TableBuilder().build(dataSource, agGridElement, {\n        enableFilter: true,\n        rowModelType: 'infinite',\n        pagination: true,\n        paginationPageSize: 25,\n        rowHeight: 100,\n        enableServerSideFilter: true,\n        enableServerSideSorting: true,\n        datasource: new AvailableFieldsDatasource(dataSource)\n      });\n\n      this.gridOptions = gridOptions;\n    }\n\n    return container;\n  }\n}\n\nexport class AvailableFieldsSampleValue implements agGridModule.ICellRendererComp {\n  private description: IFieldDescription | undefined;\n  private bindings: IComponentBindings | undefined;\n  private container: Dom | undefined;\n\n  public init(params: any) {\n    if (params.value && params.value.content) {\n      this.description = params.value.content.description;\n      this.bindings = params.value.content.bindings;\n      this.container = params.value.content.container;\n    }\n  }\n\n  public getGui() {\n    const btn = $$(\n      'button',\n      {\n        className: 'coveo-button coveo-available-fields-table-button',\n        type: 'button'\n      },\n      'Hover For Sample Values'\n    );\n\n    let popperElement: Dom | undefined;\n    let userHoveringButtonWithHisMouse = false;\n\n    btn.on('mouseover', async () => {\n      userHoveringButtonWithHisMouse = true;\n      if (this.description && this.container && userHoveringButtonWithHisMouse) {\n        const values = await this.getFieldsValues(this.description);\n        if (userHoveringButtonWithHisMouse) {\n          popperElement = this.renderFieldValues(values);\n          this.container.append(popperElement.el);\n          PopupUtils.positionPopup(popperElement.el, btn.el, document.body, {\n            horizontal: PopupHorizontalAlignment.LEFT,\n            vertical: PopupVerticalAlignment.MIDDLE\n          });\n        }\n        userHoveringButtonWithHisMouse = false;\n      }\n    });\n\n    btn.on('mouseout', () => {\n      if (popperElement) {\n        popperElement.remove();\n      }\n      userHoveringButtonWithHisMouse = false;\n    });\n\n    return btn.el;\n  }\n\n  private async getFieldsValues(fieldDesciption: IFieldDescription) {\n    if (!this.bindings || !this.description || !this.bindings.queryController || !this.container) {\n      return [];\n    }\n\n    if (fieldDesciption.groupByField) {\n      return await this.bindings.queryController.getEndpoint().listFieldValues({\n        field: this.description.name\n      });\n    } else {\n      const queryBuilder = new QueryBuilder();\n      queryBuilder.advancedExpression.add(fieldDesciption.name);\n      const queryResults = this.bindings ? await this.bindings.queryController.getEndpoint().search(queryBuilder.build()) : null;\n      if (queryResults) {\n        return map(queryResults.results, result => {\n          return { value: Utils.getFieldValue(result, fieldDesciption.name) } as IIndexFieldValue;\n        });\n      } else {\n        return [];\n      }\n    }\n  }\n\n  private renderFieldValues(fieldValues: IIndexFieldValue[]) {\n    const list = $$('ul', { className: 'coveo-relevance-inspector-available-fields-popup' });\n    list.el.style.background = 'white';\n    if (fieldValues.length == 0) {\n      list.append($$('li', undefined, 'No Values Available ...').el);\n    } else {\n      fieldValues.forEach(fieldValue => {\n        const listItem = $$(\n          'li',\n          {\n            className: 'coveo-relevance-inspector-available-fields-popup-value'\n          },\n          new GenericValueOutput().output(fieldValue.value).content\n        );\n\n        list.append(listItem.el);\n      });\n    }\n\n    return list;\n  }\n\n  public refresh() {\n    return true;\n  }\n}\n\ninterface IFilterModel {\n  type: 'equals' | 'notEqual' | 'startsWith' | 'endsWith' | 'contains' | 'notContains';\n  filter: string;\n}\n\ninterface ISortModel {\n  colId: string;\n  sort: 'asc' | 'desc';\n}\n\nexport class AvailableFieldsDatasource implements agGridModule.IDatasource {\n  private rowsData: any[] = [];\n  constructor(public dataSource: Record<string, ITableDataSource>[]) {\n    this.rowsData = map(this.dataSource, source => {\n      const merged: any = {};\n\n      const extractContent = (value: ITableDataSource & agGridModule.ColGroupDef, key: string) => {\n        if (value.content != null) {\n          merged[key] = value.content;\n        } else if (value.children) {\n          each(value.children, (child: any) => {\n            each(child, extractContent);\n          });\n        }\n      };\n\n      each(source, extractContent as any);\n      return merged;\n    });\n  }\n\n  public getRows(params: agGridModule.IGetRowsParams) {\n    const filtered = this.filter(this.rowsData, params.filterModel);\n    const filteredAndSorted = this.sort(filtered, params.sortModel);\n\n    params.successCallback(filteredAndSorted.slice(params.startRow, params.endRow), filteredAndSorted.length);\n  }\n\n  private filter(rows: any[], filterModel: Record<string, IFilterModel>) {\n    each(filterModel, (value, key) => {\n      switch (value.type) {\n        case 'equals':\n          rows = where(rows, { [key]: value.filter });\n          break;\n\n        case 'notEqual':\n          rows = reject(rows, possibleReturn => {\n            return possibleReturn[key] == value.filter;\n          });\n          break;\n\n        case 'startsWith':\n          rows = filter(rows, possibleReturn => {\n            return possibleReturn[key].toLowerCase().indexOf(value.filter) == 0;\n          });\n          break;\n\n        case 'endsWith':\n          rows = filter(rows, possibleReturn => {\n            return possibleReturn[key].toLowerCase().indexOf(value.filter) == possibleReturn[key].length - value.filter.length;\n          });\n          break;\n\n        case 'contains':\n          rows = filter(rows, possibleReturn => {\n            return possibleReturn[key].toLowerCase().indexOf(value.filter) != -1;\n          });\n          break;\n\n        case 'notContains':\n          rows = filter(rows, possibleReturn => {\n            return possibleReturn[key].toLowerCase().indexOf(value.filter) == -1;\n          });\n          break;\n      }\n    });\n\n    return rows;\n  }\n\n  private sort(rows: any[], sortModels: ISortModel[]) {\n    if (sortModels && sortModels[0]) {\n      const sortModel = sortModels[0];\n      return rows.sort((first, second) => {\n        const firstValue = first[sortModel.colId];\n        const secondValue = second[sortModel.colId];\n\n        const ascendingOrDescendingMultiplier = sortModel.sort == 'asc' ? 1 : -1;\n\n        if (Utils.isNullOrEmptyString(firstValue) && Utils.isNullOrEmptyString(secondValue)) {\n          return 0;\n        }\n\n        if (Utils.isNullOrEmptyString(firstValue)) {\n          return -1 * ascendingOrDescendingMultiplier;\n        }\n\n        if (Utils.isNullOrEmptyString(secondValue)) {\n          return 1 * ascendingOrDescendingMultiplier;\n        }\n\n        if (isNaN(firstValue) || isNaN(secondValue)) {\n          return firstValue.localeCompare(secondValue) * ascendingOrDescendingMultiplier;\n        } else {\n          return (Number(firstValue) - Number(secondValue)) * ascendingOrDescendingMultiplier;\n        }\n      });\n    }\n    return rows;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/RelevanceInspector/AvailableFieldsTable.ts","import { IQueryResult } from '../../rest/QueryResult';\nimport { parseRankingInfo, IRankingInfo, buildListOfTermsElement } from './RankingInfoParser';\nimport { $$, Dom } from '../../utils/Dom';\nimport { each } from 'underscore';\nimport { Utils } from '../../utils/Utils';\n\nexport class InlineRankingInfo {\n  private rankingInfo: IRankingInfo;\n  constructor(public result: IQueryResult) {\n    this.rankingInfo = parseRankingInfo(result.rankingInfo);\n  }\n\n  public build(): Dom {\n    const container = $$('div', {\n      className: 'coveo-relevance-inspector-inline-ranking'\n    });\n\n    each(this.rankingInfo.documentWeights, (value: any, key: string) => {\n      const section = $$('div', { className: 'coveo-relevance-inspector-inline-ranking-section' }, `${key}: ${value}`);\n      container.append(section.el);\n    });\n\n    const total = $$(\n      'div',\n      { className: 'coveo-relevance-inspector-highlight coveo-relevance-inspector-inline-ranking-section' },\n      `Total: ${this.rankingInfo.totalWeight}`\n    );\n    container.append(total.el);\n\n    if (this.rankingInfo.termsWeight) {\n      this.buildTogglableTermsSection(container);\n    }\n\n    if (Utils.isNonEmptyArray(this.rankingInfo.qreWeights)) {\n      this.buildTogglableQRESection(container);\n    }\n\n    return container;\n  }\n\n  private buildTogglableTermsSection(container: Dom) {\n    const termsButton = $$(\n      'button',\n      { className: 'coveo-button coveo-relevance-inspector-inline-ranking-button', type: 'button' },\n      'Toggle Terms Relevancy Breakdown'\n    );\n    container.append(termsButton.el);\n\n    const termsSection = $$('div', { className: 'coveo-relevance-inspector-inline-ranking-terms' });\n\n    container.append(termsSection.el);\n    each(this.rankingInfo.termsWeight || {}, (value, key) => {\n      const builtKey = `Keyword: ${key}`;\n      termsSection.append($$('h2', undefined, builtKey).el);\n      termsSection.append(buildListOfTermsElement(value.Weights).el);\n    });\n\n    termsButton.on('click', () => termsSection.toggleClass('coveo-active'));\n  }\n\n  private buildTogglableQRESection(container: Dom) {\n    const qreButton = $$(\n      'button',\n      { className: 'coveo-button coveo-relevance-inspector-inline-ranking-button', type: 'button' },\n      'Toggle QRE Breakdown'\n    );\n    container.append(qreButton.el);\n    const qreSection = $$('ul', { className: 'coveo-relevance-inspector-inline-ranking-terms' });\n\n    container.append(qreSection.el);\n    each(this.rankingInfo.qreWeights, value => {\n      qreSection.append($$('dd', { className: 'coveo-relevance-inspector-inline-ranking-qre-expression' }, `${value.expression}`).el);\n      qreSection.append($$('dt', undefined, `Score: ${value.score}`).el);\n    });\n\n    qreButton.on('click', () => qreSection.toggleClass('coveo-active'));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ui/RelevanceInspector/InlineRankingInfo.ts"],"sourceRoot":""}