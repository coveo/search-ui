webpackJsonpCoveo__temporary([36],{14:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=function(){function e(){}return e.addClassToSVGInContainer=function(t,r){var n=t.querySelector("svg");n.setAttribute("class",""+e.getClass(n)+r)},e.removeClassFromSVGInContainer=function(t,r){var n=t.querySelector("svg");n.setAttribute("class",e.getClass(n).replace(r,""))},e.addStyleToSVGInContainer=function(e,t){var r=e.querySelector("svg");n.each(t,function(e,t){r.style[t]=e})},e.getClass=function(e){var t=e.getAttribute("class");return t?t+" ":""},e}();t.SVGDom=o},183:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),s=r(7),i=r(21),u=r(10),a=r(16),l=r(12),c=r(12),p=r(9),g=r(1),d=r(5),h=r(8),f=r(2),m=r(20),y=r(3),P=r(13),v=r(14);r(397);var b=function(e){function t(r,n,o){var i=e.call(this,r,t.ID,o)||this;return i.element=r,i.options=n,i.listenToQueryStateChange=!0,i.ignoreNextQuerySuccess=!1,i.needToReset=!0,i.options=s.ComponentOptions.initComponentOptions(r,t,n),i.currentPage=1,i.bind.onRootElement(u.QueryEvents.newQuery,function(e){return i.handleNewQuery(e)}),i.bind.onRootElement(u.QueryEvents.buildingQuery,function(e){return i.handleBuildingQuery(e)}),i.bind.onRootElement(u.QueryEvents.doneBuildingQuery,function(e){return i.handleDoneBuildingQuery(e)}),i.bind.onRootElement(u.QueryEvents.querySuccess,function(e){return i.handleQuerySuccess(e)}),i.bind.onRootElement(u.QueryEvents.queryError,function(){return i.handleQueryError()}),i.bind.onRootElement(u.QueryEvents.noResults,function(e){return i.handleNoResults(e)}),i.bind.onQueryState(a.MODEL_EVENTS.CHANGE_ONE,c.QUERY_STATE_ATTRIBUTES.FIRST,function(e){return i.handleQueryStateModelChanged(e)}),i.list=document.createElement("ul"),f.$$(i.list).addClass("coveo-pager-list"),r.appendChild(i.list),i}return n(t,e),t.prototype.setPage=function(e,t){void 0===t&&(t=p.analyticsActionCauseList.pagerNumber),d.Assert.exists(e),this.currentPage=Math.max(Math.min(e,this.getMaxNumberOfPagesForCurrentResultsPerPage()),1),this.updateQueryStateModel(this.getFirstResultNumber(this.currentPage)),this.usageAnalytics.logCustomEvent(t,{pagerNumber:this.currentPage},this.element),this.queryController.executeQuery({ignoreWarningSearchEvent:!0,keepLastSearchUid:!0,origin:this})},t.prototype.previousPage=function(){this.setPage(this.currentPage-1,p.analyticsActionCauseList.pagerPrevious)},t.prototype.nextPage=function(){this.setPage(this.currentPage+1,p.analyticsActionCauseList.pagerNext)},t.prototype.getMaxNumberOfPagesForCurrentResultsPerPage=function(){return Math.ceil(this.options.maximumNumberOfResultsFromIndex/this.getNumberOfResultsPerPage())},t.prototype.handleNewQuery=function(e){var r=e&&e.origin&&e.origin.type==t.ID;this.needToReset&&!r&&(this.currentPage=1,this.updateQueryStateModel(this.getFirstResultNumber(this.currentPage))),this.needToReset=!0},t.prototype.updateQueryStateModel=function(e){this.listenToQueryStateChange=!1,this.queryStateModel.set(l.QueryStateModel.attributesEnum.first,e),this.listenToQueryStateChange=!0},t.prototype.handleQueryError=function(){this.reset()},t.prototype.handleQuerySuccess=function(e){var t=this;if(this.reset(),this.ignoreNextQuerySuccess)this.ignoreNextQuerySuccess=!1;else{d.Assert.isNotUndefined(e);var r=e.query.firstResult,n=e.results.totalCountFiltered,o=this.computePagerBoundary(r,n);if(this.currentPage=o.currentPage,o.end-o.start>0){for(var s=this,i=o.start;i<=o.end;i++)!function(e){var r=document.createElement("a");f.$$(r).addClass(["coveo-pager-list-item-text","coveo-pager-anchor"]),f.$$(r).text(e.toString(10));var n=f.$$("li",{className:"coveo-pager-list-item",tabindex:0}).el;e==s.currentPage&&f.$$(n).addClass("coveo-active"),function(e){var r=function(){return t.handleClickPage(e)};f.$$(n).on("click",r),f.$$(n).on("keyup",m.KeyboardUtils.keypressAction(m.KEYBOARD.ENTER,r))}(e),n.appendChild(r),s.list.appendChild(n)}(i);this.options.enableNavigationButton&&o.lastResultPage>1&&this.renderNavigationButton(o,this.list)}}},t.prototype.handleNoResults=function(e){var t;if(e.results.totalCount>0){var r=this.computePagerBoundary(e.results.totalCountFiltered,e.results.totalCount).lastResultPage;this.currentPage>r&&(t=r)}else this.currentPage>this.getMaxNumberOfPagesForCurrentResultsPerPage()&&(t=this.getMaxNumberOfPagesForCurrentResultsPerPage());null!=t&&(this.currentPage=t,e.retryTheQuery=!0,this.needToReset=!1,this.ignoreNextQuerySuccess=!1,this.updateQueryStateModel(this.getFirstResultNumber(this.currentPage)))},t.prototype.reset=function(){f.$$(this.list).empty()},t.prototype.handleBuildingQuery=function(e){d.Assert.exists(e);var t=this.getQueryEventArgs();e.queryBuilder.firstResult=t.first,null==e.queryBuilder.numberOfResults&&(e.queryBuilder.numberOfResults=t.count)},t.prototype.handleDoneBuildingQuery=function(e){this.lastNumberOfResultsPerPage=e.queryBuilder.numberOfResults},t.prototype.computePagerBoundary=function(e,t){var r=this.getNumberOfResultsPerPage(),n=Math.floor(e/r)+1,o=Math.min(Math.ceil(t/r),this.getMaxNumberOfPagesForCurrentResultsPerPage());o=Math.max(o,1);var s=Math.floor(this.options.numberOfPages/2),i=n-s;i=Math.max(i,1);var u=i+this.options.numberOfPages-1;return u=Math.min(u,o),{start:i,end:u,lastResultPage:o,currentPage:n}},t.prototype.renderNavigationButton=function(e,t){var r=this;if(this.currentPage>1){var n=document.createElement("li");f.$$(n).addClass(["coveo-pager-previous","coveo-pager-anchor","coveo-pager-list-item"]);var o=document.createElement("a"),s=f.$$("span",{className:"coveo-pager-previous-icon"},P.SVGIcons.icons.pagerLeftArrow).el;v.SVGDom.addClassToSVGInContainer(s,"coveo-pager-previous-icon-svg"),o.appendChild(s),o.setAttribute("title",h.l("Previous")),n.appendChild(o),f.$$(n).on("click",function(){return r.handleClickPrevious()}),this.list.insertBefore(n,this.list.firstChild)}if(this.currentPage<e.lastResultPage){var i=document.createElement("li");f.$$(i).addClass(["coveo-pager-next","coveo-pager-anchor","coveo-pager-list-item"]);var o=document.createElement("a"),s=f.$$("span",{className:"coveo-pager-next-icon"},P.SVGIcons.icons.pagerRightArrow).el;v.SVGDom.addClassToSVGInContainer(s,"coveo-pager-next-icon-svg"),o.appendChild(s),o.setAttribute("title",h.l("Next")),i.appendChild(o),f.$$(i).on("click",function(){return r.handleClickNext()}),this.list.appendChild(i)}},t.prototype.handleQueryStateModelChanged=function(e){if(this.listenToQueryStateChange){d.Assert.exists(e),this.needToReset=!1;var t=e.value;this.currentPage=this.fromFirstResultsToPageNumber(t)}},t.prototype.handleClickPage=function(e){d.Assert.exists(e),this.setPage(e)},t.prototype.handleClickPrevious=function(){this.previousPage()},t.prototype.handleClickNext=function(){this.nextPage()},t.prototype.fromFirstResultsToPageNumber=function(e){return e/this.getNumberOfResultsPerPage()+1},t.prototype.getNumberOfResultsPerPage=function(){return null!=this.lastNumberOfResultsPerPage?this.lastNumberOfResultsPerPage:0==this.queryController.options.resultsPerPage?10:this.queryController.options.resultsPerPage},t.prototype.getFirstResultNumber=function(e){return void 0===e&&(e=this.currentPage),(e-1)*this.getNumberOfResultsPerPage()},t.prototype.getQueryEventArgs=function(){return{count:this.getNumberOfResultsPerPage(),first:this.getFirstResultNumber()}},t.ID="Pager",t.doExport=function(){y.exportGlobally({Pager:t})},t.options={numberOfPages:s.ComponentOptions.buildNumberOption({defaultFunction:function(){return i.DeviceUtils.isMobileDevice()?3:5},min:1}),enableNavigationButton:s.ComponentOptions.buildBooleanOption({defaultValue:!0}),maxNumberOfPages:s.ComponentOptions.buildNumberOption({defaultValue:void 0,deprecated:"This is a deprecated option. The pager will automatically adapt itself on each new query. You no longer need to specify this option. Use maximumNumberOfResultsFromIndex instead."}),maximumNumberOfResultsFromIndex:s.ComponentOptions.buildNumberOption({defaultValue:1e3})},t}(o.Component);t.Pager=b,g.Initialization.registerAutoCreateComponent(b)},397:function(e,t){}});