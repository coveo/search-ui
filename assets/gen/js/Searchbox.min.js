webpackJsonpCoveo__temporary([5,11,19,37],{21:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t}();i.search=n(465),i.more=n(463),i.loading=n(461),i.checkboxHookExclusionMore=n(450),i.arrowUp=n(448),i.arrowDown=n(447),i.mainClear=n(462),i.orAnd=n(464),i.sort=n(466),i.ascending=n(449),i.descending=n(451),i.dropdownMore=n(456),i.dropdownLess=n(455),i.facetCollapse=n(459),i.facetExpand=n(460),i.dropdownShareQuery=n(458),i.dropdownPreferences=n(457),i.dropdownAuthenticate=n(452),i.dropdownExport=n(453),i.dropdownFollowQuery=n(454),e.SVGIcons=i},250:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var s=n(8),o=n(5),r=n(3),a=n(10),u=n(12),l=n(2),c=n(4),p=n(21),h=n(27),g=function(t){function e(n,i,s){var u=t.call(this,n,e.ID,s)||this;if(u.element=n,u.options=i,r.$$(n).setAttribute("aria-label",a.l("Search")),u.bind.on(n,"click",function(){return u.handleClick()}),""==o.Utils.trim(r.$$(u.element).text())){var l=r.$$("span",{className:"coveo-search-button"},p.SVGIcons.search).el;h.SVGDom.addClassToSVGInContainer(l,"coveo-search-button-svg");var c=r.$$("span",{className:"coveo-search-button-loading"},p.SVGIcons.loading).el;h.SVGDom.addClassToSVGInContainer(c,"coveo-search-button-loading-svg"),n.appendChild(l),n.appendChild(c)}return u}return i(e,t),e.prototype.click=function(){this.handleClick()},e.prototype.handleClick=function(){this.logger.debug("Performing query following button click"),this.usageAnalytics.logSearchEvent(u.analyticsActionCauseList.searchboxSubmit,{}),this.queryController.executeQuery()},e}(s.Component);g.ID="SearchButton",g.doExport=function(){c.exportGlobally({SearchButton:g})},g.options={},e.SearchButton=g,l.Initialization.registerAutoCreateComponent(g)},27:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.addClassToSVGInContainer=function(e,n){var i=e.querySelector("svg");i.setAttribute("class",""+t.getClass(i)+n)},t.removeClassFromSVGInContainer=function(e,n){var i=e.querySelector("svg");i.setAttribute("class",t.getClass(i).replace(n,""))},t.getClass=function(t){var e=t.getAttribute("class");return e?e+" ":""},t}();e.SVGDom=i},324:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var s=n(8),o=n(81),r=n(9),a=n(250),u=n(97),l=n(3),c=n(2),p=n(1),h=n(4);n(600);var g=n(21),d=n(27),f=function(t){function e(n,i,s){var c=t.call(this,n,e.ID,s)||this;if(c.element=n,c.options=i,c.options=r.ComponentOptions.initComponentOptions(n,e,i),c.options.inline&&l.$$(n).addClass("coveo-inline"),c.options.addSearchButton){var p=document.createElement("a");c.element.appendChild(p),c.searchButton=new a.SearchButton(p,void 0,s)}var h=document.createElement("div");c.element.appendChild(h),c.options.enableOmnibox?c.searchbox=new o.Omnibox(h,c.options,s):c.searchbox=new u.Querybox(h,c.options,s);var f=l.$$(c.element).find(".magic-box-icon");return f.innerHTML=g.SVGIcons.mainClear,d.SVGDom.addClassToSVGInContainer(f,"magic-box-clear-svg"),c}return i(e,t),e}(s.Component);f.ID="Searchbox",f.parent=o.Omnibox,f.doExport=function(){h.exportGlobally({Searchbox:f,SearchButton:a.SearchButton,Omnibox:o.Omnibox,Querybox:u.Querybox})},f.options={addSearchButton:r.ComponentOptions.buildBooleanOption({defaultValue:!0}),enableOmnibox:r.ComponentOptions.buildBooleanOption({defaultValue:!0})},e.Searchbox=f,f.options=p.extend({},f.options,o.Omnibox.options,u.Querybox.options),p.each(f.options,function(t,e){e in o.Omnibox.options&&!(e in u.Querybox.options)&&(f.options[e]=p.extend({depend:"enableOmnibox"},t))}),c.Initialization.registerAutoCreateComponent(f)},397:function(t,e,n){(function(e){var n,i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};!function(t){!function(t){var e=function(){function e(t,e,n){var i=this;this.expression=e,this.input=n,_.isString(t)?this.value=t:_.isArray(t)&&(this.subResults=t,_.forEach(this.subResults,function(t){t.parent=i}))}return e.prototype.isSuccess=function(){return null!=this.value||null!=this.subResults&&_.all(this.subResults,function(t){return t.isSuccess()})},e.prototype.path=function(t){var e=null!=this.parent&&this.parent!=t?this.parent.path(t):[];return e.push(this),e},e.prototype.findParent=function(t){for(var e=this,n=_.isString(t)?function(e){return t==e.expression.id}:t;null!=e&&!n(e);)e=e.parent;return e},e.prototype.find=function(t){var e=_.isString(t)?function(e){return t==e.expression.id}:t;if(e(this))return this;if(this.subResults)for(var n=0;n<this.subResults.length;n++){var i=this.subResults[n].find(e);if(i)return i}return null},e.prototype.findAll=function(t){var e=[],n=_.isString(t)?function(e){return t==e.expression.id}:t;return n(this)&&e.push(this),this.subResults&&(e=_.reduce(this.subResults,function(t,e){return t.concat(e.findAll(n))},e)),e},e.prototype.resultAt=function(t,e){if(t<0||t>this.getLength())return[];if(null!=e){if(_.isString(e)){if(e==this.expression.id)return[this]}else if(e(this))return[this]}else{if(null!=(null==this.value&&null==this.subResults?this.input:this.value))return[this]}if(null!=this.subResults){for(var n=[],i=0;i<this.subResults.length;i++){var s=this.subResults[i];if(n=n.concat(s.resultAt(t,e)),(t-=s.getLength())<0)break}return n}return[]},e.prototype.getExpect=function(){return null==this.value&&null==this.subResults?[this]:null!=this.subResults?_.reduce(this.subResults,function(t,e){return t.concat(e.getExpect())},[]):[]},e.prototype.getBestExpect=function(){var t=this.getExpect(),e=_.groupBy(t,function(t){return t.input}),n=_.last(_.keys(e).sort(function(t,e){return e.length-t.length})),i=e[n],e=_.groupBy(i,function(t){return t.expression.id});return _.map(e,function(t){return _.chain(t).map(function(t){return{path:t.path().length,result:t}}).sortBy("path").pluck("result").first().value()})},e.prototype.getHumanReadableExpect=function(){var t=this.getBestExpect(),e=t.length>0?_.last(t).input:"";return"Expected "+_.map(t,function(t){return t.getHumanReadable()}).join(" or ")+" but "+(e.length>0?JSON.stringify(e[0]):"end of input")+" found."},e.prototype.before=function(){if(null==this.parent)return"";var t=_.indexOf(this.parent.subResults,this);return this.parent.before()+_.chain(this.parent.subResults).first(t).map(function(t){return t.toString()}).join("").value()},e.prototype.after=function(){if(null==this.parent)return"";var t=_.indexOf(this.parent.subResults,this);return _.chain(this.parent.subResults).last(this.parent.subResults.length-t-1).map(function(t){return t.toString()}).join("").value()+this.parent.after()},e.prototype.getLength=function(){return null!=this.value?this.value.length:null!=this.subResults?_.reduce(this.subResults,function(t,e){return t+e.getLength()},0):this.input.length},e.prototype.toHtmlElement=function(){var t=document.createElement("span"),e=null!=this.expression?this.expression.id:null;return null!=e&&t.setAttribute("data-id",e),t.setAttribute("data-success",this.isSuccess().toString()),null!=this.value?(t.appendChild(document.createTextNode(this.value)),t.setAttribute("data-value",this.value)):null!=this.subResults?_.each(this.subResults,function(e){t.appendChild(e.toHtmlElement())}):(t.appendChild(document.createTextNode(this.input)),t.setAttribute("data-input",this.input),t.className="magic-box-error"+(this.input.length>0?"":" magic-box-error-empty")),t.result=this,t},e.prototype.clean=function(t){if(null!=t||!this.isSuccess()){t=t||_.last(this.getBestExpect()).path(this);var n=_.first(t);if(null!=n){var i=_.indexOf(this.subResults,n),s=-1==i?[]:_.map(_.first(this.subResults,i),function(t){return t.clean()});return s.push(n.clean(_.rest(t))),new e(s,this.expression,this.input)}return new e(null,this.expression,this.input)}return null!=this.value?new e(this.value,this.expression,this.input):null!=this.subResults?new e(_.map(this.subResults,function(t){return t.clean()}),this.expression,this.input):void 0},e.prototype.clone=function(){return null!=this.value?new e(this.value,this.expression,this.input):null!=this.subResults?new e(_.map(this.subResults,function(t){return t.clone()}),this.expression,this.input):new e(null,this.expression,this.input)},e.prototype.toString=function(){return null!=this.value?this.value:null!=this.subResults?_.map(this.subResults,function(t){return t.toString()}).join(""):this.input},e.prototype.getHumanReadable=function(){return this.expression instanceof t.ExpressionConstant?JSON.stringify(this.expression.value):this.expression.id},e}();t.Result=e}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(e){function n(n){e.call(this,[n],t.ExpressionEndOfInput,n.input);var i=new t.Result(null,t.ExpressionEndOfInput,n.input.substr(n.getLength()));i.parent=this,this.subResults.push(i)}return i(n,e),n}(t.Result);t.EndOfInputResult=e}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(e){function n(t,n,i,s){var o=this;e.call(this,null!=t?[t]:null,n,i),this.result=t,this.expression=n,this.input=i,this.failAttempt=s,_.forEach(this.failAttempt,function(t){t.parent=o})}return i(n,e),n.prototype.getExpect=function(){var t=this,e=[];return null!=this.result&&(e=this.result.getExpect()),e=_.reduce(this.failAttempt,function(t,e){return t.concat(e.getExpect())},e),e.length>0&&_.all(e,function(e){return e.input==t.input})?[this]:e},n.prototype.clean=function(e){if(null!=e||!this.isSuccess()){e=_.rest(e||_.last(this.getBestExpect()).path(this));var n=_.first(e);return null==n?new t.Result(null,this.expression,this.input):new t.Result([n.clean(_.rest(e))],this.expression,this.input)}return new t.Result(_.map(this.result.subResults,function(t){return t.clean()}),this.expression,this.input)},n}(t.Result);t.OptionResult=e}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(e){function n(t,n,i,s){e.call(this,t,n,i),this.results=t,this.expression=n,this.input=i,_.last(t)!=s&&(this.failAttempt=s,null!=this.failAttempt&&(this.failAttempt.parent=this))}return i(n,e),n.prototype.getExpect=function(){var t=e.prototype.getExpect.call(this);return null!=this.failAttempt?t.concat(this.failAttempt.getExpect()):t},n.prototype.clean=function(n){if(null!=this.failAttempt&&(null!=n||!this.isSuccess())){n=n||_.last(this.getBestExpect()).path(this);var i=_.first(n);if(null!=i&&i==this.failAttempt){var s=_.last(this.subResults),o=_.map(null!=s&&s.isSuccess()?this.subResults:_.initial(this.subResults),function(t){return t.clean()});return o.push(i.clean(_.rest(n))),new t.Result(o,this.expression,this.input)}}return e.prototype.clean.call(this,n)},n}(t.Result);t.RefResult=e}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(){function e(t,e){this.value=t,this.id=e}return e.prototype.parse=function(e,n){var i=0==e.indexOf(this.value),s=new t.Result(i?this.value:null,this,e);return i&&n&&e.length>this.value.length?new t.EndOfInputResult(s):s},e.prototype.toString=function(){return this.value},e}();t.ExpressionConstant=e}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){t.ExpressionEndOfInput={id:"end of input",parse:null}}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(){function t(t,e,n){this.func=t,this.id=e,this.grammar=n}return t.prototype.parse=function(t,e){return this.func(t,e,this)},t.prototype.toString=function(){return this.id},t}();t.ExpressionFunction=e}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(){function e(t,e){if(this.parts=t,this.id=e,0==t.length)throw JSON.stringify(e)+" should have at least 1 parts"}return e.prototype.parse=function(e,n){for(var i,s=[],o=e,r=0;r<this.parts.length;r++){if(i=this.parts[r].parse(o,n&&r==this.parts.length-1),s.push(i),!i.isSuccess())break;o=o.substr(i.getLength())}return new t.Result(s,this,e)},e.prototype.toString=function(){return this.id},e}();t.ExpressionList=e}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(){function e(t,e){this.parts=t,this.id=e}return e.prototype.parse=function(e,n){for(var i=[],s=0;s<this.parts.length;s++){var o=this.parts[s].parse(e,n);if(o.isSuccess())return new t.OptionResult(o,this,e,i);i.push(o)}return new t.OptionResult(null,this,e,i)},e.prototype.toString=function(){return this.id},e}();t.ExpressionOptions=e}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(){function e(t,e,n,i){this.ref=t,this.occurrence=e,this.id=n,this.grammar=i}return e.prototype.parse=function(t,e){var n=this.grammar.getExpression(this.ref);if(null==n)throw"Expression not found:"+this.ref;return"?"==this.occurrence||null==this.occurrence?this.parseOnce(t,e,n):this.parseMany(t,e,n)},e.prototype.parseOnce=function(e,n,i){var s=i.parse(e,n),o=s.isSuccess();return o||"?"!=this.occurrence?new t.RefResult([s],this,e,o?null:s):n?0==e.length?new t.RefResult([],this,e,s):_.all(s.getBestExpect(),function(e){return e.expression==t.ExpressionEndOfInput})?new t.RefResult([new t.Result(null,t.ExpressionEndOfInput,e)],this,e,s):s:new t.RefResult([],this,e,null)},e.prototype.parseMany=function(e,n,i){var s,o,r=[],a=e;do{s=i.parse(a,!1),(o=s.isSuccess())&&(r.push(s),a=a.substr(s.getLength()))}while(o&&s.input!=a);var u=_.isNumber(this.occurrence)?this.occurrence:"+"==this.occurrence?1:0;if(r.length<u)r.push(s);else if(n)if(r.length>0){var l=_.last(r);s=i.parse(l.input,!0),s.isSuccess()?r[r.length-1]=s:(r.push(new t.Result(null,t.ExpressionEndOfInput,l.input.substr(l.getLength()))),s=i.parse(l.input.substr(l.getLength()),!0))}else if(0!=e.length){var c=new t.Result(null,t.ExpressionEndOfInput,e);return new t.RefResult([c],this,e,s)}return new t.RefResult(r,this,e,s)},e.prototype.toString=function(){return this.id},e}();t.ExpressionRef=e}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(){function e(t,e,n){this.value=t,this.id=e}return e.prototype.parse=function(e,n){var i=e.match(this.value);null!=i&&0!=i.index&&(i=null);var s=new t.Result(null!=i?i[0]:null,this,e);return s.isSuccess()&&n&&e.length>s.value.length?new t.EndOfInputResult(s):s},e.prototype.toString=function(){return this.id},e}();t.ExpressionRegExp=e}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(){function e(e,n){void 0===n&&(n={}),this.expressions={},this.start=new t.ExpressionRef(e,null,"start",this),this.addExpressions(n)}return e.prototype.addExpressions=function(t){var e=this;_.each(t,function(t,n){e.addExpression(n,t)})},e.prototype.addExpression=function(t,n){if(t in this.expressions)throw"Grammar already contain the id:"+t;this.expressions[t]=e.buildExpression(n,t,this)},e.prototype.getExpression=function(t){return this.expressions[t]},e.prototype.parse=function(t){return this.start.parse(t,!0)},e.buildExpression=function(e,n,i){if(void 0===e)throw"Invalid Expression: "+e;if(_.isString(e))return this.buildStringExpression(e,n,i);if(_.isArray(e))return new t.ExpressionOptions(_.map(e,function(e,s){return new t.ExpressionRef(e,null,n+"_"+s,i)}),n);if(_.isRegExp(e))return new t.ExpressionRegExp(e,n,i);if(_.isFunction(e))return new t.ExpressionFunction(e,n,i);throw"Invalid Expression: "+e},e.buildStringExpression=function(n,i,s){var o=e.stringMatch(n,e.spliter),r=_.map(o,function(e,n){if(e[1]){var o=e[1],r=e[3]?Number(e[3]):e[2]||null;return new t.ExpressionRef(o,r,i+"_"+n,s)}return new t.ExpressionConstant(e[4],i+"_"+n)});if(1==r.length){var a=r[0];return a.id=i,a}return new t.ExpressionList(r,i)},e.stringMatch=function(t,e){for(var n,i=[],s=new RegExp(e.source,"g");null!==(n=s.exec(t));)i.push(n);return i},e.spliter=/\[(\w+)(\*|\+|\?|\{([1-9][0-9]*)\})?\]|(.[^\[]*)/,e}();t.Grammar=e}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){var e=function(){function e(e,n,i){this.element=e,this.onchange=n,this.magicBox=i,this.hasFocus=!1,this.justPressedTab=!1,this.underlay=document.createElement("div"),this.underlay.className="magic-box-underlay",this.highlightContainer=document.createElement("span"),this.highlightContainer.className="magic-box-highlight-container",this.underlay.appendChild(this.highlightContainer),this.ghostTextContainer=document.createElement("span"),this.ghostTextContainer.className="magic-box-ghost-text",this.underlay.appendChild(this.ghostTextContainer),this.input=t.$$(e).find("input"),this.input?e.insertBefore(this.underlay,this.input):(this.input=document.createElement("input"),e.appendChild(this.underlay),e.appendChild(this.input)),this.input.spellcheck=!1,this.input.setAttribute("form","coveo-dummy-form"),this.input.setAttribute("autocomplete","off"),this.setupHandler()}return e.prototype.updateInput=function(){this.input.value!=this.result.input&&(this.input.value=this.result.input,this.hasFocus&&this.setCursor(this.getValue().length))},e.prototype.updateHighlight=function(){this.highlightContainer.innerHTML="",this.highlightContainer.appendChild(this.result.toHtmlElement())},e.prototype.updateWordCompletion=function(){this.ghostTextContainer.innerHTML="",null!=this.wordCompletion&&this.ghostTextContainer.appendChild(document.createTextNode(this.wordCompletion.substr(this.result.input.length)))},e.prototype.updateScroll=function(e){var n=this;void 0===e&&(e=!0);var i=function(){n.underlay.clientWidth<n.underlay.scrollWidth&&(n.underlay.style.visibility="hidden",n.underlay.scrollLeft=n.input.scrollLeft,n.underlay.scrollTop=n.input.scrollTop,n.underlay.style.visibility="visible"),n.updateScrollDefer=null,n.hasFocus&&n.updateScroll()};e?null==this.updateScrollDefer&&(this.updateScrollDefer=t.requestAnimationFrame(i)):i()},e.prototype.setResult=function(t,e){this.result=t,this.updateInput(),this.updateHighlight(),_.isUndefined(e)&&null!=this.wordCompletion&&0==this.wordCompletion.indexOf(this.result.input)?this.updateWordCompletion():this.setWordCompletion(e),this.updateScroll()},e.prototype.setWordCompletion=function(t){null!=t&&0!=t.toLowerCase().indexOf(this.result.input.toLowerCase())&&(t=null),this.wordCompletion=t,this.updateWordCompletion(),this.updateScroll()},e.prototype.setCursor=function(t){if(this.input.focus(),this.input.createTextRange){var e=this.input.createTextRange();e.move("character",t),e.select()}else null!=this.input.selectionStart&&(this.input.focus(),this.input.setSelectionRange(t,t))},e.prototype.getCursor=function(){return this.input.selectionStart},e.prototype.setupHandler=function(){var t=this;this.input.onblur=function(){t.hasFocus=!1,setTimeout(function(){t.hasFocus||t.onblur&&t.onblur()},300),t.updateScroll()},this.input.onfocus=function(){t.hasFocus||(t.hasFocus=!0,t.updateScroll(),t.onfocus&&t.onfocus())},this.input.onkeydown=function(e){t.keydown(e)},this.input.onkeyup=function(e){t.keyup(e)},this.input.onclick=function(){t.onchangecursor()},this.input.oncut=function(){setTimeout(function(){t.onInputChange()})},this.input.onpaste=function(){setTimeout(function(){t.onInputChange()})}},e.prototype.focus=function(){var t=this;this.hasFocus=!0,setTimeout(function(){t.input.focus(),t.setCursor(t.getValue().length)})},e.prototype.blur=function(){this.hasFocus&&this.input.blur()},e.prototype.keydown=function(e){var n=this;switch(e.keyCode||e.which){case 9:this.justPressedTab?this.blur():this.magicBox.hasSuggestions()&&e.preventDefault(),this.justPressedTab=!0;break;default:e.stopPropagation(),this.justPressedTab=!1,null==this.onkeydown||this.onkeydown(e.keyCode||e.which)?t.requestAnimationFrame(function(){n.onInputChange()}):e.preventDefault()}},e.prototype.keyup=function(t){switch(t.keyCode||t.which){case 9:this.tabPress();break;case 37:case 39:this.onchangecursor();break;default:null==this.onkeydown||this.onkeyup(t.keyCode||t.which)?this.onInputChange():t.preventDefault()}},e.prototype.tabPress=function(){null!=this.wordCompletion&&(this.input.value=this.wordCompletion),this.ontabpress&&this.ontabpress(),this.magicBox.showSuggestion()},e.prototype.onInputChange=function(){this.result.input!=this.input.value&&this.onchange(this.input.value,!1)},e.prototype.getValue=function(){return this.input.value},e.prototype.getWordCompletion=function(){return this.wordCompletion},e}();t.InputManager=e}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){var n=function(){function n(e,n){var i=this;this.element=e,this.options=_.defaults(n,{selectableClass:"magic-box-suggestion",selectedClass:"magic-box-selected"}),void 0==this.options.timeout&&(this.options.timeout=500),this.hasSuggestions=!1,t.$$(this.element).on("mouseover",function(t){i.handleMouseOver(t)}),t.$$(this.element).on("mouseout",function(t){i.handleMouseOut(t)})}return n.prototype.handleMouseOver=function(e){var n=t.$$(e.target),i=n.parents(this.options.selectableClass);n.hasClass(this.options.selectableClass)?this.addSelectedClass(n.el):i.length>0&&this.element.contains(i[0])&&this.addSelectedClass(i[0])},n.prototype.handleMouseOut=function(e){var n=t.$$(e.target),i=n.parents(this.options.selectableClass);if(e.relatedTarget){var s=t.$$(e.relatedTarget).parents(this.options.selectableClass);n.hasClass(this.options.selectedClass)&&!t.$$(e.relatedTarget).hasClass(this.options.selectableClass)?n.removeClass(this.options.selectedClass):0==s.length&&i.length>0&&t.$$(i[0]).removeClass(this.options.selectedClass)}else n.hasClass(this.options.selectedClass)?n.removeClass(this.options.selectedClass):i.length>0&&t.$$(i[0]).removeClass(this.options.selectedClass)},n.prototype.moveDown=function(){var e=this.element.getElementsByClassName(this.options.selectedClass).item(0),n=this.element.getElementsByClassName(this.options.selectableClass),i=-1;if(null!=e){t.$$(e).removeClass(this.options.selectedClass);for(var s=0;s<n.length;s++)if(e==n.item(s)){i=s;break}i=-1==i?0:i+1}else i=0;return e=n.item(i),null!=e&&t.$$(e).addClass(this.options.selectedClass),this.returnMoved(e)},n.prototype.moveUp=function(){var e=this.element.getElementsByClassName(this.options.selectedClass).item(0),n=this.element.getElementsByClassName(this.options.selectableClass),i=-1;if(null!=e){t.$$(e).removeClass(this.options.selectedClass);for(var s=0;s<n.length;s++)if(e==n.item(s)){i=s;break}i=-1==i?n.length-1:i-1}else i=n.length-1;return e=n.item(i),null!=e&&t.$$(e).addClass(this.options.selectedClass),this.returnMoved(e)},n.prototype.select=function(){var e=this.element.getElementsByClassName(this.options.selectedClass).item(0);return null!=e&&t.$$(e).trigger("keyboardSelect"),e},n.prototype.mergeSuggestions=function(t,n){var i,s=this,o=[];t=_.compact(t);var r=this.pendingSuggestion=new e(function(n,a){_.each(t,function(t){var e=!1;setTimeout(function(){e=!0},s.options.timeout),t.then(function(t){!e&&t&&(o=o.concat(t))})});var u=function(){i&&clearTimeout(i),0==o.length?n([]):r==s.pendingSuggestion||null==s.pendingSuggestion?n(o.sort(function(t,e){return e.index-t.index})):a("new request queued")};0==t.length&&u(),void 0==t&&u(),i=setTimeout(function(){u()},s.options.timeout),e.all(t).then(function(){return u()})});r.then(function(t){return n&&n(t),s.updateSuggestions(t),t}).catch(function(){return null})},n.prototype.updateSuggestions=function(e){var n=this;this.element.innerHTML="",this.element.className="magic-box-suggestions",_.each(e,function(e){var i=e.dom;if(i){t.$$(i).removeClass(n.options.selectedClass);var s=t.$$(i).find("."+n.options.selectableClass);t.$$(s).removeClass(n.options.selectedClass)}else{if(i=document.createElement("div"),i.className="magic-box-suggestion",null!=e.html)i.innerHTML=e.html;else if(null!=e.text)i.appendChild(document.createTextNode(e.text));else if(null!=e.separator){i.className="magic-box-suggestion-seperator";var o=document.createElement("div");o.className="magic-box-suggestion-seperator-label",o.appendChild(document.createTextNode(e.separator)),i.appendChild(o)}t.$$(i).on("click",function(){e.onSelect()}),t.$$(i).on("keyboardSelect",function(){e.onSelect()}),t.$$(i).addClass(n.options.selectableClass)}i.suggestion=e,n.element.appendChild(i)}),e.length>0?(t.$$(this.element).addClass("magic-box-hasSuggestion"),this.hasSuggestions=!0):(t.$$(this.element).removeClass("magic-box-hasSuggestion"),this.hasSuggestions=!1)},n.prototype.returnMoved=function(e){if(null!=e){if(e.suggestion)return e.suggestion;if(e["no-text-suggestion"])return null;if(e instanceof HTMLElement)return{text:t.$$(e).text()}}return null},n.prototype.addSelectedClass=function(e){for(var n=this.element.getElementsByClassName(this.options.selectedClass),i=0;i<n.length;i++){var s=n.item(i);t.$$(s).removeClass(this.options.selectedClass)}t.$$(e).addClass(this.options.selectedClass)},n}();t.SuggestionsManager=n}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){!function(e){function n(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function i(t,e,i,o,r){if(void 0===i&&(i=!1),void 0===o&&(o="magic-box-hightlight"),void 0===r&&(r=""),0==e.length)return t;var a=n(e),u="("+a+")|(.*?(?="+a+")|.+)",l=new RegExp(u,i?"gi":"g");return t.replace(l,function(t,e,n){return s(null!=e?o:r,t)})}var s=function(t,e){return'<span class="'+t+'">'+_.escape(e)+"</span>"};e.highlightText=i;var o=function(){function e(t){this.el=t}return e.prototype.text=function(t){return t?void(void 0!=this.el.innerText?this.el.innerText=t:void 0!=this.el.textContent&&(this.el.textContent=t)):this.el.innerText||this.el.textContent},e.prototype.nodeListToArray=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t.item(e);return n},e.prototype.empty=function(){for(;this.el.firstChild;)this.el.removeChild(this.el.firstChild)},e.prototype.show=function(){this.el.style.display="visible"},e.prototype.hide=function(){this.el.style.display="none"},e.prototype.toggle=function(t){void 0===t?"visible"==this.el.style.display?this.hide():this.show():t?this.show():this.hide()},e.prototype.find=function(t){return this.el.querySelector(t)},e.prototype.is=function(t){return this.el.tagName.toLowerCase()==t.toLowerCase()||!("."!=t[0]||!this.hasClass(t.substr(1)))||"#"==t[0]&&this.el.getAttribute("id")==t.substr(1)},e.prototype.closest=function(e){for(var n=this.el,i=!1;!i&&(t.$$(n).hasClass(e)&&(i=!0),"body"!=n.tagName.toLowerCase())&&null!=n.parentElement;)i||(n=n.parentElement);if(i)return n},e.prototype.parent=function(t){if(void 0!=this.el.parentElement)return this.traverseAncestorForClass(this.el.parentElement,t)},e.prototype.parents=function(t){for(var n=[],i=this.parent(t);i;)n.push(i),i=new e(i).parent(t);return n},e.prototype.findAll=function(t){return this.nodeListToArray(this.el.querySelectorAll(t))},e.prototype.findClass=function(t){return"getElementsByClassName"in this.el?this.nodeListToArray(this.el.getElementsByClassName(t)):this.nodeListToArray(this.el.querySelectorAll("."+t))},e.prototype.findId=function(t){return document.getElementById(t)},e.prototype.addClass=function(t){this.hasClass(t)||(this.el.className?this.el.className+=" "+t:this.el.className=t)},e.prototype.removeClass=function(t){this.el.className=this.el.className.replace(new RegExp("(^|\\s)"+t+"(\\s|\\b)","g"),"$1")},e.prototype.toggleClass=function(t,e){e?this.addClass(t):this.removeClass(t)},e.prototype.getClass=function(){return this.el.className.match(e.CLASS_NAME_REGEX)||[]},e.prototype.hasClass=function(t){return _.contains(this.getClass(),t)},e.prototype.detach=function(){this.el.parentElement&&this.el.parentElement.removeChild(this.el)},e.prototype.on=function(t,n){var i=this;if(_.isArray(t))_.each(t,function(t){i.on(t,n)});else{var s=this.getJQuery();if(s)s(this.el).on(t,n);else if(this.el.addEventListener){var o=function(t){n(t,t.detail)};e.handlers.push({eventHandle:n,fn:o}),this.el.addEventListener(t,o,!1)}else this.el.on&&this.el.on("on"+t,n)}},e.prototype.one=function(t,e){var n=this;if(_.isArray(t))_.each(t,function(t){n.one(t,e)});else{var i=function(s){return n.off(t,i),e(s)};this.on(t,i)}},e.prototype.off=function(t,n){var i=this;if(_.isArray(t))_.each(t,function(t){i.off(t,n)});else{var s=this.getJQuery();if(s)s(this.el).off(t,n);else if(this.el.removeEventListener){var o=0,r=_.find(e.handlers,function(t,e){if(t.eventHandle==n)return o=e,!0});r&&(this.el.removeEventListener(t,r.fn,!1),e.handlers.splice(o,1))}else this.el.off&&this.el.off("on"+t,n)}},e.prototype.trigger=function(t,e){var n=this.getJQuery();if(n)n(this.el).trigger(t,e);else if(void 0!==CustomEvent){var i=new CustomEvent(t,{detail:e,bubbles:!0});this.el.dispatchEvent(i)}},e.prototype.isEmpty=function(){return e.ONLY_WHITE_SPACE_REGEX.test(this.el.innerHTML)},e.prototype.isDescendant=function(t){for(var e=this.el.parentNode;null!=e;){if(e==t)return!0;e=e.parentNode}return!1},e.prototype.traverseAncestorForClass=function(e,n){void 0===e&&(e=this.el),0==n.indexOf(".")&&(n=n.substr(1));for(var i=!1;!i&&(t.$$(e).hasClass(n)&&(i=!0),"body"!=e.tagName.toLowerCase())&&null!=e.parentElement;)i||(e=e.parentElement);if(i)return e},e.prototype.getJQuery=function(){return void 0!=window.jQuery&&window.jQuery},e.CLASS_NAME_REGEX=/-?[_a-zA-Z]+[_a-zA-Z0-9-]*/g,e.ONLY_WHITE_SPACE_REGEX=/^\s*$/,e.handlers=[],e}();e.Dom=o}(t.Utils||(t.Utils={}))}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){t.$$=function(e){return window.Coveo&&window.Coveo.$$?window.Coveo.$$(e):new t.Utils.Dom(e)}}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){!function(e){function n(t,e,n,i){_.each(i.expressions,function(e){_.contains(t,e)||t.push(e)}),_.each(i.basicExpressions,function(t){_.contains(e,t)||e.push(t)}),_.each(i.grammars,function(t,e){if(e in n){if(!_.isArray(n[e])||!_.isArray(t))throw _.each(t,function(t){n[e].push(t)}),"Can not merge "+e+"("+new String(t)+" => "+new String(n[e])+")";_.each(t,function(t){n[e].push(t)})}else n[e]=t})}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];for(var i=[],s=[],o={Start:["Expressions","Empty"],Expressions:"[OptionalSpaces][Expression][ExpressionsList*][OptionalSpaces]",ExpressionsList:"[Spaces][Expression]",Expression:i,BasicExpression:s,OptionalSpaces:/ */,Spaces:/ +/,Empty:/(?!.)/},r=0;r<t.length;r++)n(i,s,o,t[r]),_.each(t[r].include,function(e){_.contains(t,e)||t.push(e)});return i.push("BasicExpression"),{start:"Start",expressions:o}}function s(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var s=i.apply(this,e);return new t.Grammar(s.start,s.expressions)}e.Expressions=i,e.ExpressionsGrammar=s}(t.Grammars||(t.Grammars={}))}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){!function(e){e.notWordStart=" ()[],$@'\"",e.notInWord=" ()[],:",e.Basic={basicExpressions:["Word","DoubleQuoted"],grammars:{DoubleQuoted:'"[NotDoubleQuote]"',NotDoubleQuote:/[^"]*/,SingleQuoted:"'[NotSingleQuote]'",NotSingleQuote:/[^']*/,Number:/[0-9]+/,Word:function(n,i,s){var o=new RegExp("[^"+e.notWordStart.replace(/(.)/g,"\\$1")+"][^"+e.notInWord.replace(/(.)/g,"\\$1")+"]*"),r=n.match(o);null!=r&&0!=r.index&&(r=null);var a=new t.Result(null!=r?r[0]:null,s,n);return a.isSuccess()&&i&&n.length>a.value.length?new t.EndOfInputResult(a):a}}}}(t.Grammars||(t.Grammars={}))}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){!function(t){t.SubExpression={basicExpressions:["SubExpression"],grammars:{SubExpression:"([Expressions])"}}}(t.Grammars||(t.Grammars={}))}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){!function(t){t.Date={grammars:{Date:"[DateYear]/[DateMonth]/[DateDay]",DateYear:/([0-9]{4})/,DateMonth:/(1[0-2]|0?[1-9])/,DateDay:/([1-2][0-9]|3[0-1]|0?[1-9])/,DateRange:"[Date][Spaces?]..[Spaces?][Date]",DateRelative:["DateRelativeNegative","DateRelativeTerm"],DateRelativeTerm:/now|today|yesterday/,DateRelativeNegative:"[DateRelativeTerm][DateRelativeNegativeRef]",DateRelativeNegativeRef:/([\-\+][0-9]+(s|m|h|d|mo|y))/},include:[t.Basic]}}(t.Grammars||(t.Grammars={}))}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){!function(t){t.Field={basicExpressions:["FieldSimpleQuery","FieldQuery","Field"],grammars:{FieldQuery:"[Field][OptionalSpaces][FieldQueryOperation]",FieldQueryOperation:["FieldQueryValue","FieldQueryNumeric"],FieldQueryValue:"[FieldOperator][OptionalSpaces][FieldValue]",FieldQueryNumeric:"[FieldOperatorNumeric][OptionalSpaces][FieldValueNumeric]",FieldSimpleQuery:"[FieldName]:[OptionalSpaces][FieldValue]",Field:"@[FieldName]",FieldName:/[a-zA-Z][a-zA-Z0-9\.\_]*/,FieldOperator:/==|=|<>/,FieldOperatorNumeric:/<=|>=|<|>/,FieldValue:["DateRange","NumberRange","DateRelative","Date","Number","FieldValueList","FieldValueString"],FieldValueNumeric:["DateRelative","Date","Number"],FieldValueString:["DoubleQuoted","FieldValueNotQuoted"],FieldValueList:"([FieldValueString][FieldValueStringList*])",FieldValueStringList:"[FieldValueSeparator][FieldValueString]",FieldValueSeparator:/ *, */,FieldValueNotQuoted:/[^ \(\),]+/,NumberRange:"[Number][Spaces?]..[Spaces?][Number]"},include:[t.Date,t.Basic]}}(t.Grammars||(t.Grammars={}))}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){!function(t){t.QueryExtension={basicExpressions:["QueryExtension"],grammars:{QueryExtension:"$[QueryExtensionName]([QueryExtensionArguments])",QueryExtensionName:/\w+/,QueryExtensionArguments:"[QueryExtensionArgumentList*][QueryExtensionArgument]",QueryExtensionArgumentList:"[QueryExtensionArgument][Spaces?],[Spaces?]",QueryExtensionArgument:"[QueryExtensionArgumentName]:[Spaces?][QueryExtensionArgumentValue]",QueryExtensionArgumentName:/\w+/,QueryExtensionArgumentValue:["SingleQuoted","Expressions"]},include:[t.Basic]}}(t.Grammars||(t.Grammars={}))}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){!function(t){t.NestedQuery={basicExpressions:["NestedQuery"],grammars:{NestedQuery:"[[NestedField][OptionalSpaces][Expressions]]",NestedField:"[[Field]]",FieldValue:["NestedQuery"]},include:[t.Field]}}(t.Grammars||(t.Grammars={}))}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){!function(t){t.Complete={include:[t.NestedQuery,t.QueryExtension,t.SubExpression,t.Field,t.Basic]}}(t.Grammars||(t.Grammars={}))}(t.MagicBox||(t.MagicBox={}))}(n||(n={}));var n;!function(t){!function(t){function e(t,e,n){return new i(t,e,n)}function n(t){return"requestAnimationFrame"in window?window.requestAnimationFrame(t):setTimeout(t)}var i=function(){function e(e,n,i){var s=this;void 0===i&&(i={}),this.element=e,this.grammar=n,this.options=i,this.lastSuggestions=[],_.isUndefined(this.options.inline)&&(this.options.inline=!1),t.$$(e).addClass("magic-box"),this.options.inline&&t.$$(e).addClass("magic-box-inline"),this.result=this.grammar.parse(""),this.displayedResult=this.result.clean(),this.clearDom=document.createElement("div"),this.clearDom.className="magic-box-clear";var o=document.createElement("div");o.className="magic-box-icon",this.clearDom.appendChild(o);var r=t.$$(e).find(".magic-box-input");r?e.insertBefore(this.clearDom,r):(r=document.createElement("div"),r.className="magic-box-input",e.appendChild(this.clearDom),e.appendChild(r)),this.inputManager=new t.InputManager(r,function(t,e){e?(s.setText(t),s.onselect&&s.onselect(s.getFirstSuggestionText())):(s.setText(t),s.showSuggestion(),s.onchange&&s.onchange())},this),this.inputManager.ontabpress=function(){s.ontabpress&&s.ontabpress()};var a=this.inputManager.getValue();a&&(this.displayedResult.input=a),this.inputManager.setResult(this.displayedResult);var u=document.createElement("div");u.className="magic-box-suggestions",this.element.appendChild(u),this.suggestionsManager=new t.SuggestionsManager(u,{selectableClass:this.options.selectableSuggestionClass,selectedClass:this.options.selectedSuggestionClass,timeout:this.options.suggestionTimeout}),this.setupHandler()}return e.prototype.getResult=function(){return this.result},e.prototype.getDisplayedResult=function(){return this.displayedResult},e.prototype.setText=function(e){t.$$(this.element).toggleClass("magic-box-notEmpty",e.length>0),this.result=this.grammar.parse(e),this.displayedResult=this.result.clean(),this.inputManager.setResult(this.displayedResult)},e.prototype.setCursor=function(t){this.inputManager.setCursor(t)},e.prototype.getCursor=function(){return this.inputManager.getCursor()},e.prototype.resultAtCursor=function(t){return this.displayedResult.resultAt(this.getCursor(),t)},e.prototype.setupHandler=function(){var e=this;this.inputManager.onblur=function(){t.$$(e.element).removeClass("magic-box-hasFocus"),e.onblur&&e.onblur(),e.options.inline||e.clearSuggestion()},this.inputManager.onfocus=function(){t.$$(e.element).addClass("magic-box-hasFocus"),e.showSuggestion(),e.onfocus&&e.onfocus()},this.inputManager.onkeydown=function(t){if(38==t||40==t)return!1;if(13==t){return null==e.suggestionsManager.select()&&e.onsubmit&&e.onsubmit(),!1}return 27==t&&(e.clearSuggestion(),e.blur()),!0},this.inputManager.onchangecursor=function(){e.showSuggestion()},this.inputManager.onkeyup=function(t){if(38==t)e.onmove&&e.onmove(),e.focusOnSuggestion(e.suggestionsManager.moveUp()),e.onchange&&e.onchange();else{if(40!=t)return!0;e.onmove&&e.onmove(),e.focusOnSuggestion(e.suggestionsManager.moveDown()),e.onchange&&e.onchange()}return!1},this.clearDom.onclick=function(){e.clear()}},e.prototype.showSuggestion=function(){var t=this;this.suggestionsManager.mergeSuggestions(null!=this.getSuggestions?this.getSuggestions():[],function(e){t.updateSuggestion(e)})},e.prototype.updateSuggestion=function(t){var e=this;this.lastSuggestions=t;var n=this.getFirstSuggestionText();this.inputManager.setWordCompletion(n&&n.text),this.onsuggestions&&this.onsuggestions(t),_.each(t,function(t){null==t.onSelect&&null!=t.text&&(t.onSelect=function(){e.setText(t.text),e.onselect&&e.onselect(t)})})},e.prototype.focus=function(){t.$$(this.element).addClass("magic-box-hasFocus"),this.inputManager.focus()},e.prototype.blur=function(){this.inputManager.blur()},e.prototype.clearSuggestion=function(){var t=this;this.suggestionsManager.mergeSuggestions([],function(e){t.updateSuggestion(e)}),this.inputManager.setWordCompletion(null)},e.prototype.focusOnSuggestion=function(t){null==t||null==t.text?(t=this.getFirstSuggestionText(),this.inputManager.setResult(this.displayedResult,t&&t.text)):this.inputManager.setResult(this.grammar.parse(t.text).clean(),t.text)},e.prototype.getFirstSuggestionText=function(){return _.find(this.lastSuggestions,function(t){return null!=t.text})},e.prototype.getText=function(){return this.inputManager.getValue()},e.prototype.getWordCompletion=function(){return this.inputManager.getWordCompletion()},e.prototype.clear=function(){this.setText(""),this.showSuggestion(),this.focus(),this.onclear&&this.onclear()},e.prototype.hasSuggestions=function(){return this.suggestionsManager.hasSuggestions},e}();t.Instance=i,t.create=e,t.requestAnimationFrame=n}(t.MagicBox||(t.MagicBox={}))}(n||(n={})),t.exports=n.MagicBox}).call(e,n(6))},399:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),s=function(){function t(t){this.options=t}return t.prototype.addParameters=function(t,e){this.options.enableWildcards&&(t.enableWildcards=!0),this.options.enableQuestionMarks&&(t.enableQuestionMarks=!0),this.options.enableLowercaseOperators&&(t.enableLowercaseOperators=!0),i.isEmpty(e)||(t.enableQuerySyntax=this.options.enableQuerySyntax,t.expression.add(e),this.options.enablePartialMatch&&(t.enablePartialMatch=this.options.enablePartialMatch,this.options.partialMatchKeywords&&(t.partialMatchKeywords=this.options.partialMatchKeywords),this.options.partialMatchThreshold&&(t.partialMatchThreshold=this.options.partialMatchThreshold)))},t}();e.QueryboxQueryParameters=s},447:function(t,e){t.exports='<svg enable-background="new 0 0 10 6" viewBox="0 0 10 6" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="m5 5.932c-.222 0-.443-.084-.612-.253l-4.134-4.134c-.338-.338-.338-.886 0-1.224s.886-.338 1.224 0l3.522 3.521 3.523-3.521c.336-.338.886-.338 1.224 0s .337.886-.001 1.224l-4.135 4.134c-.168.169-.39.253-.611.253z"></path></g></svg>'},448:function(t,e){t.exports='<svg enable-background="new 0 0 10 6" viewBox="0 0 10 6" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="m5 .068c.222 0 .443.084.612.253l4.134 4.134c.338.338.338.886 0 1.224s-.886.338-1.224 0l-3.522-3.521-3.523 3.521c-.336.338-.886.338-1.224 0s-.337-.886.001-1.224l4.134-4.134c.168-.169.39-.253.612-.253z"></path></g></svg>'},449:function(t,e){t.exports='<svg enable-background="new 0 0 15 12" viewBox="0 0 15 12" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path class="coveo-active-shape-svg" d="m10.936 2.021 0 0c0 .549-.452.998-1.004.998h-1.004c-.552 0-1.004-.449-1.004-.998l0 0c0-.549.452-.998 1.004-.998h1.004c.552 0 1.004.449 1.004.998z"></path><path class="coveo-active-shape-svg" d="m12.943 5.015 0 0c0 .549-.452.998-1.004.998h-3.011c-.552 0-1.004-.449-1.004-.998l0 0c0-.549.452-.998 1.004-.998h3.011c.553 0 1.004.449 1.004.998z"></path><path class="coveo-active-shape-svg" d="m15 8.008 0 0c0 .549-.452.998-1.004.998h-5.068c-.552 0-1.004-.449-1.004-.998l0 0c0-.549.452-.998 1.004-.998h5.068c.552 0 1.004.449 1.004.998z"></path><path d="m6.521 2.683-2.403-2.391c-.188-.187-.444-.292-.71-.292s-.521.105-.71.292l-2.404 2.391c-.392.39-.392 1.021 0 1.411s1.027.39 1.419 0l .691-.687v7.594c0 .55.452.999 1.004.999s1.004-.449 1.004-.998v-7.594l.691.687c.392.39 1.027.39 1.419 0s .392-1.021-.001-1.412z"></path></g></svg>'},450:function(t,e){t.exports='<svg enable-background="new 0 0 11 11" viewBox="0 0 11 11" xmlns="http://www.w3.org/2000/svg"><g class="coveo-more-svg" fill="none"><path d="m10.083 4.583h-3.666v-3.666c0-.524-.393-.917-.917-.917s-.917.393-.917.917v3.667h-3.666c-.524-.001-.917.392-.917.916s.393.917.917.917h3.667v3.667c-.001.523.392.916.916.916s.917-.393.917-.917v-3.666h3.667c.523 0 .916-.393.916-.917-.001-.524-.394-.917-.917-.917z"></path></g><g class="coveo-exclusion-svg" fill="none"><path d="m9.233 7.989-2.489-2.489 2.489-2.489c.356-.356.356-.889 0-1.244-.356-.356-.889-.356-1.244 0l-2.489 2.489-2.489-2.489c-.356-.356-.889-.356-1.244 0-.356.356-.356.889 0 1.244l2.489 2.489-2.489 2.489c-.356.356-.356.889 0 1.244.356.356.889.356 1.244 0l2.489-2.489 2.489 2.489c.356.356.889.356 1.244 0 .356-.355.356-.889 0-1.244z"></path></g><g class="coveo-hook-svg" fill="none"><path d="m10.252 2.213c-.155-.142-.354-.211-.573-.213-.215.005-.414.091-.561.24l-4.873 4.932-2.39-2.19c-.154-.144-.385-.214-.57-.214-.214.004-.415.09-.563.24-.148.147-.227.343-.222.549.005.207.093.4.249.542l2.905 2.662c.168.154.388.239.618.239h.022.003c.237-.007.457-.101.618-.266l5.362-5.428c.148-.148.228-.344.223-.551s-.093-.399-.248-.542z"></path></g></svg>'},451:function(t,e){t.exports='<svg enable-background="new 0 0 15 12" viewBox="0 0 15 12" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="m6.521 7.906c-.392-.39-1.027-.39-1.419 0l-.69.686v-7.594c0-.549-.452-.998-1.004-.998s-1.004.449-1.004.998v7.594l-.69-.686c-.392-.39-1.027-.39-1.419 0-.392.39-.392 1.021 0 1.411l2.404 2.391c.188.187.443.292.709.292s.522-.105.71-.292l2.404-2.391c.392-.391.392-1.022-.001-1.411z"></path><path class="coveo-active-shape-svg" d="m9.932 11.001h-1.004c-.552 0-1.004-.449-1.004-.998l0 0c0-.549.452-.998 1.004-.998h1.004c.552 0 1.004.449 1.004.998l0 0c0 .549-.452.998-1.004.998z"></path><path class="coveo-active-shape-svg" d="m11.94 8.007h-3.012c-.552 0-1.004-.449-1.004-.998l0 0c0-.549.452-.998 1.004-.998h3.011c.552 0 1.004.449 1.004.998l0 0c0 .549-.451.998-1.003.998z"></path><path class="coveo-active-shape-svg" d="m13.996 5.014h-5.068c-.552 0-1.004-.449-1.004-.998l0 0c0-.549.452-.998 1.004-.998h5.068c.552 0 1.004.449 1.004.998l0 0c0 .548-.452.998-1.004.998z"></path></g></svg>'},452:function(t,e){t.exports='<svg enable-background="new 0 0 12 16" viewBox="0 0 12 16" xmlns="http://www.w3.org/2000/svg"><g class="coveo-dropdown-authenticate-svg" fill="none"><path d="m10 5h-8c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2m0 1.5c.3 0 .5.2.5.5v5c0 .3-.2.5-.5.5h-8c-.3 0-.5-.2-.5-.5v-5c0-.3.2-.5.5-.5z"></path><path d="m10 5h-1.6v-1.1c0-1.3-1.1-2.4-2.4-2.4s-2.4 1.1-2.4 2.4v1.1h-1.6v-1.1c0-2.1 1.8-3.9 4-3.9s4 1.8 4 3.9z"></path></g><g class="coveo-dropdown-authenticate-hover-svg" fill="none"><path class="coveo-active-shape-svg" d="m10 7h-8c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2m0 1.5c.3 0 .5.2.5.5v5c0 .3-.2.5-.5.5h-8c-.3 0-.5-.2-.5-.5v-5c0-.3.2-.5.5-.5z"></path><path d="m5.1.1c-1.8.4-3.1 2.1-3.1 4v2.9h1.6v-3.1c0-1.7 1.8-3 3.6-2.1.8.4 1.2 1.3 1.2 2.2v.6c0 .4.4.8.8.8s.8-.4.8-.8v-.7c0-2.4-2.3-4.4-4.9-3.8z"></path></g></svg>'},453:function(t,e){t.exports='<svg enable-background="new 0 0 14 14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor" transform="matrix(0 1 -1 0 20 0)"><path d="m7.699 8.591 1.05 1.05c.49.49 1.05 0 1.05 0s .49-.56 0-1.05l-2.31-2.381c-.28-.28-.7-.28-.98 0l-2.309 2.451c-.49.49 0 .98 0 .98s.56.49 1.05 0l1.05-1.05v7.91c0 .42.35.7.7.7s.7-.35.7-.7z"></path><path class="coveo-active-shape-svg" d="m10.5 12.301h2.033l.065 6.301h-11.198v-6.301h2.1c.386 0 .7-.314.7-.7l0 0c0-.386-.314-.7-.7-.7h-2.806c-.383-.001-.694.31-.694.694v7.706c0 .385.318.699.694.699h12.607c.384 0 .699-.315.699-.699v-7.7c0-.386-.316-.699-.694-.699h-2.806c-.386 0-.7.314-.7.7l0 0c0 .385.314.699.7.699z"></path></g></svg>'},454:function(t,e){t.exports='<svg enable-background="new 0 0 15 12" viewBox="0 0 15 12" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="m9.224 11.999c-.198 0-.496-.103-.694-.308-.397-.411-.397-1.025 0-1.436l3.965-4.409-3.966-4.102c-.397-.411-.397-1.025 0-1.436s.991-.411 1.388 0l4.859 4.922c.298.308.298.718 0 1.025l-4.859 5.435c-.198.206-.496.309-.693.309"></path><path class="coveo-active-shape-svg" d="m4.958.411c-.397-.411-.991-.411-1.388 0s-.397 1.025 0 1.436l2.973 2.974h-5.552c-.594 0-.991.41-.991 1.025s.397 1.025.991 1.025h5.651l-3.074 3.384c-.397.411-.397 1.025 0 1.436.199.206.398.309.695.309.298 0 .495-.103.694-.308l4.859-5.333c.298-.308.298-.718 0-1.025z"></path></g></svg>'},455:function(t,e){t.exports='<svg enable-background="new 0 0 16 16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path class="coveo-active-shape-svg" d="m14 2v12h-11.999v-12zm1.306-2h-14.607c-.386 0-.699.318-.699.694v14.607c0 .384.315.699.699.699h14.602c.385 0 .699-.316.699-.694v-14.612c0-.383-.311-.694-.694-.694z"></path><path d="m10.969 9.055h-5.939c-.569 0-1.032-.448-1.032-1s .462-1 1.032-1h5.938c.57 0 1.032.448 1.032 1 .001.552-.46 1-1.031 1"></path></g></svg>'},456:function(t,e){t.exports='<svg enable-background="new 0 0 16 16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path class="coveo-active-shape-svg" d="m14 2v12h-12v-12zm1.306-2h-14.607c-.386 0-.699.318-.699.694v14.607c0 .384.315.699.699.699h14.602c.385 0 .699-.316.699-.694v-14.612c0-.383-.311-.694-.694-.694z"></path><path d="m10.969 7.055h-1.97v-1.968c0-.571-.448-1.032-1-1.032s-1 .462-1 1.032v1.969h-1.969c-.57 0-1.032.448-1.032 1s .463 1 1.032 1h1.97v1.969c0 .57.448 1.032 1 1.032s1-.463 1-1.032v-1.97h1.969c.571 0 1.032-.448 1.032-1 .001-.552-.462-1-1.032-1z"></path></g></svg>'},457:function(t,e){t.exports='<svg enable-background="new 0 0 22 22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path class="coveo-active-shape-svg" d="m12.989 21.947h-3.978c-.752 0-1.388-.557-1.48-1.295l-.298-2.075c-.309-.154-.611-.33-.905-.526l-1.968.79c-.722.268-1.508-.028-1.858-.668l-1.977-3.419c-.366-.671-.207-1.47.365-1.922l1.669-1.306c-.013-.186-.019-.359-.019-.526s.006-.34.02-.526l-1.665-1.303c-.586-.462-.742-1.292-.365-1.932l1.985-3.434c.343-.633 1.136-.923 1.836-.65l1.98.796c.3-.2.6-.375.901-.527l.301-2.096c.089-.719.726-1.275 1.478-1.275h3.979c.753 0 1.39.557 1.479 1.296l.298 2.074c.31.154.611.33.905.526l1.968-.791c.721-.263 1.508.028 1.857.667l1.979 3.421c.365.671.207 1.47-.365 1.922l-1.669 1.305c.012.166.02.342.02.527s-.008.361-.02.526l1.665 1.302c.576.457.734 1.256.381 1.903l-2 3.463c-.35.636-1.146.922-1.84.649l-1.978-.794c-.301.199-.6.374-.902.526l-.3 2.095c-.088.72-.725 1.277-1.478 1.277m-3.539-2h3.1l.396-2.762.529-.217c.485-.2.964-.478 1.461-.851l.45-.337 2.585 1.038 1.554-2.688-2.198-1.718.071-.563c.035-.277.062-.555.062-.85s-.027-.572-.062-.85l-.071-.563 2.198-1.718-1.555-2.688-2.592 1.042-.452-.348c-.466-.358-.94-.633-1.451-.843l-.529-.217-.396-2.761h-3.1l-.396 2.762-.53.217c-.485.199-.962.477-1.46.85l-.451.337-2.584-1.038-1.554 2.688 2.196 1.718-.07.562c-.034.277-.061.564-.061.851s.027.573.062.852l.07.562-2.196 1.718 1.554 2.688 2.591-1.041.452.348c.465.356.939.632 1.452.843l.529.217z"></path><path d="m11 15c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4m0-6c-1.103 0-2 .897-2 2s .897 2 2 2 2-.897 2-2-.897-2-2-2"></path></g></svg>'},458:function(t,e){t.exports='<svg viewBox="0 0 18 14" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor" fill-rule="evenodd"><path class="coveo-active-shape-svg" d="m12.1 13.5c-.426 0-.771-.332-.771-.74 0-.409.346-.74.771-.74h1.862c1.374 0 2.49-1.136 2.49-2.534v-.193c0-1.144-.756-2.15-1.839-2.448l-.488-.134-.066-.484c-.132-.979-1.11-1.673-2.041-1.458l-.635.143-.253-.578c-.626-1.429-2.024-2.352-3.562-2.352-2.147 0-3.892 1.769-3.892 3.944 0 .082.002.164.007.246l.032.541-.529.192c-.986.359-1.65 1.319-1.65 2.388v.192c0 1.398 1.117 2.535 2.49 2.535h.782c.426 0 .771.332.771.74 0 .409-.346.74-.771.74h-.782c-2.224 0-4.03-1.802-4.03-4.02v-.192c0-1.496.842-2.861 2.143-3.549.097-2.908 2.496-5.243 5.432-5.243 1.968 0 3.767 1.061 4.726 2.747 1.501-.024 2.798.945 3.198 2.327 1.495.61 2.501 2.077 2.501 3.717v.193c0 2.215-1.808 4.02-4.03 4.02h-1.863"></path><path d="m9 5.234c-.098-.149-.3-.233-.511-.234-.212 0-.413.084-.561.232l-3.193 3.176c-.311.309-.312.812-.003 1.123.155.156.359.233.563.233.202 0 .406-.076.56-.231l1.822-1.813v5.485c0 .438.356.794.794.794.438 0 .794-.356.794-.794v-5.504l1.82 1.83c.309.311.812.312 1.122.002.31-.309.312-.812.002-1.123l-3.21-3.176"></path></g></svg>'},459:function(t,e){t.exports='<svg enable-background="new 0 0 16 16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path class="coveo-active-shape-svg" d="m8.01 0c-4.425 0-8.01 3.581-8.01 7.992 0 4.425 3.581 8.01 7.999 8.01l.003-.003c4.417 0 7.999-3.581 7.999-7.999 0-4.417-3.581-7.999-7.992-7.999m.002 1.5c3.58 0 6.493 2.916 6.493 6.5s-2.916 6.5-6.5 6.5h-.172c-3.506-.09-6.331-2.975-6.331-6.508 0-3.58 2.92-6.493 6.51-6.492"></path><path d="m11.04 10.27c-.192 0-.384-.073-.53-.22l-2.51-2.51-2.51 2.51c-.293.293-.768.293-1.061 0s-.293-.768 0-1.061l3.041-3.04c.141-.14.332-.219.53-.219l0 0c .199 0 .39.079.53.22l3.04 3.041c.293.293.293.768 0 1.061-.146.145-.337.218-.53.218z"></path></g></svg>'},460:function(t,e){t.exports='<svg enable-background="new 0 0 16 16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path class="coveo-active-shape-svg" d="m7.991 16.002c4.425 0 8.01-3.581 8.01-7.992 0-4.425-3.581-8.01-7.999-8.01l-.003.003c-4.417 0-7.999 3.581-7.999 7.999 0 4.417 3.581 7.999 7.992 7.999m-.002-1.5c-3.58 0-6.493-2.916-6.493-6.5s2.916-6.5 6.5-6.5h.172c3.506.09 6.331 2.975 6.331 6.508 0 3.58-2.92 6.493-6.51 6.493"></path><path d="m4.961 5.732c.192 0 .384.073.53.22l2.51 2.51 2.51-2.51c.293-.293.768-.293 1.061 0s .293.768 0 1.061l-3.041 3.04c-.141.14-.332.219-.53.219l0 0c-.199 0-.39-.079-.53-.22l-3.04-3.041c-.293-.293-.293-.768 0-1.061.146-.145.337-.218.53-.218z"></path></g></svg>'},461:function(t,e){t.exports='<svg enable-background="new 0 0 18 18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="m16.76 8.051c-.448 0-.855-.303-.969-.757-.78-3.117-3.573-5.294-6.791-5.294s-6.01 2.177-6.79 5.294c-.134.537-.679.861-1.213.727-.536-.134-.861-.677-.728-1.212 1.004-4.009 4.594-6.809 8.731-6.809 4.138 0 7.728 2.8 8.73 6.809.135.536-.191 1.079-.727 1.213-.081.02-.162.029-.243.029z"></path><path d="m9 18c-4.238 0-7.943-3.007-8.809-7.149-.113-.541.234-1.071.774-1.184.541-.112 1.071.232 1.184.773.674 3.222 3.555 5.56 6.851 5.56s6.178-2.338 6.852-5.56c.113-.539.634-.892 1.184-.773.54.112.887.643.773 1.184-.866 4.142-4.57 7.149-8.809 7.149z"></path></g></svg>'},462:function(t,e){t.exports='<svg enable-background="new 0 0 13 13" viewBox="0 0 13 13" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="m7.881 6.501 4.834-4.834c.38-.38.38-1.001 0-1.381s-1.001-.38-1.381 0l-4.834 4.834-4.834-4.835c-.38-.38-1.001-.38-1.381 0s-.38 1.001 0 1.381l4.834 4.834-4.834 4.834c-.38.38-.38 1.001 0 1.381s1.001.38 1.381 0l4.834-4.834 4.834 4.834c.38.38 1.001.38 1.381 0s .38-1.001 0-1.381z"></path></g></svg>'},463:function(t,e){t.exports='<svg enable-background="new 0 0 16 16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path class="coveo-more-background-svg" fill-opacity="0" d="m8.03.819c3.987 0 7.227 3.222 7.227 7.181s-3.239 7.181-7.227 7.181c-3.976 0-7.209-3.222-7.209-7.181s3.237-7.181 7.209-7.181"></path><path d="m0 8c0 4.416 3.572 8 7.991 8 4.425 0 8.009-3.581 8.009-8 0-4.416-3.581-8-8.009-8-4.416 0-7.991 3.581-7.991 8m8.031-6.4c3.553 0 6.441 2.872 6.441 6.4s-2.887 6.4-6.441 6.4c-3.544 0-6.425-2.872-6.425-6.4s2.885-6.4 6.425-6.4"></path><path d="m10.988 9.024c.551 0 1-.449 1-1s-.449-1-1-1-1 .449-1 1 .449 1 1 1"></path><path d="m7.991 9c .551 0 1-.449 1-1s-.449-1-1-1-1 .449-1 1 .449 1 1 1"></path><path d="m4.994 9c .551 0 1-.449 1-1s-.449-1-1-1-1 .449-1 1 .449 1 1 1"></path></g></svg>'},464:function(t,e){t.exports='<svg enable-background="new 0 0 18 18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path class="coveo-and-svg" d="m13.769 5.294h-1.063v-1.063c0-2.329-1.894-4.231-4.231-4.231h-4.244c-2.329 0-4.231 1.894-4.231 4.231v4.244c0 2.329 1.894 4.231 4.231 4.231h1.063v1.063c0 2.329 1.894 4.231 4.231 4.231h4.244c2.329 0 4.231-1.894 4.231-4.231v-4.244c0-2.329-1.894-4.231-4.231-4.231zm2.731 8.475c0 1.506-1.225 2.731-2.731 2.731h-4.244c-1.506 0-2.731-1.225-2.731-2.731v-2.563h-2.563c-1.506 0-2.731-1.225-2.731-2.731v-4.244c0-1.506 1.225-2.731 2.731-2.731h4.244c1.506 0 2.731 1.225 2.731 2.731v2.563h2.563c1.506 0 2.731 1.225 2.731 2.731z"></path><path class="coveo-or-svg" d="m11.206 6.794v1.909c0 1.38-1.123 2.503-2.503 2.503h-1.909v-1.909c0-1.38 1.123-2.503 2.503-2.503zm1.5-1.5h-3.409c-2.209 0-4.003 1.792-4.003 4.003v3.409h3.409c2.209 0 4.003-1.792 4.003-4.003z"></path></g></svg>'},465:function(t,e){t.exports='<svg enable-background="new 0 0 20 20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path class="coveo-magnifier-circle-svg" d="m8.368 16.736c-4.614 0-8.368-3.754-8.368-8.368s3.754-8.368 8.368-8.368 8.368 3.754 8.368 8.368-3.754 8.368-8.368 8.368m0-14.161c-3.195 0-5.793 2.599-5.793 5.793s2.599 5.793 5.793 5.793 5.793-2.599 5.793-5.793-2.599-5.793-5.793-5.793"></path><path d="m18.713 20c-.329 0-.659-.126-.91-.377l-4.552-4.551c-.503-.503-.503-1.318 0-1.82.503-.503 1.318-.503 1.82 0l4.552 4.551c.503.503.503 1.318 0 1.82-.252.251-.581.377-.91.377"></path></g></svg>'},466:function(t,e){t.exports='<svg enable-background="new 0 0 15 14" viewBox="0 0 15 14" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path class="coveo-active-shape-svg" d="m13.002 4.076 0 0c0 .536-.439.975-.975.975h-2.925c-.536 0-.975-.439-.975-.975l0 0c0-.536.439-.975.975-.975h2.925c.537 0 .975.438.975.975z"></path><path class="coveo-active-shape-svg" d="m13.002 9.925 0 0c0 .536-.439.975-.975.975h-2.925c-.536 0-.975-.439-.975-.975l0 0c0-.536.439-.975.975-.975h2.925c.537 0 .975.439.975.975z"></path><path class="coveo-active-shape-svg" d="m15 7 0 0c0 .536-.439.975-.975.975h-4.923c-.536 0-.974-.438-.974-.975l0 0c0-.536.439-.975.975-.975h4.923c.535.001.974.439.974.975z"></path><path d="m4.956 9.837-.671.671v-7.015l.671.671c.381.381.997.381 1.379 0 .381-.38.381-.997 0-1.379l-2.335-2.336c-.183-.184-.431-.286-.69-.286s-.506.102-.689.286l-2.335 2.336c-.381.381-.381.997 0 1.379s.997.381 1.379 0l .671-.671v7.015l-.671-.671c-.381-.381-.997-.381-1.379 0-.381.38-.381.997 0 1.379l2.335 2.336c.182.183.431.286.689.286s.506-.103.69-.287l2.335-2.336c.381-.381.381-.997 0-1.379-.382-.381-.998-.381-1.379.001z"></path></g></svg>'},478:function(t,e){},484:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(81),s=n(33),o=n(1),r=function(){function e(t){var e=this;this.omnibox=t,this.cache={},this.omnibox.bind.on(this.omnibox.element,s.OmniboxEvents.populateOmniboxSuggestions,function(t){t.suggestions.push(e.getSuggestion())})}return e.prototype.getSuggestion=function(){var t=this,e=this.getHash();if(null==e)return null;var n=this.hashToString(e);if(null!=this.cache[n])return this.hashValueToSuggestion(e,this.cache[n]);var i;return"FieldName"==e.type&&(i=this.fieldNames(e.current)),"FieldValue"==e.type&&(i=this.fieldValues(e.field,e.current)),"SimpleFieldName"==e.type&&(i=this.simpleFieldNames(e.current)),this.cache[n]=i,i.catch(function(){delete t.cache[n]}),this.hashValueToSuggestion(e,i)},e.prototype.getHash=function(){var t=o.last(this.omnibox.resultAtCursor("FieldName"));if(null!=t){t=t.findParent("Field")||t;var e=t.toString(),n=t.before(),i=t.after();return{type:"FieldName",current:e,before:n,after:i}}var s=o.last(this.omnibox.resultAtCursor("FieldValue"));if(s){var r=s.findParent("FieldQuery")||this.omnibox.options.enableSimpleFieldAddon&&s.findParent("FieldSimpleQuery");if(r){var a=r.find("FieldName").toString();this.omnibox.options.fieldAlias&&a in this.omnibox.options.fieldAlias&&(a=this.omnibox.options.fieldAlias[a]);var u=s.toString(),n=s.before(),i=s.after();return{type:"FieldValue",field:a,current:u,before:n,after:i}}}if(this.omnibox.options.enableSimpleFieldAddon){var l=o.last(this.omnibox.resultAtCursor("Word"));if(null!=l){var e=l.toString(),n=l.before(),i=l.after();return{type:"SimpleFieldName",current:e,before:n,after:i}}}},e.prototype.hashToString=function(t){return null==t?null:t.type+t.current+(t.field||"")},e.prototype.hashValueToSuggestion=function(t,n){return n.then(function(n){return o.map(n,function(s,o){return{text:t.before+(0==t.current.toLowerCase().indexOf(s.toLowerCase())?t.current+s.substr(t.current.length):s)+t.after,html:i.MagicBox.Utils.highlightText(s,t.current,!0),index:e.INDEX-o/n.length}})})},e.prototype.getFields=function(){var e=this;return null==this.fields&&(this.fields=new t(function(t,n){if(null!=e.omnibox.options.listOfFields)t(e.omnibox.options.listOfFields);else{e.omnibox.queryController.getEndpoint().listFields().then(function(e){var n=o.chain(e).filter(function(t){return t.includeInQuery&&t.groupByField}).map(function(t){return t.name.substr(1)}).value();t(n)}).catch(function(){n()})}})),this.fields},e.prototype.fieldNames=function(t){var e=t.length>0&&"@"==t[0],n=e?t.substr(1):t,i=n.toLowerCase();return this.getFields().then(function(n){var s=o.chain(n).map(function(t){return{index:t.toLowerCase().indexOf(i),field:e?t:"@"+t}}).filter(function(e){return-1!=e.index&&e.field.length>t.length}).sortBy("index").map(function(t){return t.field}).value();return s=o.first(s,5)})},e.prototype.fieldValues=function(t,e){return this.omnibox.queryController.getEndpoint().listFieldValues({pattern:".*"+e+".*",patternType:"RegularExpression",sortCriteria:"occurrences",field:"@"+t,maximumNumberOfValues:5}).then(function(t){return o.chain(t).map(function(t){return{index:t.value.toLowerCase().indexOf(e),value:t.value}}).filter(function(t){return t.value.length>e.length}).sortBy("index").map(function(t){return t.value.replace(/ /g,"")}).value()})},e.prototype.simpleFieldNames=function(t){var e=t,n=e.toLowerCase();return this.getFields().then(function(e){var i=o.chain(e).map(function(t){return{index:t.toLowerCase().indexOf(n),field:t+":"}}).filter(function(e){return-1!=e.index&&e.field.length>t.length}).sortBy("index").map(function(t){return t.field}).value();return i=o.first(i,5)})},e}();r.INDEX=64,e.FieldAddon=r}).call(e,n(6))},485:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(33),s=n(3),o=n(5),r=n(1),a=function(){function e(t){var e=this;this.omnibox=t,this.omnibox.bind.on(this.omnibox.element,i.OmniboxEvents.populateOmniboxSuggestions,function(t){r.each(e.getSuggestion(),function(e){t.suggestions.push(e)})})}return e.prototype.getSuggestion=function(){var t=this.omnibox.magicBox.getText();if(0==t.length)return null;if(this.lastQuery==t)return this.lastSuggestions;this.lastQuery=t;var e=this.buildPopulateOmniboxEventArgs();return s.$$(this.omnibox.root).trigger(i.OmniboxEvents.populateOmnibox,e),this.lastSuggestions=this.rowsToSuggestions(e.rows)},e.prototype.getCurrentQueryExpression=function(){var t=this.omnibox.getCursor(),e=this.omnibox.getText(),n=e.length,i=t,s=t;for(" "==e[i]&&i--;i>0&&" "!=e[i];)i--;for(;s<n&&" "!=e[s];)s++;return e.substring(i,s)},e.prototype.getRegexToSearch=function(t){return null==t&&(t=this.omnibox.getText()),new RegExp(o.Utils.escapeRegexCharacter(t),"i")},e.prototype.getQueryExpressionBreakDown=function(){var t=this,e=[],n=this.omnibox.getText().split(" ");return r.each(n,function(n){e.push({word:n,regex:t.getRegexToSearch(n)})}),e},e.prototype.replace=function(t,e){this.omnibox.setText(this.omnibox.getText().replace(t,e))},e.prototype.clearCurrentExpression=function(){this.replace(this.getCurrentQueryExpression(),"")},e.prototype.insertAt=function(t,e){var n=this.omnibox.getText(),i=[n.slice(0,t),e,n.slice(t)].join("");this.omnibox.setText(i)},e.prototype.replaceCurrentExpression=function(t){this.replace(this.getCurrentQueryExpression(),t)},e.prototype.buildPopulateOmniboxEventArgs=function(){var t=this,e=this.getCurrentQueryExpression();return{rows:[],completeQueryExpression:{word:this.omnibox.getText(),regex:this.getRegexToSearch()},currentQueryExpression:{word:e,regex:this.getRegexToSearch(e)},allQueryExpressions:this.getQueryExpressionBreakDown(),cursorPosition:this.omnibox.getCursor(),clear:function(){t.omnibox.clear()},clearCurrentExpression:function(){t.clearCurrentExpression()},replace:function(e,n){t.replace(e,n)},replaceCurrentExpression:function(e){t.replaceCurrentExpression(e)},insertAt:function(e,n){t.insertAt(e,n)},closeOmnibox:function(){t.omnibox.magicBox.blur()}}},e.prototype.rowsToSuggestions=function(e){return r.map(e,function(e){return o.Utils.isNullOrUndefined(e.element)?o.Utils.isNullOrUndefined(e.deferred)?null:new t(function(t){e.deferred.then(function(e){t(null!=e.element?[{dom:e.element,index:e.zIndex}]:null)})}):new t(function(t){t([{dom:e.element,index:e.zIndex}])})})},e}();e.OldOmniboxAddon=a}).call(e,n(6))},486:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(33),s=n(81),o=n(1),r=function(){function t(t){var e=this;this.omnibox=t,this.cache={},this.omnibox.bind.on(this.omnibox.element,i.OmniboxEvents.populateOmniboxSuggestions,function(t){t.suggestions.push(e.getSuggestion())})}return t.prototype.getSuggestion=function(){var t=this,e=this.getHash(this.omnibox.magicBox);if(null==e)return null;var n=this.hashToString(e);if(null!=this.cache[n])return this.hashValueToSuggestion(e,this.cache[n]);var i="QueryExtensionName"==e.type?this.names(e.current):this.attributeNames(e.name,e.current,e.used);return this.cache[n]=i,i.catch(function(){delete t.cache[n]}),this.hashValueToSuggestion(e,i)},t.prototype.getHash=function(t){var e=o.last(t.resultAtCursor("QueryExtension"));if(null!=e){var n=e.findAll("QueryExtensionArgument"),i=o.last(t.resultAtCursor("QueryExtensionName"));if(null!=i)return{type:"QueryExtensionName",current:i.toString(),before:i.before(),after:i.after()};if(null!=(i=o.last(t.resultAtCursor("QueryExtensionArgumentName")))){var s=o.chain(n).map(function(t){var e=t.find("QueryExtensionArgumentName");return e&&e.toString()}).compact().value(),r=e.find("QueryExtensionName").toString();return{type:"QueryExtensionArgumentName",current:i.toString(),before:i.before(),after:i.after(),name:r,used:s}}}return null},t.prototype.hashToString=function(t){return null==t?null:[t.type,t.current,t.name||"",t.used?t.used.join():""].join()},t.prototype.hashValueToSuggestion=function(e,n){return n.then(function(n){return o.map(n,function(i,o){return{html:s.MagicBox.Utils.highlightText(i,e.current,!0),text:e.before+i+e.after,index:t.INDEX-o/n.length}})})},t.prototype.getExtensions=function(){return null==this.extensions&&(this.extensions=this.omnibox.queryController.getEndpoint().extensions()),this.extensions},t.prototype.names=function(t){var e=t.toLowerCase();return this.getExtensions().then(function(t){var n=o.chain(t).map(function(t){return{index:t.name.toLowerCase().indexOf(e),extension:t.name}}).filter(function(t){return-1!=t.index&&t.extension.length>e.length}).sortBy("index").pluck("extension").value();return n=o.first(n,5)})},t.prototype.attributeNames=function(t,e,n){return this.getExtensions().then(function(i){var s=o.find(i,function(e){return e.name==t});return null==s?[]:o.filter(o.difference(s.argumentNames,n),function(t){return 0==t.indexOf(e)})})},t.prototype.hash=function(){},t}();r.INDEX=62,e.QueryExtensionAddon=r},487:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),s=n(25),o=n(33),r=n(18),a=n(1),u=function(){function t(t){var e=this;this.omnibox=t,this.cache={},i.$$(this.omnibox.element).on(o.OmniboxEvents.populateOmniboxSuggestions,function(t,n){n.suggestions.push(e.getSuggestion())})}return t.suggestiontHtml=function(t){return t.highlighted.replace(/\[(.*?)\]|\{(.*?)\}|\((.*?)\)/g,function(t,e,n,s){var o="";n&&(o="coveo-omnibox-hightlight"),s&&(o="coveo-omnibox-hightlight2");var r;return r=o?i.$$("span",{className:o}):i.$$("span"),r.text(e||n||s),r.el.outerHTML})},t.isPartialMatch=function(t){var e=r.StringUtils.match(t.highlighted,/\[(.*?)\]|\{(.*?)\}|\((.*?)\)/g),n=a.find(e,function(t){return null!=t[1]});return null==n||a.every(a.last(e,a.indexOf(e,n)-e.length),function(t){return null!=t[1]})},t.prototype.getSuggestion=function(){var t=this,e=this.omnibox.magicBox.getText();if(0==e.length)return null;if(null!=this.cache[e])return this.cache[e];var n=this.getQuerySuggest(e);return this.cache[e]=n,n.catch(function(){delete t.cache[e]}),this.cache[e]},t.prototype.getQuerySuggest=function(e){var n={q:e},i=String.locale,o=this.omnibox.getBindings().componentOptionsModel.get(s.ComponentOptionsModel.attributesEnum.searchHub),r=this.omnibox.getBindings().searchInterface.options.pipeline,u=this.omnibox.options.enableSearchAsYouType,l=this.omnibox.getBindings().queryController.getLastQuery().context;return i&&(n.language=i),o&&(n.searchHub=o),r&&(n.pipeline=r),l&&(n.context=l),n.enableWordCompletion=u,this.omnibox.queryController.getEndpoint().getQuerySuggest(n).then(function(e){var n=e.completions;return a.map(n,function(e,i){return{html:t.suggestiontHtml(e),text:e.expression,index:t.INDEX-i/n.length,partial:t.isPartialMatch(e),executableConfidence:e.executableConfidence}})})},t}();u.INDEX=60,e.QuerySuggestAddon=u},600:function(t,e){},81:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var s=n(25);e.MagicBox=n(397);var o=n(8),r=n(9),a=n(11),u=n(66),l=n(16),c=n(13),p=n(12),h=n(33),g=n(3),d=n(7),f=n(13),m=n(2),x=n(97),v=n(484),y=n(486),b=n(487),S=n(485),C=n(399),E=n(84),w=n(5),A=n(19),B=n(1),O=n(4);n(478);var Q=function(t){function n(e,i,o){var p=t.call(this,e,n.ID,o)||this;p.element=e,p.options=i,p.partialQueries=[],p.lastSuggestions=[],p.movedOnce=!1,p.skipAutoSuggest=!1,p.options=r.ComponentOptions.initComponentOptions(e,n,i);var h=p.options.enableQuerySyntax;return p.options=B.extend({},p.options,p.componentOptionsModel.get(s.ComponentOptionsModel.attributesEnum.searchBox)),p.options.enableQuerySuggestAddon&&new b.QuerySuggestAddon(p),new S.OldOmniboxAddon(p),p.createMagicBox(),p.bind.onRootElement(a.QueryEvents.buildingQuery,function(t){return p.handleBuildingQuery(t)}),p.bind.onRootElement(u.StandaloneSearchInterfaceEvents.beforeRedirect,function(){return p.handleBeforeRedirect()}),p.bind.onRootElement(a.QueryEvents.querySuccess,function(){return p.handleQuerySuccess()}),p.bind.onQueryState(l.MODEL_EVENTS.CHANGE_ONE,c.QUERY_STATE_ATTRIBUTES.Q,function(t){return p.handleQueryStateChanged(t)}),p.isAutoSuggestion()&&p.bind.onRootElement(a.QueryEvents.duringQuery,function(t){return p.handleDuringQuery(t)}),p.bind.onComponentOptions(l.MODEL_EVENTS.CHANGE_ONE,s.COMPONENT_OPTIONS_ATTRIBUTES.SEARCH_BOX,function(t){null!=t.value.enableQuerySyntax?p.options.enableQuerySyntax=t.value.enableQuerySyntax:p.options.enableQuerySyntax=h,p.updateGrammar()}),p}return i(n,t),n.prototype.submit=function(){var t=this;this.magicBox.clearSuggestion(),this.updateQueryState(),this.triggerNewQuery(!1,function(){t.usageAnalytics.logSearchEvent(p.analyticsActionCauseList.searchboxSubmit,{})})},n.prototype.getText=function(){return this.magicBox.getText()},n.prototype.setText=function(t){this.magicBox.setText(t),this.updateQueryState()},n.prototype.clear=function(){this.magicBox.clear()},n.prototype.getInput=function(){return this.magicBox.element.querySelector("input")},n.prototype.getResult=function(){return this.magicBox.getResult()},n.prototype.getDisplayedResult=function(){return this.magicBox.getDisplayedResult()},n.prototype.getCursor=function(){return this.magicBox.getCursor()},n.prototype.resultAtCursor=function(t){return this.magicBox.resultAtCursor(t)},n.prototype.createGrammar=function(){var t=null;return this.options.enableQuerySyntax?(t=e.MagicBox.Grammars.Expressions(e.MagicBox.Grammars.Complete),this.options.enableFieldAddon&&new v.FieldAddon(this),null!=this.options.fieldAlias&&(this.options.listOfFields=this.options.listOfFields||[],this.options.listOfFields=this.options.listOfFields.concat(B.keys(this.options.fieldAlias))),this.options.enableQueryExtensionAddon&&new y.QueryExtensionAddon(this)):t={start:"Any",expressions:{Any:/.*/}},null!=this.options.grammar&&(t=this.options.grammar(t)),t},n.prototype.updateGrammar=function(){var t=this.createGrammar();this.magicBox.grammar=new e.MagicBox.Grammar(t.start,t.expressions),this.magicBox.setText(this.magicBox.getText())},n.prototype.createMagicBox=function(){var t=this.createGrammar();this.magicBox=e.MagicBox.create(this.element,new e.MagicBox.Grammar(t.start,t.expressions),{inline:this.options.inline,selectableSuggestionClass:"coveo-omnibox-selectable",selectedSuggestionClass:"coveo-omnibox-selected",suggestionTimeout:this.options.omniboxTimeout}),this.setupMagicBox()},n.prototype.setupMagicBox=function(){var t=this;this.magicBox.onmove=function(){t.isAutoSuggestion()&&(t.modifyEventTo=t.getOmniboxAnalyticsEventCause()),t.movedOnce=!0},this.magicBox.onfocus=function(){t.isAutoSuggestion()&&(t.skipAutoSuggest=!0)},this.magicBox.onsuggestions=function(e){w.Utils.isEmptyString(t.getText())&&(t.partialQueries=[]),t.movedOnce=!1,t.lastSuggestions=e,t.isAutoSuggestion()&&!t.skipAutoSuggest&&t.searchAsYouType()},this.options.enableSearchAsYouType&&g.$$(this.element).addClass("coveo-magicbox-search-as-you-type"),this.magicBox.onchange=function(){t.skipAutoSuggest=!1;var e=t.getText();void 0!=e&&""!=e?t.isAutoSuggestion()?t.movedOnce&&t.searchAsYouType(!0):t.options.enableSearchAsYouType&&t.searchAsYouType(!0):t.clear()},this.options.placeholder&&(this.magicBox.element.querySelector("input").placeholder=this.options.placeholder),this.magicBox.onsubmit=function(){t.magicBox.clearSuggestion(),t.updateQueryState(),t.triggerNewQuery(!1,function(){t.usageAnalytics.logSearchEvent(p.analyticsActionCauseList.searchboxSubmit,{})}),t.magicBox.blur()},this.magicBox.onselect=function(e){var n=B.indexOf(t.lastSuggestions,e),i=B.compact(B.map(t.lastSuggestions,function(t){return t.text}));t.magicBox.clearSuggestion(),t.updateQueryState(),t.isAutoSuggestion()?t.isAutoSuggestion()&&t.movedOnce?t.handleAutoSuggestionWithKeyboard(n,i):t.isAutoSuggestion()&&!t.movedOnce&&t.handleAutoSuggestionsWithMouse(n,i):(t.usageAnalytics.cancelAllPendingEvents(),t.triggerNewQuery(!1,function(){t.usageAnalytics.logSearchEvent(t.getOmniboxAnalyticsEventCause(),t.buildCustomDataForPartialQueries(n,i))})),t.isAutoSuggestion()&&(t.partialQueries=[])},this.magicBox.onblur=function(){t.options.enableSearchAsYouType&&!t.options.inline?t.setText(t.lastQuery):t.updateQueryState(),t.isAutoSuggestion()&&t.usageAnalytics.sendAllPendingEvents()},this.magicBox.onclear=function(){t.updateQueryState(),t.options.triggerQueryOnClear&&t.triggerNewQuery(!1,function(){t.usageAnalytics.logSearchEvent(p.analyticsActionCauseList.searchboxClear,{})})},this.magicBox.ontabpress=function(){t.handleTabPress()},this.magicBox.getSuggestions=function(){return t.handleSuggestions()}},n.prototype.handleAutoSuggestionWithKeyboard=function(t,e){var n=this;this.searchAsYouTypeTimeout?(this.usageAnalytics.cancelAllPendingEvents(),clearTimeout(this.searchAsYouTypeTimeout),this.searchAsYouTypeTimeout=void 0,this.triggerNewQuery(!1,function(){n.usageAnalytics.logSearchEvent(n.getOmniboxAnalyticsEventCause(),n.buildCustomDataForPartialQueries(t,e))})):(this.modifyEventTo=this.getOmniboxAnalyticsEventCause(),this.modifyCustomDataOnPending(t,e),this.usageAnalytics.sendAllPendingEvents())},n.prototype.handleAutoSuggestionsWithMouse=function(t,e){var n=this;this.searchAsYouTypeTimeout||0!=t?(this.clearSearchAsYouType(),this.usageAnalytics.cancelAllPendingEvents(),this.triggerNewQuery(!1,function(){n.usageAnalytics.logSearchEvent(n.getOmniboxAnalyticsEventCause(),n.buildCustomDataForPartialQueries(t,e))})):(this.modifyEventTo=this.getOmniboxAnalyticsEventCause(),this.modifyCustomDataOnPending(t,e),this.usageAnalytics.sendAllPendingEvents())},n.prototype.modifyCustomDataOnPending=function(t,e){var n=this.usageAnalytics.getPendingSearchEvent();if(n instanceof E.PendingSearchAsYouTypeSearchEvent){var i=this.buildCustomDataForPartialQueries(t,e);B.each(B.keys(i),function(t){n.modifyCustomData(t,i[t])})}},n.prototype.buildCustomDataForPartialQueries=function(t,e){return{partialQueries:this.cleanCustomData(this.partialQueries),suggestionRanking:t,suggestions:this.cleanCustomData(e),partialQuery:B.last(this.partialQueries)}},n.prototype.cleanCustomData=function(t,e){void 0===e&&(e=256),t=B.compact(B.filter(t,function(t,e,n){return 0===e||t!==n[e-1]})),t=B.map(t,function(t){return t.replace(/;/g,"")});var n=[];return B.reduceRight(t,function(t,i){var s=t+i.length;return s<=e&&n.push(i),s},0),t=n.reverse(),t.join(";").length>=256?this.cleanCustomData(t,e-10):t.join(";")},n.prototype.handleSuggestions=function(){var t={suggestions:[],omnibox:this};this.bind.trigger(this.element,h.OmniboxEvents.populateOmniboxSuggestions,t);var e=this.getText();return w.Utils.isNullOrEmptyString(e)||this.partialQueries.push(e),B.compact(t.suggestions)},n.prototype.handleBeforeRedirect=function(){this.updateQueryState()},n.prototype.handleBuildingQuery=function(t){var e=this;d.Assert.exists(t),d.Assert.exists(t.queryBuilder),this.updateQueryState(),this.lastQuery=this.getQuery(t.searchAsYouType);var n=this.lastQuery==this.magicBox.getDisplayedResult().input?this.magicBox.getDisplayedResult().clone():this.magicBox.grammar.parse(this.lastQuery).clean(),i={result:n};if(this.options.enableQuerySyntax){var s=i.result.findAll("FieldValueNotQuoted");if(B.each(s,function(t){return t.value='"'+t.value.replace(/"|\u00A0/g," ")+'"'}),this.options.fieldAlias){var o=i.result.findAll(function(t){return"FieldName"==t.expression.id&&t.isSuccess()});B.each(o,function(t){var n=B.find(B.keys(e.options.fieldAlias),function(e){return e.toLowerCase()==t.value.toLowerCase()});null!=n&&(t.value=e.options.fieldAlias[n])})}}this.bind.trigger(this.element,h.OmniboxEvents.omniboxPreprocessResultForQuery,i);var r=i.result.toString();new C.QueryboxQueryParameters(this.options).addParameters(t.queryBuilder,r)},n.prototype.handleTabPress=function(){this.options.enableQuerySuggestAddon?this.handleTabPressForSuggestions():this.handleTabPressForOldOmniboxAddon()},n.prototype.handleTabPressForSuggestions=function(){if(!this.options.enableSearchAsYouType){var t=B.compact(B.map(this.lastSuggestions,function(t){return t.text}));this.usageAnalytics.logCustomEvent(this.getOmniboxAnalyticsEventCause(),this.buildCustomDataForPartialQueries(0,t),this.element)}},n.prototype.handleTabPressForOldOmniboxAddon=function(){if(this.lastSuggestions&&this.lastSuggestions[0]&&this.lastSuggestions[0].dom){var t=g.$$(this.lastSuggestions[0].dom).find(".coveo-omnibox-selected"),e=g.$$(this.lastSuggestions[0].dom).find(".coveo-omnibox-selectable");t?g.$$(t).trigger("tabSelect"):e&&g.$$(e).trigger("tabSelect")}},n.prototype.triggerNewQuery=function(t,e){clearTimeout(this.searchAsYouTypeTimeout);var n=this.getQuery(t);this.shouldExecuteQuery(t)&&(this.lastQuery=n,e(),this.queryController.executeQuery({searchAsYouType:t,logInActionsHistory:!0}))},n.prototype.getQuery=function(t){var e;if(t&&null==(e=this.magicBox.getWordCompletion())&&null!=this.lastSuggestions&&this.lastSuggestions.length>0){var n=B.find(this.lastSuggestions,function(t){return null!=t.text});null!=n&&(e=n.text)}return e||this.magicBox.getText()},n.prototype.updateQueryState=function(){this.queryStateModel.set(f.QueryStateModel.attributesEnum.q,this.magicBox.getText())},n.prototype.handleQueryStateChanged=function(t){d.Assert.exists(t);var e=t.value;e!=this.magicBox.getText()&&this.magicBox.setText(e)},n.prototype.handleQuerySuccess=function(){this.isAutoSuggestion()||(this.partialQueries=[])},n.prototype.handleDuringQuery=function(t){var e=this;t.promise.then(function(){var n=e.usageAnalytics.getPendingSearchEvent();n instanceof E.PendingSearchAsYouTypeSearchEvent&&n.beforeResolve.then(function(n){t.promise.then(function(){e.modifyEventTo&&(n.modifyEventCause(e.modifyEventTo),e.modifyEventTo=null)})})})},n.prototype.searchAsYouType=function(t){var e=this;void 0===t&&(t=!1),this.clearSearchAsYouType(),this.shouldExecuteQuery(!0)&&(this.searchAsYouTypeTimeout=setTimeout(function(){if(e.suggestionShouldTriggerQuery()||t){var n=B.map(e.lastSuggestions,function(t){return t.text}),i=B.indexOf(n,e.magicBox.getWordCompletion());e.triggerNewQuery(!0,function(){e.usageAnalytics.logSearchAsYouType(p.analyticsActionCauseList.searchboxAsYouType,e.buildCustomDataForPartialQueries(i,n))}),e.clearSearchAsYouType()}},this.options.searchAsYouTypeDelay))},n.prototype.isAutoSuggestion=function(){return this.options.enableSearchAsYouType&&this.options.enableQuerySuggestAddon},n.prototype.shouldExecuteQuery=function(t){var e=this.getQuery(t);return this.lastQuery!=e&&null!=e},n.prototype.suggestionShouldTriggerQuery=function(t){if(void 0===t&&(t=this.lastSuggestions),this.shouldExecuteQuery(!0)&&t&&t[0]){var e=t[0];if(e&&void 0!=e.executableConfidence)return e.executableConfidence>=.8;if(e.text&&0==e.text.indexOf(this.magicBox.getText()))return!0}return!1},n.prototype.clearSearchAsYouType=function(){clearTimeout(this.searchAsYouTypeTimeout),this.searchAsYouTypeTimeout=void 0},n.prototype.getOmniboxAnalyticsEventCause=function(){return this.searchInterface instanceof A.StandaloneSearchInterface?p.analyticsActionCauseList.omniboxFromLink:p.analyticsActionCauseList.omniboxAnalytics},n}(o.Component);Q.ID="Omnibox",Q.doExport=function(){O.exportGlobally({Omnibox:Q,MagicBox:e.MagicBox})},Q.options={inline:r.ComponentOptions.buildBooleanOption({defaultValue:!1}),enableSearchAsYouType:r.ComponentOptions.buildBooleanOption({defaultValue:!1}),searchAsYouTypeDelay:r.ComponentOptions.buildNumberOption({defaultValue:2e3,min:0,depend:"enableSearchAsYouType"}),enableFieldAddon:r.ComponentOptions.buildBooleanOption({defaultValue:!1,depend:"enableQuerySyntax",postProcessing:function(t,e){return t&&(e.enableQuerySyntax=!0),t}}),enableSimpleFieldAddon:r.ComponentOptions.buildBooleanOption({defaultValue:!1,depend:"enableFieldAddon"}),listOfFields:r.ComponentOptions.buildFieldsOption({depend:"enableFieldAddon"}),enableQuerySuggestAddon:r.ComponentOptions.buildBooleanOption({defaultValue:!0,alias:["enableTopQueryAddon","enableRevealQuerySuggestAddon"]}),enableQueryExtensionAddon:r.ComponentOptions.buildBooleanOption({defaultValue:!1,depend:"enableQuerySyntax",postProcessing:function(t,e){return t&&(e.enableQuerySyntax=!0),t}}),placeholder:r.ComponentOptions.buildLocalizedStringOption(),omniboxTimeout:r.ComponentOptions.buildNumberOption({defaultValue:2e3,min:0}),enableQuerySyntax:r.ComponentOptions.buildBooleanOption({defaultValue:!1})},e.Omnibox=Q,Q.options=B.extend({},Q.options,x.Querybox.options),m.Initialization.registerAutoCreateComponent(Q)},97:function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var s=n(25);e.MagicBox=n(397);var o=n(2),r=n(8),a=n(9),u=n(11),l=n(16),c=n(13),p=n(66),h=n(12),g=n(3),d=n(7),f=n(399),m=n(1),x=n(4),v=function(t){function n(i,o,r){var d=t.call(this,i,n.ID,r)||this;return d.element=i,d.options=o,d.bindings=r,i instanceof HTMLInputElement&&d.logger.error("Querybox cannot be used on an HTMLInputElement"),d.options=a.ComponentOptions.initComponentOptions(i,n,o),d.options=m.extend({},d.options,d.componentOptionsModel.get(s.ComponentOptionsModel.attributesEnum.searchBox)),d.magicBox=e.MagicBox.create(i,new e.MagicBox.Grammar("Query",{Query:"[Term*][Spaces?]",Term:"[Spaces?][Word]",Spaces:/ +/,Word:/[^ ]+/}),{inline:!0}),d.bind.onRootElement(u.QueryEvents.buildingQuery,function(t){return d.handleBuildingQuery(t)}),d.bind.onRootElement(p.StandaloneSearchInterfaceEvents.beforeRedirect,function(){return d.updateQueryState()}),d.bind.onQueryState(l.MODEL_EVENTS.CHANGE_ONE,c.QUERY_STATE_ATTRIBUTES.Q,function(t){return d.handleQueryStateChanged(t)}),d.options.enableSearchAsYouType&&(g.$$(d.element).addClass("coveo-search-as-you-type"),d.magicBox.onchange=function(){d.searchAsYouType()}),d.magicBox.onsubmit=function(){d.submit()},d.magicBox.onblur=function(){d.updateQueryState()},d.magicBox.onclear=function(){d.updateQueryState(),d.options.triggerQueryOnClear&&(d.usageAnalytics.logSearchEvent(h.analyticsActionCauseList.searchboxClear,{}),d.triggerNewQuery(!1))},d}return i(n,t),n.prototype.submit=function(){this.magicBox.clearSuggestion(),this.updateQueryState(),this.usageAnalytics.logSearchEvent(h.analyticsActionCauseList.searchboxSubmit,{}),this.triggerNewQuery(!1)},n.prototype.setText=function(t){this.magicBox.setText(t),this.updateQueryState()},n.prototype.clear=function(){this.magicBox.clear()},n.prototype.getText=function(){return this.magicBox.getText()},n.prototype.getResult=function(){return this.magicBox.getResult()},n.prototype.getDisplayedResult=function(){return this.magicBox.getDisplayedResult()},n.prototype.getCursor=function(){return this.magicBox.getCursor()},n.prototype.resultAtCursor=function(t){return this.magicBox.resultAtCursor(t)},n.prototype.handleBuildingQuery=function(t){d.Assert.exists(t),d.Assert.exists(t.queryBuilder),this.updateQueryState(),this.lastQuery=this.magicBox.getText(),new f.QueryboxQueryParameters(this.options).addParameters(t.queryBuilder,this.lastQuery)},n.prototype.triggerNewQuery=function(t){clearTimeout(this.searchAsYouTypeTimeout);var e=this.magicBox.getText();this.lastQuery!=e&&null!=e&&(this.lastQuery=e,this.queryController.executeQuery({searchAsYouType:t,logInActionsHistory:!0}))},n.prototype.updateQueryState=function(){this.queryStateModel.set(c.QueryStateModel.attributesEnum.q,this.magicBox.getText())},n.prototype.handleQueryStateChanged=function(t){d.Assert.exists(t);var e=t.value;e!=this.magicBox.getText()&&this.magicBox.setText(e)},n.prototype.searchAsYouType=function(){var t=this;clearTimeout(this.searchAsYouTypeTimeout),this.searchAsYouTypeTimeout=setTimeout(function(){t.usageAnalytics.logSearchAsYouType(h.analyticsActionCauseList.searchboxAsYouType,{}),t.triggerNewQuery(!0)},this.options.searchAsYouTypeDelay)},n}(r.Component);v.ID="Querybox",v.doExport=function(){x.exportGlobally({Querybox:v,MagicBox:e.MagicBox})},v.options={enableSearchAsYouType:a.ComponentOptions.buildBooleanOption({defaultValue:!1}),searchAsYouTypeDelay:a.ComponentOptions.buildNumberOption({defaultValue:50,min:0}),enableQuerySyntax:a.ComponentOptions.buildBooleanOption({defaultValue:!1}),enableWildcards:a.ComponentOptions.buildBooleanOption({defaultValue:!1}),enableQuestionMarks:a.ComponentOptions.buildBooleanOption({defaultValue:!1}),enableLowercaseOperators:a.ComponentOptions.buildBooleanOption({defaultValue:!1,depend:"enableQuerySyntax"}),enablePartialMatch:a.ComponentOptions.buildBooleanOption({defaultValue:!1}),partialMatchKeywords:a.ComponentOptions.buildNumberOption({defaultValue:5,min:1}),partialMatchThreshold:a.ComponentOptions.buildStringOption({defaultValue:"50%"}),triggerQueryOnClear:a.ComponentOptions.buildBooleanOption({defaultValue:!0})},e.Querybox=v,o.Initialization.registerAutoCreateComponent(v)}});